wfc_test_category = {
	wfc_test_load_focus = {
		fire_only_once = yes
		cost = 0
		complete_effect = {
			ACW = {
				load_focus_tree = acw_focus
			}
			HEN = {
				load_focus_tree = hen_focus
			}
			MEH = {
				load_focus_tree = meh_focus
			}
			MMS = {
				load_focus_tree = mms_focus
			}
			TRP = {
				load_focus_tree = trp_focus
			}
		}
	}
	wfc_test_change_gov_n = {
		fire_only_once = no
		cost = 0
		complete_effect = {
			add_popularity = {
				ideology = neutrality
				popularity = 0.6
			}
			set_politics = {
				ruling_party = neutrality
			}
		}
	}
	wfc_test_change_gov_d = {
		fire_only_once = no
		cost = 0
		complete_effect = {
			add_popularity = {
				ideology = democratic
				popularity = 0.6
			}
			set_politics = {
				ruling_party = democratic
			}
		}
	}
	wfc_test_change_gov_c = {
		fire_only_once = no
		cost = 0
		complete_effect = {
			add_popularity = {
				ideology = communism
				popularity = 0.6
			}
			set_politics = {
				ruling_party = communism
			}
		}
	}
	wfc_test_change_gov_f = {
		fire_only_once = no
		cost = 0
		complete_effect = {
			add_popularity = {
				ideology = fascism
				popularity = 0.6
			}
			set_politics = {
				ruling_party = fascism
			}
		}
	}
	wfc_test_create_kgb = {
		fire_only_once = no
		cost = 0
		complete_effect = {
			create_intelligence_agency = {
				icon = GFX_intelligence_agency_logo_generic_8
				name = "KKGGBB"
			}
		}
	}
	wfc_test_add_pp_cp = {
		fire_only_once = no
		cost = 0
		available = {
			# wfc_test_char = {
			# 	is_unit_leader = yes
			# }
		}
		complete_effect = {
			add_political_power = 1000
			add_command_power = 100
		}
	}
	wfc_test_add_stability = {
		fire_only_once = no
		cost = 0
		available = {
			# wfc_test_char = {
			# 	is_unit_leader = yes
			# }
		}
		complete_effect = {
			add_stability = 0.2
		}
	}
	wfc_test_1 = {
		fire_only_once = no
		cost = 0
		available = {
			48 = {
				# OR = {
				# 	is_controlled_by = ROOT
				# 	OWNER = {
				# 		AND = {
				# 			is_puppet_of = ROOT
				# 			has_autonomy_state = autonomy_federation_subject
				# 		} 
				# 	}
				# }
				wfc_is_controlled_by_root_or_federation_subject = yes
			}
		}
		complete_effect = {
			add_political_power = 100
			48 = {
				add_core_of = ROOT
			}
		}
	}
	wfc_test_6 = {
		fire_only_once = no
		cost = 0
		visible = {
			tag = MEH
		}
		complete_effect = {
			836 = {
				create_unit = {
					division = "name = \"Mecha Division\" division_template = \"Mecha Division\" start_experience_factor = 0.3 start_equipment_factor = 1"
					owner = MEH
					prioritize_location = 4518
					allow_spawning_on_enemy_provs = yes
				}
				create_unit = {
					division = "name = \"Mecha Division\" division_template = \"Mecha Division\" start_experience_factor = 0.3 start_equipment_factor = 1"
					owner = MEH
					prioritize_location = 4518
					allow_spawning_on_enemy_provs = yes
				}
				create_unit = {
					division = "name = \"Mecha Division\" division_template = \"Mecha Division\" start_experience_factor = 0.3 start_equipment_factor = 1"
					owner = MEH
					prioritize_location = 4518
					allow_spawning_on_enemy_provs = yes
				}
				create_unit = {
					division = "name = \"Mecha Division\" division_template = \"Mecha Division\" start_experience_factor = 0.3 start_equipment_factor = 1"
					owner = MEH
					prioritize_location = 4518
					allow_spawning_on_enemy_provs = yes
				}
				create_unit = {
					division = "name = \"Mecha Division\" division_template = \"Mecha Division\" start_experience_factor = 0.3 start_equipment_factor = 1"
					owner = MEH
					prioritize_location = 4518
					allow_spawning_on_enemy_provs = yes
				}
				create_unit = {
					division = "name = \"Mecha Division\" division_template = \"Mecha Division\" start_experience_factor = 0.3 start_equipment_factor = 1"
					owner = MEH
					prioritize_location = 4518
					allow_spawning_on_enemy_provs = yes
				}
				create_unit = {
					division = "name = \"Mecha Division\" division_template = \"Mecha Division\" start_experience_factor = 0.3 start_equipment_factor = 1"
					owner = MEH
					prioritize_location = 4518
					allow_spawning_on_enemy_provs = yes
				}
				create_unit = {
					division = "name = \"Mecha Division\" division_template = \"Mecha Division\" start_experience_factor = 0.3 start_equipment_factor = 1"
					owner = MEH
					prioritize_location = 4518
					allow_spawning_on_enemy_provs = yes
				}
				create_unit = {
					division = "name = \"Mecha Division\" division_template = \"Mecha Division\" start_experience_factor = 0.3 start_equipment_factor = 1"
					owner = MEH
					prioritize_location = 4518
					allow_spawning_on_enemy_provs = yes
				}
				create_unit = {
					division = "name = \"Mecha Division\" division_template = \"Mecha Division\" start_experience_factor = 0.3 start_equipment_factor = 1"
					owner = MEH
					prioritize_location = 4518
					allow_spawning_on_enemy_provs = yes
				}
				create_unit = {
					division = "name = \"Mecha Division\" division_template = \"Mecha Division\" start_experience_factor = 0.3 start_equipment_factor = 1"
					owner = MEH
					prioritize_location = 4518
					allow_spawning_on_enemy_provs = yes
				}
				create_unit = {
					division = "name = \"Mecha Division\" division_template = \"Mecha Division\" start_experience_factor = 0.3 start_equipment_factor = 1"
					owner = MEH
					prioritize_location = 4518
					allow_spawning_on_enemy_provs = yes
				}
				create_unit = {
					division = "name = \"Mecha Division\" division_template = \"Mecha Division\" start_experience_factor = 0.3 start_equipment_factor = 1"
					owner = MEH
					prioritize_location = 4518
					allow_spawning_on_enemy_provs = yes
				}
				create_unit = {
					division = "name = \"Mecha Division\" division_template = \"Mecha Division\" start_experience_factor = 0.3 start_equipment_factor = 1"
					owner = MEH
					prioritize_location = 4518
					allow_spawning_on_enemy_provs = yes
				}
				create_unit = {
					division = "name = \"Mecha Division\" division_template = \"Mecha Division\" start_experience_factor = 0.3 start_equipment_factor = 1"
					owner = MEH
					prioritize_location = 4518
					allow_spawning_on_enemy_provs = yes
				}
				create_unit = {
					division = "name = \"Mecha Division\" division_template = \"Mecha Division\" start_experience_factor = 0.3 start_equipment_factor = 1"
					owner = MEH
					prioritize_location = 4518
					allow_spawning_on_enemy_provs = yes
				}
				create_unit = {
					division = "name = \"Mecha Division\" division_template = \"Mecha Division\" start_experience_factor = 0.3 start_equipment_factor = 1"
					owner = MEH
					prioritize_location = 4518
					allow_spawning_on_enemy_provs = yes
				}
				create_unit = {
					division = "name = \"Mecha Division\" division_template = \"Mecha Division\" start_experience_factor = 0.3 start_equipment_factor = 1"
					owner = MEH
					prioritize_location = 4518
					allow_spawning_on_enemy_provs = yes
				}
				create_unit = {
					division = "name = \"Mecha Division\" division_template = \"Mecha Division\" start_experience_factor = 0.3 start_equipment_factor = 1"
					owner = MEH
					prioritize_location = 4518
					allow_spawning_on_enemy_provs = yes
				}
				create_unit = {
					division = "name = \"Mecha Division\" division_template = \"Mecha Division\" start_experience_factor = 0.3 start_equipment_factor = 1"
					owner = MEH
					prioritize_location = 4518
					allow_spawning_on_enemy_provs = yes
				}
				create_unit = {
					division = "name = \"Mecha Division\" division_template = \"Mecha Division\" start_experience_factor = 0.3 start_equipment_factor = 1"
					owner = MEH
					prioritize_location = 4518
					allow_spawning_on_enemy_provs = yes
				}
				create_unit = {
					division = "name = \"Mecha Division\" division_template = \"Mecha Division\" start_experience_factor = 0.3 start_equipment_factor = 1"
					owner = MEH
					prioritize_location = 4518
					allow_spawning_on_enemy_provs = yes
				}
				create_unit = {
					division = "name = \"Mecha Division\" division_template = \"Mecha Division\" start_experience_factor = 0.3 start_equipment_factor = 1"
					owner = MEH
					prioritize_location = 4518
					allow_spawning_on_enemy_provs = yes
				}
				create_unit = {
					division = "name = \"Mecha Division\" division_template = \"Mecha Division\" start_experience_factor = 0.3 start_equipment_factor = 1"
					owner = MEH
					prioritize_location = 4518
					allow_spawning_on_enemy_provs = yes
				}
			}
		}
	}
	wfc_acw_war_rom = {
		fire_only_once = no
		cost = 0
		visible = {
			tag = ACW
		}
		complete_effect = {
			FRA = {
				diplomatic_relation = {
					country = ROM
					relation = guarantee
					active = no
				}
			}
			CZE = {
				diplomatic_relation = {
					country = ROM
					relation = guarantee
					active = no
				}
			}
			declare_war_on = {
				target = ROM
				type = annex_everything
			}
		}
	}
	wfc_rom_to_collaboration_government = {
		fire_only_once = no
		cost = 0
		complete_effect = {
			ROM = {
				set_variable = {
					collaboration_formed_by = 1
				}
			}
			set_autonomy = {
				target = ROM
				autonomy_state = autonomy_collaboration_government
			}
		}
	}
	wfc_annex_yug = {
		fire_only_once = no
		cost = 0
		visible = {
			tag = ACW
			country_exists = YUG
		}
		complete_effect = {
			annex_country = {
				target = YUG
				transfer_troops = yes
			}
			every_owned_state = {
				add_core_of = ROOT
			}
		}
	}
	wfc_test_12 = {
		fire_only_once = no
		cost = 0
		visible = {
			tag = ACW
		}
		complete_effect = {
			set_autonomy = {
				target = BUL
				autonomy_state = autonomy_reichsprotectorate
			}
			YUG = {
				set_country_flag = acw_federation_subject_flag
			}
			set_autonomy = {
				target = YUG
				autonomy_state = autonomy_federation_subject
			}
			ROM = {
				set_country_flag = acw_federation_subject_flag
			}
			set_autonomy = {
				target = ROM
				autonomy_state = autonomy_federation_subject
			}
		}
	}
	wfc_test_13 = {
		fire_only_once = no
		cost = 0
		visible = {
			tag = ACW
		}
		complete_effect = {
			every_other_country = {
				limit = {
					is_puppet_of = ROOT
				}
				for_each_loop = {
					array = owned_states
					delete_unit = {
						state = v
						disband = yes
					}
				}
			}
		}
	}
	wfc_test_14 = {
		fire_only_once = no
		cost = 0
		visible = {
			tag = HEN
		}
		complete_effect = {
			JAP = {
				transfer_navy = {
					target = HEN
				}
			}
		}
	}
	wfc_test_15 = {
		fire_only_once = no
		cost = 0
		visible = {
			tag = ACW
		}
		complete_effect = {
			set_temp_variable = {
				wfc_count_dokyard = 0
			}
			for_each_scope_loop = {
				array = subjects
				if = {
					limit = {
						has_autonomy_state = autonomy_federation_subject
					}
					set_temp_variable = {
						wfc_count_dokyard_2 = 0
					}
					for_each_scope_loop = {
						array = owned_states
						add_to_temp_variable = {
							wfc_count_dokyard_2 = building_level@dockyard
						}
					}
					add_offsite_building = {
						type = dockyard
						level = wfc_count_dokyard_prev_2
					}
					set_variable = {
						wfc_count_dokyard_prev_2 = wfc_count_dokyard_2
					}
					###########
					add_to_temp_variable = {
						wfc_count_dokyard = wfc_count_dokyard_2
					}
					set_temp_variable = {
						wfc_temp_var = 0
					}
					subtract_from_temp_variable = {
						wfc_temp_var = wfc_count_dokyard_2
					}
					add_offsite_building = {
						type = dockyard
						level = wfc_temp_var
					}
				}
			}
			set_temp_variable = {
				wfc_count_dokyard_temp = 0
			}
			subtract_from_temp_variable = {
				wfc_count_dokyard_temp = wfc_count_dokyard_prev
			}
			add_offsite_building = {
				type = dockyard
				level = wfc_count_dokyard_temp
			}
			set_variable = {
				wfc_count_dokyard_prev = wfc_count_dokyard
			}
			add_offsite_building = {
				type = dockyard
				level = wfc_count_dokyard
			}
		}
	}
	wfc_test_16 = {
		fire_only_once = no
		cost = 0
		visible = {
			tag = ACW
		}
		available = {
			#Bulgaria
			custom_trigger_tooltip = {
				tooltip = acw_form_bulgaria_required_states_tt
				#controls_state = 48
				48 = {
					wfc_is_controlled_by_root_or_federation_subject = yes
				}
				#controls_state = 801
				801 = {
					wfc_is_controlled_by_root_or_federation_subject = yes
				}
				#controls_state = 212
				212 = {
					wfc_is_controlled_by_root_or_federation_subject = yes
				}
				#controls_state = 211
				211 = {
					wfc_is_controlled_by_root_or_federation_subject = yes
				}
			}
		}
		complete_effect = {
			set_temp_variable = {
				country_to_initiate = BUL
			}
			wfc_instantiate_federation_subject = yes
		}
	}
	wfc_test_17 = {
		fire_only_once = no
		cost = 0
		visible = {
			tag = ACW
		}
		available = {
			48 = {
				set_temp_variable = {
					temp_var2 = state_population_k
				}
				multiply_temp_variable = {
					temp_var2 = 100
				}
			}
			has_manpower > temp_var2
		}
		complete_effect = {
			48 = {
				set_temp_variable = {
					temp_var = state_population_k
				}
				multiply_temp_variable = {
					temp_var = 1000
				}
				ROOT = {
					add_manpower = temp_var
				}
			}
		}
	}
}
