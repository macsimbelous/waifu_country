trp_cloning_category = {
	trp_develop_cloning_technology = {
		icon = decision_generic_research
		available = {
			num_of_civilian_factories_available_for_projects > 0
		}
		modifier = {
			civilian_factory_use = 1
		}
		visible = {
			NOT = {
				has_country_flag = trp_cloning_level_1
			}
		}
		ai_will_do = {
			factor = 10
		}
		fire_only_once = yes
		cost = 100
		days_remove = 180
		remove_effect = {
			set_country_flag = trp_cloning_level_1
			swap_ideas = {
				remove_idea = trp_childless_idea
				add_idea = trp_cloning_idea
			}
			#add_ideas = trp_cloning_idea
			news_event = wfc_news.3
		}
	}
	trp_cloning_decision = {
		name = trp_cloning_decision.t
		icon = decision_generic_research
		visible = {
			has_country_flag = trp_cloning_level_1
		}
		ai_will_do = {
			base = 0
			modifier = {
				has_manpower < 100000
				add = 1
			}
			modifier = {
				has_manpower < 10000
				add = 200
			}
		}
		fire_only_once = no
		cost = 150
		days_re_enable = 60
		days_remove = 30
		remove_effect = {
			add_manpower = mtth:trp_cloning_power
		}
	}
	trp_cloning_level_2_decision = {
		name = trp_cloning_level_up_decision.t
		icon = decision_generic_research
		ai_will_do = {
			factor = 1
		}
		visible = {
			has_country_flag = trp_cloning_level_1
			NOT = {
				has_country_flag = trp_cloning_level_2
			}
		}
		fire_only_once = yes
		cost = 300
		days_remove = 90
		available = {
			num_of_civilian_factories_available_for_projects > 2
		}
		modifier = {
			civilian_factory_use = 3
		}
		remove_effect = {
			set_country_flag = trp_cloning_level_2
		}
	}
	trp_cloning_level_3_decision = {
		name = trp_cloning_level_up_decision.t
		icon = decision_generic_research
		ai_will_do = {
			factor = 1
		}
		visible = {
			has_country_flag = trp_cloning_level_2
			NOT = {
				has_country_flag = trp_cloning_level_3
			}
		}
		fire_only_once = yes
		cost = 300
		days_remove = 120
		available = {
			num_of_civilian_factories_available_for_projects > 5
		}
		modifier = {
			civilian_factory_use = 6
		}
		remove_effect = {
			set_country_flag = trp_cloning_level_3
		}
	}
	trp_cloning_level_4_decision = {
		name = trp_cloning_level_up_decision.t
		icon = decision_generic_research
		ai_will_do = {
			factor = 1
		}
		visible = {
			has_country_flag = trp_cloning_level_3
			NOT = {
				has_country_flag = trp_cloning_level_4
			}
		}
		fire_only_once = yes
		cost = 300
		days_remove = 150
		available = {
			num_of_civilian_factories_available_for_projects > 8
		}
		modifier = {
			civilian_factory_use = 9
		}
		remove_effect = {
			set_country_flag = trp_cloning_level_4
		}
	}
	trp_cloning_level_5_decision = {
		name = trp_cloning_level_up_decision.t
		icon = decision_generic_research
		ai_will_do = {
			factor = 1
		}
		visible = {
			has_country_flag = trp_cloning_level_4
			NOT = {
				has_country_flag = trp_cloning_level_5
			}
		}
		fire_only_once = yes
		cost = 300
		days_remove = 180
		available = {
			num_of_civilian_factories_available_for_projects > 11
		}
		modifier = {
			civilian_factory_use = 12
		}
		remove_effect = {
			set_country_flag = trp_cloning_level_5
		}
	}
}

trp_discrediting_decisions = {
	trp_discrediting_decision = {
		name = trp_discrediting_decision.t
		#icon = onmap_recruit_operative
		visible = {
			has_wargoal_against = FROM
		}
		available = {
			#has_annex_war_goal = FROM
		}
		target_trigger = {
			FROM = {
				NOT = {
					OR = {
						is_in_faction_with = ROOT
						is_puppet_of = ROOT
					}
				}
				has_capitulated = no
			}
		}
		ai_will_do = {
			factor = 1000
		}
		fire_only_once = no
		cost = 100
		days_re_enable = 30
		#on_map_mode = map_only
		complete_effect = {
			every_country = {
				add_opinion_modifier = {
					target = FROM
					modifier = large_decrease
				}
				diplomatic_relation = {
					country = FROM
					relation = guarantee
					active = no
				}
			}
			FROM = {
				IF = {
					LIMIT = {
						has_government = fascism
					}
					add_timed_idea = {
						idea = fascism_discrediting
						days = 180
					}
				}
				IF = {
					LIMIT = {
						has_government = communism
					}
					add_timed_idea = {
						idea = communism_discrediting
						days = 180
					}
				}
				IF = {
					LIMIT = {
						has_government = democratic
					}
					add_timed_idea = {
						idea = democratic_discrediting
						days = 180
					}
				}
				IF = {
					LIMIT = {
						has_government = neutrality
					}
					add_timed_idea = {
						idea = neutrality_discrediting
						days = 180
					}
				}
			}
		}
	}
}

trp_south_american_federation = {
	trp_form_south_american_federation = {
		cost = 0
		fire_only_once = yes
		available = {
			# TRP
			custom_trigger_tooltip = {
				tooltip = trp_states_tt
				controls_state = 495
				controls_state = 280
			}
		}
		ai_will_do = {
			factor = 10
		}
		complete_effect = {
			set_cosmetic_tag = MAH_CRY_EMP
			set_country_flag = trp_crystal_empire_formed_flag
			# Turkey
			custom_effect_tooltip = form_country_turkey_coring_states_tt
			hidden_effect = {
				488 = {
					#add_core_of = ROOT
					wfc_coring_state = yes
				}
			}
			310 = {
				#add_core_of = ROOT
				wfc_coring_state = yes
			}
			309 = {
				#add_core_of = ROOT
				wfc_coring_state = yes
			}
			687 = {
				#add_core_of = ROOT
				wfc_coring_state = yes
			}
			hidden_effect = {
				transfer_state = 310
				transfer_state = 309
				transfer_state = 687
			}
		}
	}
	trp_substantiate_claims_decision = {
		cost = 100
		fire_only_once = yes
		ai_will_do = {
			factor = 10
		}
		complete_effect = {
			set_country_flag = trp_substantiate_claims_flag
			custom_effect_tooltip = trp_substantiate_claims_decision_tt
			hidden_effect = {
				add_state_claim = 310
				add_state_claim = 309
				add_state_claim = 687
			}
		}
	}
	trp_conquest_of_ven_decision = {
		cost = 100
		fire_only_once = yes
		days_remove = 60
		war_with_on_remove = VEN
		visible = {
			country_exists = VEN
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = trp_substantiate_claims_tt
				has_country_flag = trp_substantiate_claims_flag
			}
		}
		ai_will_do = {
			factor = 2
		}
		modifier = {
			industrial_capacity_factory = 0.2
			industrial_capacity_dockyard = 0.2
			training_time_army_factor = -0.2
			production_speed_buildings_factor = 0.2
		}
		complete_effect = {
			add_war_support = 0.05
		}
		remove_effect = {
			create_wargoal = {
				target = VEN
				type = annex_everything
			}
		}
	}
	trp_conquest_of_col_decision = {
		cost = 100
		fire_only_once = yes
		days_remove = 30
		war_with_on_remove = COL
		visible = {
			country_exists = COL
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = trp_substantiate_claims_tt
				has_country_flag = trp_substantiate_claims_flag
			}
			# VEN
			custom_trigger_tooltip = {
				tooltip = trp_form_country_ven_required_states_tt
				controls_state = 488
				controls_state = 307
				controls_state = 489
			}
		}
		ai_will_do = {
			factor = 2
		}
		modifier = {
			industrial_capacity_factory = 0.2
			industrial_capacity_dockyard = 0.2
			training_time_army_factor = -0.2
			production_speed_buildings_factor = 0.2
		}
		complete_effect = {
			add_war_support = 0.05
		}
		remove_effect = {
			create_wargoal = {
				target = COL
				type = annex_everything
			}
		}
	}
}
