mms_workouts_shamiko_category = {
	mms_train_shamiko_attack = {
		available = {
			custom_trigger_tooltip = {
				tooltip = mms_workouts_shamiko_not_final_tt
				check_variable = {
					var = mms_shamiko_workouts_count
					value = 10
					compare = less_than
				}
			}
			custom_trigger_tooltip = {
				tooltip = mms_train_shamiko_run_tt
				NOT = {
					has_country_flag = mms_train_shamiko_run
				}
			}
		}
		ai_will_do = {
			base = 0
			modifier = {
				neutrality > 0.3
				add = 2
			}
		}
		cost = 25
		days_remove = 30
		remove_effect = {
			add_to_variable = {
				mms_shamiko_attack = 1
			}
			add_to_variable = {
				mms_shamiko_workouts_count = 1
			}
			clr_country_flag = mms_train_shamiko_run
		}
		complete_effect = {
			set_country_flag = mms_train_shamiko_run
		}
	}
	mms_train_shamiko_protection = {
		available = {
			custom_trigger_tooltip = {
				tooltip = mms_workouts_shamiko_not_final_tt
				check_variable = {
					var = mms_shamiko_workouts_count
					value = 10
					compare = less_than
				}
			}
			custom_trigger_tooltip = {
				tooltip = mms_train_shamiko_run_tt
				NOT = {
					has_country_flag = mms_train_shamiko_run
				}
			}
		}
		ai_will_do = {
			base = 0
			modifier = {
				neutrality > 0.3
				add = 2
			}
		}
		cost = 25
		days_remove = 30
		remove_effect = {
			add_to_variable = {
				mms_shamiko_defence = 1
			}
			add_to_variable = {
				mms_shamiko_workouts_count = 1
			}
			clr_country_flag = mms_train_shamiko_run
		}
		complete_effect = {
			set_country_flag = mms_train_shamiko_run
		}
	}
	mms_train_shamiko_speed = {
		available = {
			#neutrality  > 0.3
			custom_trigger_tooltip = {
				tooltip = mms_workouts_shamiko_not_final_tt
				check_variable = {
					var = mms_shamiko_workouts_count
					value = 10
					compare = less_than
				}
			}
			custom_trigger_tooltip = {
				tooltip = mms_train_shamiko_run_tt
				NOT = {
					has_country_flag = mms_train_shamiko_run
				}
			}
		}
		ai_will_do = {
			base = 0
			modifier = {
				neutrality > 0.3
				add = 2
			}
		}
		cost = 25
		days_remove = 30
		remove_effect = {
			add_to_variable = {
				mms_shamiko_speed = 1
			}
			add_to_variable = {
				mms_shamiko_workouts_count = 1
			}
			clr_country_flag = mms_train_shamiko_run
		}
		complete_effect = {
			set_country_flag = mms_train_shamiko_run
		}
	}
	mms_workouts_shamiko_final = {
		available = {
			custom_trigger_tooltip = {
				tooltip = mms_workouts_shamiko_final_tt
				check_variable = {
					var = mms_shamiko_workouts_count
					value = 10
					compare = greater_than_or_equals
				}
			}
		}
		ai_will_do = {
			factor = 2
		}
		cost = 50
		fire_only_once = yes
		complete_effect = {
			remove_country_leader_trait = defeatist
			add_country_leader_trait = wfc_empress
			#add_country_leader_trait = warmonger
			#add_country_leader_trait = wfc_Tyan_militarist
			divide_variable = {
				mms_shamiko_attack = 100
			}
			divide_variable = {
				mms_shamiko_defence = 100
			}
			divide_variable = {
				mms_shamiko_speed = 100
			}
			add_dynamic_modifier = {
				modifier = mms_power_shamiko
			}
		}
	}
}

mms_civil_war_category = {
	mms_fascist_rise_decision = {
		is_good = no
		selectable_mission = no
		days_mission_timeout = 100
		available = {
			fascism < 0.2
		}
		activation = {
			has_government = communism
		}
		timeout_effect = {
			set_variable = {
				var = civil_war_size_var
				value = party_popularity@fascism
			}
			subtract_from_variable = {
				var = civil_war_size_var
				value = army_support_var
			}
			if = {
				limit = {
					check_variable = {
						var = civil_war_size_var
						value = 0.3
						compare = less_than
					}
				}
				set_variable = {
					var = civil_war_size_var
					value = 0.3
				}
			}
			start_civil_war = {
				#ruling_party = fascism
				ideology = fascism
				size = civil_war_size_var
			}
		}
		complete_effect = {
			add_political_power = 150
		}
	}
}
