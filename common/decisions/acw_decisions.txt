acw_government_category = {
	acw_create_minprom_decision = {
		name = acw_create_minprom_decision.t
		ai_will_do = {
			factor = 5
		}
		fire_only_once = yes
		cost = 100
		#days_re_enable = 30
		days_remove = 30
		available = {
			custom_trigger_tooltip = {
				tooltip = acw_create_ministerstvo_run_tt
				NOT = {
					has_country_flag = acw_create_ministerstvo_run
				}
			}
		}
		modifier = {
			political_power_gain = -1
		}
		complete_effect = {
			set_country_flag = acw_create_ministerstvo_run
		}
		remove_effect = {
			clr_country_flag = acw_create_ministerstvo_run
			add_ideas = acw_minprom_idea
			set_country_flag = acw_minprom_flag
		}
	}
	acw_create_minoboron_decision = {
		name = acw_create_minoboron_decision.t
		ai_will_do = {
			factor = 5
		}
		fire_only_once = yes
		cost = 100
		days_remove = 30
		available = {
			custom_trigger_tooltip = {
				tooltip = acw_create_ministerstvo_run_tt
				NOT = {
					has_country_flag = acw_create_ministerstvo_run
				}
			}
		}
		modifier = {
			political_power_gain = -1
		}
		complete_effect = {
			set_country_flag = acw_create_ministerstvo_run
		}
		remove_effect = {
			clr_country_flag = acw_create_ministerstvo_run
			add_ideas = acw_minoboron_idea
		}
	}
	acw_create_stavka_decision = {
		name = acw_create_stavka_decision.t
		ai_will_do = {
			factor = 100
		}
		fire_only_once = yes
		cost = 100
		visible = {
			has_idea = acw_minoboron_idea
		}
		available = {
			has_idea = acw_minoboron_idea
			#num_divisions > 100
			custom_trigger_tooltip = {
				tooltip = acw_create_stavka_decision_tt
				check_variable = {
					num_battalions > 1999
				}
			}
			has_deployed_air_force_size = {
				size > 999
			}
		}
		complete_effect = {
			army_experience = 25
			navy_experience = 25
			air_experience = 25
			add_ideas = acw_stavka_idea
		}
	}
	acw_create_minscience_decision = {
		name = acw_create_minscience_decision.t
		ai_will_do = {
			factor = 5
		}
		fire_only_once = yes
		cost = 100
		days_remove = 30
		available = {
			custom_trigger_tooltip = {
				tooltip = acw_create_ministerstvo_run_tt
				NOT = {
					has_country_flag = acw_create_ministerstvo_run
				}
			}
		}
		modifier = {
			political_power_gain = -1
		}
		complete_effect = {
			set_country_flag = acw_create_ministerstvo_run
		}
		remove_effect = {
			clr_country_flag = acw_create_ministerstvo_run
			add_ideas = acw_minscience_idea
			add_research_slot = 1
		}
	}
	acw_create_KGB_decision = {
		name = acw_create_KGB_decision.t
		ai_will_do = {
			factor = 5
		}
		fire_only_once = yes
		cost = 100
		days_remove = 30
		available = {
			custom_trigger_tooltip = {
				tooltip = acw_create_ministerstvo_run_tt
				NOT = {
					has_country_flag = acw_create_ministerstvo_run
				}
			}
		}
		modifier = {
			political_power_gain = -1
		}
		complete_effect = {
			set_country_flag = acw_create_ministerstvo_run
		}
		remove_effect = {
			clr_country_flag = acw_create_ministerstvo_run
			#create_intelligence_agency = yes
			set_country_flag = acw_KGB_flag
			add_ideas = acw_KGB_idea
			create_intelligence_agency = {
				icon = GFX_intelligence_agency_logo_generic_8
				name = "KGB"
			}
		}
	}
	acw_create_mintrans_decision = {
		name = acw_create_mintrans_decision.t
		ai_will_do = {
			factor = 5
		}
		fire_only_once = yes
		cost = 100
		days_remove = 30
		available = {
			custom_trigger_tooltip = {
				tooltip = acw_create_ministerstvo_run_tt
				NOT = {
					has_country_flag = acw_create_ministerstvo_run
				}
			}
		}
		modifier = {
			political_power_gain = -1
		}
		complete_effect = {
			set_country_flag = acw_create_ministerstvo_run
		}
		remove_effect = {
			clr_country_flag = acw_create_ministerstvo_run
			add_ideas = acw_mintrans_idea
		}
	}
	acw_create_minpropagand_decision = {
		name = acw_create_minpropagand_decision.t
		ai_will_do = {
			factor = 5
		}
		fire_only_once = yes
		cost = 100
		days_remove = 30
		available = {
			custom_trigger_tooltip = {
				tooltip = acw_create_ministerstvo_run_tt
				NOT = {
					has_country_flag = acw_create_ministerstvo_run
				}
			}
		}
		modifier = {
			political_power_gain = -1
		}
		complete_effect = {
			set_country_flag = acw_create_ministerstvo_run
		}
		remove_effect = {
			clr_country_flag = acw_create_ministerstvo_run
			add_ideas = acw_minpropagand_idea
			news_event = wfc_news.6
		}
	}
	acw_create_colonial_office_decision = {
		name = acw_create_colonial_office_decision.t
		ai_will_do = {
			factor = 5
		}
		fire_only_once = yes
		cost = 100
		available = {
			num_subjects > 3
			custom_trigger_tooltip = {
				tooltip = acw_create_ministerstvo_run_tt
				NOT = {
					has_country_flag = acw_create_ministerstvo_run
				}
			}
		}
		days_remove = 30
		modifier = {
			political_power_gain = -1
		}
		complete_effect = {
			set_country_flag = acw_create_ministerstvo_run
		}
		remove_effect = {
			clr_country_flag = acw_create_ministerstvo_run
			add_ideas = acw_colonial_office
		}
	}
	acw_create_great_animeland = {
		available = {
			#num_of_controlled_states > 30
			custom_trigger_tooltip = {
				tooltip = acw_create_great_animeland_tt
				check_variable = {
					owned_states > 49
				}
			}
			#has_war = no
			#has_stability > 0.9
		}
		ai_will_do = {
			factor = 100
		}
		fire_only_once = yes
		cost = 100
		complete_effect = {
			set_country_flag = acw_great_animeland_flag
			set_cosmetic_tag = ACW_EMP
			add_country_leader_trait = wfc_empress
			add_political_power = 1000
		}
	}
}

acw_concert_decisions = {
	acw_create_idols_agency = {
		icon = decision_category_generic_propaganda
		ai_will_do = {
			factor = 1
		}
		fire_only_once = yes
		cost = 100
		days_remove = 30
		available = {
			num_of_civilian_factories_available_for_projects > 4
		}
		modifier = {
			civilian_factory_use = 5
		}
		remove_effect = {
			country_event = acw_event.10
			add_ideas = acw_idols_agency_idea
			custom_effect_tooltip = acw_idols_agency_tt
			add_stability = 0.05
		}
	}
	acw_world_tour = {
		icon = decision_category_generic_propaganda
		ai_will_do = {
			factor = 1
		}
		fire_only_once = yes
		cost = 300
		days_remove = 120
		available = {
			num_of_civilian_factories_available_for_projects > 4
		}
		visible = {
			has_idea = acw_idols_agency_idea
		}
		modifier = {
			civilian_factory_use = 5
		}
		remove_effect = {
			every_other_country = {
				add_opinion_modifier = {
					target = ROOT
					modifier = large_increase
				}
			}
			custom_effect_tooltip = acw_world_tour_tt
			set_country_flag = acw_world_tour_flag
		}
	}
	acw_concert_love_laika_decision = {
		name = acw_concert_love_laika_decision.t
		icon = decision_category_generic_propaganda
		available = {
			#has_completed_focus = acw_idols_agency
			hidden_trigger = {
				NOT = {
					OR = {
						has_country_flag = acw_concert_run_flag
						has_country_flag = acw_love_laika_is_busy_flag
					}
				}
			}
		}
		visible = {
			has_idea = acw_idols_agency_idea
		}
		ai_will_do = {
			base = 0
			modifier = {
				has_stability < 0.6
				add = 3
			}
		}
		fire_only_once = no
		cost = 25
		days_re_enable = 90
		days_remove = 30
		#on_map_mode = map_only
		complete_effect = {
			set_country_flag = acw_concert_run_flag
			set_country_flag = acw_love_laika_is_busy_flag
		}
		modifier = {
			stability_factor = 0.1
		}
		remove_effect = {
			clr_country_flag = acw_concert_run_flag
			clr_country_flag = acw_love_laika_is_busy_flag
			add_stability = 0.05
		}
	}
	acw_love_laika_tour_decision = {
		name = acw_love_laika_tour_decision.t
		icon = decision_category_generic_propaganda
		available = {
			hidden_trigger = {
				NOT = {
					OR = {
						has_country_flag = acw_tour_run_flag
						has_country_flag = acw_love_laika_is_busy_flag
					}
				}
			}
		}
		visible = {
			has_country_flag = acw_world_tour_flag
		}
		ai_will_do = {
			factor = 1
		}
		fire_only_once = no
		cost = 100
		days_re_enable = 180
		days_remove = 90
		#on_map_mode = map_only
		complete_effect = {
			set_country_flag = acw_tour_run_flag
			set_country_flag = acw_love_laika_is_busy_flag
		}
		modifier = {
			#stability_factor = 0.1
			political_power_gain = -0.1
		}
		remove_effect = {
			clr_country_flag = acw_tour_run_flag
			clr_country_flag = acw_love_laika_is_busy_flag
			random_other_country = {
				add_timed_idea = {
					idea = democratic_influence
					days = 30
				}
				add_opinion_modifier = {
					target = ACW
					modifier = acw_idols_tour_opinion
				}
			}
		}
	}
	acw_concert_muse_decision = {
		name = acw_concert_muse_decision.t
		icon = decision_category_generic_propaganda
		available = {
			hidden_trigger = {
				NOT = {
					OR = {
						has_country_flag = acw_concert_run_flag
						has_country_flag = acw_muse_is_busy_flag
					}
				}
			}
		}
		visible = {
			has_idea = acw_idols_agency_idea
		}
		ai_will_do = {
			base = 0
			modifier = {
				has_stability < 0.6
				add = 3
			}
		}
		fire_only_once = no
		cost = 25
		days_re_enable = 90
		days_remove = 30
		#on_map_mode = map_only
		complete_effect = {
			set_country_flag = acw_concert_run_flag
			set_country_flag = acw_muse_is_busy_flag
		}
		modifier = {
			stability_factor = 0.1
		}
		remove_effect = {
			clr_country_flag = acw_concert_run_flag
			clr_country_flag = acw_muse_is_busy_flag
			add_stability = 0.05
		}
	}
	acw_muse_tour_decision = {
		name = acw_muse_tour_decision.t
		icon = decision_category_generic_propaganda
		available = {
			hidden_trigger = {
				NOT = {
					OR = {
						has_country_flag = acw_tour_run_flag
						has_country_flag = acw_muse_is_busy_flag
					}
				}
			}
		}
		visible = {
			has_country_flag = acw_world_tour_flag
		}
		ai_will_do = {
			factor = 1
		}
		fire_only_once = no
		cost = 100
		days_re_enable = 180
		days_remove = 90
		#on_map_mode = map_only
		complete_effect = {
			set_country_flag = acw_tour_run_flag
			set_country_flag = acw_muse_is_busy_flag
		}
		modifier = {
			#stability_factor = 0.1
			political_power_gain = -0.1
		}
		remove_effect = {
			clr_country_flag = acw_tour_run_flag
			clr_country_flag = acw_muse_is_busy_flag
			random_other_country = {
				add_timed_idea = {
					idea = democratic_influence
					days = 30
				}
				add_opinion_modifier = {
					target = ACW
					modifier = acw_idols_tour_opinion
				}
			}
		}
	}
	acw_concert_aqours_decision = {
		name = acw_concert_aqours_decision.t
		icon = decision_category_generic_propaganda
		available = {
			hidden_trigger = {
				NOT = {
					OR = {
						has_country_flag = acw_concert_run_flag
						has_country_flag = acw_aqours_is_busy_flag
					}
				}
			}
		}
		visible = {
			has_idea = acw_idols_agency_idea
		}
		ai_will_do = {
			base = 0
			modifier = {
				has_stability < 0.6
				add = 3
			}
		}
		fire_only_once = no
		cost = 25
		days_re_enable = 90
		days_remove = 30
		#on_map_mode = map_only
		complete_effect = {
			set_country_flag = acw_concert_run_flag
			set_country_flag = acw_aqours_is_busy_flag
		}
		modifier = {
			stability_factor = 0.1
		}
		remove_effect = {
			clr_country_flag = acw_concert_run_flag
			clr_country_flag = acw_aqours_is_busy_flag
			add_stability = 0.05
		}
	}
	acw_aqours_tour_decision = {
		name = acw_aqours_tour_decision.t
		icon = decision_category_generic_propaganda
		available = {
			hidden_trigger = {
				NOT = {
					OR = {
						has_country_flag = acw_tour_run_flag
						has_country_flag = acw_aqours_is_busy_flag
					}
				}
			}
		}
		visible = {
			has_country_flag = acw_world_tour_flag
		}
		ai_will_do = {
			factor = 1
		}
		fire_only_once = no
		cost = 100
		days_re_enable = 180
		days_remove = 90
		#on_map_mode = map_only
		complete_effect = {
			set_country_flag = acw_tour_run_flag
			set_country_flag = acw_aqours_is_busy_flag
		}
		modifier = {
			#stability_factor = 0.1
			political_power_gain = -0.1
		}
		remove_effect = {
			clr_country_flag = acw_tour_run_flag
			clr_country_flag = acw_aqours_is_busy_flag
			random_other_country = {
				add_timed_idea = {
					idea = democratic_influence
					days = 30
				}
				add_opinion_modifier = {
					target = ACW
					modifier = acw_idols_tour_opinion
				}
			}
		}
	}
	acw_concert_765_production_decision = {
		name = acw_concert_765_production_decision.t
		icon = decision_category_generic_propaganda
		available = {
			hidden_trigger = {
				NOT = {
					OR = {
						has_country_flag = acw_concert_run_flag
						has_country_flag = acw_765_production_is_busy_flag
					}
				}
			}
		}
		visible = {
			has_idea = acw_idols_agency_idea
		}
		ai_will_do = {
			base = 0
			modifier = {
				has_stability < 0.6
				add = 3
			}
		}
		fire_only_once = no
		cost = 25
		days_re_enable = 90
		days_remove = 30
		#on_map_mode = map_only
		complete_effect = {
			set_country_flag = acw_concert_run_flag
			set_country_flag = acw_765_production_is_busy_flag
		}
		modifier = {
			stability_factor = 0.1
		}
		remove_effect = {
			clr_country_flag = acw_concert_run_flag
			clr_country_flag = acw_765_production_is_busy_flag
			add_stability = 0.05
		}
	}
	acw_765_production_tour_decision = {
		name = acw_765_production_tour_decision.t
		icon = decision_category_generic_propaganda
		available = {
			hidden_trigger = {
				NOT = {
					OR = {
						has_country_flag = acw_tour_run_flag
						has_country_flag = acw_765_production_is_busy_flag
					}
				}
			}
		}
		visible = {
			has_country_flag = acw_world_tour_flag
		}
		ai_will_do = {
			factor = 1
		}
		fire_only_once = no
		cost = 100
		days_re_enable = 180
		days_remove = 90
		#on_map_mode = map_only
		complete_effect = {
			set_country_flag = acw_tour_run_flag
			set_country_flag = acw_765_production_is_busy_flag
		}
		modifier = {
			#stability_factor = 0.1
			political_power_gain = -0.1
		}
		remove_effect = {
			clr_country_flag = acw_tour_run_flag
			clr_country_flag = acw_765_production_is_busy_flag
			random_other_country = {
				add_timed_idea = {
					idea = democratic_influence
					days = 30
				}
				add_opinion_modifier = {
					target = ACW
					modifier = acw_idols_tour_opinion
				}
			}
		}
	}
	acw_concert_ranko_kanzaki_decision = {
		name = acw_concert_ranko_kanzaki_decision.t
		icon = decision_category_generic_propaganda
		available = {
			hidden_trigger = {
				NOT = {
					OR = {
						has_country_flag = acw_concert_run_flag
						has_country_flag = acw_ranko_kanzaki_is_busy_flag
					}
				}
			}
		}
		visible = {
			has_idea = acw_idols_agency_idea
		}
		ai_will_do = {
			base = 0
			modifier = {
				has_stability < 0.6
				add = 3
			}
		}
		fire_only_once = no
		cost = 25
		days_re_enable = 90
		days_remove = 30
		#on_map_mode = map_only
		complete_effect = {
			set_country_flag = acw_concert_run_flag
			set_country_flag = acw_ranko_kanzaki_is_busy_flag
		}
		modifier = {
			stability_factor = 0.1
		}
		remove_effect = {
			clr_country_flag = acw_concert_run_flag
			clr_country_flag = acw_ranko_kanzaki_is_busy_flag
			add_stability = 0.05
		}
	}
	acw_ranko_kanzaki_tour_decision = {
		name = acw_ranko_kanzaki_tour_decision.t
		icon = decision_category_generic_propaganda
		available = {
			hidden_trigger = {
				NOT = {
					OR = {
						has_country_flag = acw_tour_run_flag
						has_country_flag = acw_ranko_kanzaki_is_busy_flag
					}
				}
			}
		}
		visible = {
			has_country_flag = acw_world_tour_flag
		}
		ai_will_do = {
			factor = 1
		}
		fire_only_once = no
		cost = 100
		days_re_enable = 180
		days_remove = 90
		#on_map_mode = map_only
		complete_effect = {
			set_country_flag = acw_tour_run_flag
			set_country_flag = acw_ranko_kanzaki_is_busy_flag
		}
		modifier = {
			#stability_factor = 0.1
			political_power_gain = -0.1
		}
		remove_effect = {
			clr_country_flag = acw_tour_run_flag
			clr_country_flag = acw_ranko_kanzaki_is_busy_flag
			random_other_country = {
				add_timed_idea = {
					idea = democratic_influence
					days = 30
				}
				add_opinion_modifier = {
					target = ACW
					modifier = acw_idols_tour_opinion
				}
			}
		}
	}
	acw_concert_kaede_takagaki_decision = {
		name = acw_concert_kaede_takagaki_decision.t
		icon = decision_category_generic_propaganda
		available = {
			hidden_trigger = {
				NOT = {
					OR = {
						has_country_flag = acw_concert_run_flag
						has_country_flag = acw_kaede_takagaki_is_busy_flag
					}
				}
			}
		}
		visible = {
			has_idea = acw_idols_agency_idea
		}
		ai_will_do = {
			base = 0
			modifier = {
				has_stability < 0.6
				add = 3
			}
		}
		fire_only_once = no
		cost = 25
		days_re_enable = 90
		days_remove = 30
		#on_map_mode = map_only
		complete_effect = {
			set_country_flag = acw_concert_run_flag
			set_country_flag = acw_kaede_takagaki_is_busy_flag
		}
		modifier = {
			stability_factor = 0.1
		}
		remove_effect = {
			clr_country_flag = acw_concert_run_flag
			clr_country_flag = acw_kaede_takagaki_is_busy_flag
			add_stability = 0.05
		}
	}
	acw_kaede_takagaki_tour_decision = {
		name = acw_kaede_takagaki_tour_decision.t
		icon = decision_category_generic_propaganda
		available = {
			hidden_trigger = {
				NOT = {
					OR = {
						has_country_flag = acw_tour_run_flag
						has_country_flag = acw_kaede_takagaki_is_busy_flag
					}
				}
			}
		}
		visible = {
			has_country_flag = acw_world_tour_flag
		}
		ai_will_do = {
			factor = 1
		}
		fire_only_once = no
		cost = 100
		days_re_enable = 180
		days_remove = 90
		#on_map_mode = map_only
		complete_effect = {
			set_country_flag = acw_tour_run_flag
			set_country_flag = acw_kaede_takagaki_is_busy_flag
		}
		modifier = {
			#stability_factor = 0.1
			political_power_gain = -0.1
		}
		remove_effect = {
			clr_country_flag = acw_tour_run_flag
			clr_country_flag = acw_kaede_takagaki_is_busy_flag
			random_other_country = {
				#add_timed_idea = {
				#	idea = waifu_influence
				#	days = 30
				#}
				add_opinion_modifier = {
					target = ACW
					modifier = acw_idols_tour_opinion
				}
			}
		}
	}
	acw_concert_sheryl_nome_decision = {
		name = acw_concert_sheryl_nome_decision.t
		icon = decision_category_generic_propaganda
		available = {
			hidden_trigger = {
				NOT = {
					OR = {
						has_country_flag = acw_concert_run_flag
						has_country_flag = acw_sheryl_nome_is_busy_flag
					}
				}
			}
		}
		visible = {
			has_idea = acw_idols_agency_idea
		}
		ai_will_do = {
			base = 0
			modifier = {
				has_stability < 0.6
				add = 3
			}
		}
		fire_only_once = no
		cost = 25
		days_re_enable = 90
		days_remove = 30
		#on_map_mode = map_only
		complete_effect = {
			set_country_flag = acw_concert_run_flag
			set_country_flag = acw_sheryl_nome_is_busy_flag
		}
		modifier = {
			stability_factor = 0.1
		}
		remove_effect = {
			clr_country_flag = acw_concert_run_flag
			clr_country_flag = acw_sheryl_nome_is_busy_flag
			add_stability = 0.05
		}
	}
	acw_sheryl_nome_tour_decision = {
		name = acw_sheryl_nome_tour_decision.t
		icon = decision_category_generic_propaganda
		available = {
			hidden_trigger = {
				NOT = {
					OR = {
						has_country_flag = acw_tour_run_flag
						has_country_flag = acw_sheryl_nome_is_busy_flag
					}
				}
			}
		}
		visible = {
			has_country_flag = acw_world_tour_flag
		}
		ai_will_do = {
			factor = 1
		}
		fire_only_once = no
		cost = 100
		days_re_enable = 180
		days_remove = 90
		#on_map_mode = map_only
		complete_effect = {
			set_country_flag = acw_tour_run_flag
			set_country_flag = acw_sheryl_nome_is_busy_flag
		}
		modifier = {
			#stability_factor = 0.1
			political_power_gain = -0.1
		}
		remove_effect = {
			clr_country_flag = acw_tour_run_flag
			clr_country_flag = acw_sheryl_nome_is_busy_flag
			random_other_country = {
				add_timed_idea = {
					idea = democratic_influence
					days = 30
				}
				add_opinion_modifier = {
					target = ACW
					modifier = acw_idols_tour_opinion
				}
			}
		}
	}
}

acw_puppets_category = {
	acw_create_puppet_decision = {
		name = acw_create_puppet_decision.t
		available = {
			#has_war = no
			ic_ratio = {
				tag = FROM
				ratio > 1.5
			}
			strength_ratio = {
				tag = FROM
				ratio > 1.5
			}
			if = {
				limit = {
					is_ai = no
				}
				FROM = {
					has_war = no
					has_opinion = {
						target = ROOT
						value > 49
					}
				}
			}
		}
		visible = {
			FROM = {
				OR = {
					any_neighbor_country = {
						OR = {
							is_puppet_of = ROOT
							is_subject_of = ROOT
						}
					}
					is_neighbor_of = ROOT
				}
				NOT = {
					OR = {
						is_in_faction_with = ROOT
						is_puppet_of = ROOT
						is_subject_of = ROOT 
						is_major = yes
					}
				}
			}
		}
		#target_array = neighbors
		target_trigger = {
			FROM = {
				exists = yes
				OR = {
					any_neighbor_country = {
						OR = {
							is_puppet_of = ROOT
							is_subject_of = ROOT
						}
					}
					is_neighbor_of = ROOT
				}
				NOT = {
					OR = {
						is_in_faction_with = ROOT
						is_puppet_of = ROOT
						is_subject_of = ROOT 
						is_major = yes
					}
				}
			}
		}
		ai_will_do = {
			factor = 100
		}
		fire_only_once = no
		cost = 100
		#cost = mtth:acw_puppet_cost
		#days_re_enable = 180
		days_remove = 30
		modifier = {
			political_power_gain = -1
		}
		remove_effect = {
			set_autonomy = {
				target = FROM
				#autonomy_state = autonomy_federation_subject
				autonomy_state = autonomy_dominion
			}
			#puppet = FROM
			FROM = {
				add_ideas = {
					wfc_acw_assistance
					wfc_acw_puppet
				}
				hidden_effect = {
					if = {
						limit = {
							FROM = {
								NOT = {
									OR = {
										original_tag = ACW
										original_tag = HEN
										original_tag = MAH
										original_tag = TRP
										original_tag = MMS
										original_tag = MEH
									}
								}
							}
						}
						acw_change_country_leader = yes
						if = {
							limit = {
								has_idea = ENG_guided_by_britain_raj_2
							}
							remove_ideas = ENG_guided_by_britain_raj_2
						}
						if = {
							limit = {
								has_idea = ENG_guided_by_britain_raj_1
							}
							remove_ideas = ENG_guided_by_britain_raj_1
						}
						if = {
							limit = {
								has_idea = ENG_guided_by_britain_2
							}
							remove_ideas = ENG_guided_by_britain_2
						}
						if = {
							limit = {
								has_idea = ENG_guided_by_britain_1
							}
							remove_ideas = ENG_guided_by_britain_1
						}
					}
				}
			}
			add_named_threat = {
				threat = 5
				name = acw_create_puppet_threat
			}
		}
	}
}

acw_overseas_puppets_category = {
	acw_create_overseas_puppets_decision = {
		name = acw_create_overseas_puppets_decision.t
		available = {
			has_war = no
			custom_trigger_tooltip = {
				tooltip = acw_battle_trigger_tt
				if = {
					limit = {
						check_variable = {
							num_ships > 0
						}
					}
					if = {
						limit = {
							FROM = {
								check_variable = {
									num_ships > 0
								}
							}
						}
						set_temp_variable = {
							temp_fleet_strength = num_ships_with_type@submarine
						}
						add_to_temp_variable = {
							temp_fleet_strength = num_ships_with_type@destroyer
						}
						add_to_temp_variable = {
							temp_fleet_strength = num_ships_with_type@light_cruiser
						}
						#heavy
						set_temp_variable = {
							temp_var = num_ships_with_type@heavy_cruiser
						}
						add_to_temp_variable = {
							temp_var = num_ships_with_type@battle_cruiser
						}
						multiply_temp_variable = {
							temp_var = 4
						}
						add_to_temp_variable = {
							temp_fleet_strength = temp_var
						}
						#super heavy
						set_temp_variable = {
							temp_var = num_ships_with_type@battleship
						}
						add_to_temp_variable = {
							temp_var = num_ships_with_type@carrier
						}
						multiply_temp_variable = {
							temp_var = 8
						}
						add_to_temp_variable = {
							temp_fleet_strength = temp_var
						}
						#target fleet
						set_temp_variable = {
							temp_fleet_strength_terget = FROM.num_ships_with_type@submarine
						}
						add_to_temp_variable = {
							temp_fleet_strength_terget = FROM.num_ships_with_type@destroyer
						}
						add_to_temp_variable = {
							temp_fleet_strength_terget = FROM.num_ships_with_type@light_cruiser
						}
						#heavy
						set_temp_variable = {
							temp_var = FROM.num_ships_with_type@heavy_cruiser
						}
						add_to_temp_variable = {
							temp_var = FROM.num_ships_with_type@battle_cruiser
						}
						multiply_temp_variable = {
							temp_var = 4
						}
						add_to_temp_variable = {
							temp_fleet_strength_terget = temp_var
						}
						#super heavy
						set_temp_variable = {
							temp_var = FROM.num_ships_with_type@battleship
						}
						add_to_temp_variable = {
							temp_var = FROM.num_ships_with_type@carrier
						}
						multiply_temp_variable = {
							temp_var = 8
						}
						add_to_temp_variable = {
							temp_fleet_strength_terget = temp_var
						}
						divide_temp_variable = {
							temp_fleet_strength = temp_fleet_strength_terget
						}
						check_variable = {
							var = temp_fleet_strength
							value = 2
							compare = greater_than_or_equals
						}
					}
					else = {
						always = yes
					}
				}
				else = {
					always = no
				}
			}
			ic_ratio = {
				tag = FROM
				ratio > 2.25
			}
			strength_ratio = {
				tag = FROM
				ratio > 2.25
			}
			FROM = {
				has_war = no
				has_opinion = {
					target = ROOT
					value > 74
				}
			}
		}
		visible = {
			FROM = {
				exists = yes
				NOT = {
					OR = {
						is_in_faction_with = ROOT
						is_puppet_of = ROOT
						is_major = yes
					}
				}
			}
		}
		target_trigger = {
			FROM = {
				any_owned_state = {
					is_coastal = yes
				}
				var:capital = {
					NOT = {
						OR = {
							is_on_continent = europe
							is_on_continent = asia
							is_on_continent = middle_east
						}
					}
				}
			}
		}
		ai_will_do = {
			factor = 5
		}
		fire_only_once = no
		cost = 300
		#days_re_enable = 180
		days_remove = 120
		modifier = {
			political_power_gain = -1
		}
		complete_effect = {
		}
		remove_effect = {
			#puppet = FROM
			set_autonomy = {
				target = FROM
				#autonomy_state = autonomy_federation_subject
				autonomy_state = autonomy_dominion
			}
			FROM = {
				add_ideas = {
					wfc_acw_assistance
					wfc_acw_puppet
				}
				hidden_effect = {
					acw_change_country_leader = yes
				}
			}
			add_named_threat = {
				threat = 5
				name = acw_create_puppet_threat
			}
		}
	}
}

wfc_subjects_category = {
	acw_puppets_economic_assistance = {
		allowed = {
			original_tag = ACW
		}
		# visible = {
		# 	FROM = {
		# 		is_puppet_of = ACW
		# 	}
		# }
		ai_will_do = {
			factor = 200
		}
		target_array = subjects
		target_trigger = {
			FROM = {
				NOT = {
					has_idea = wfc_acw_assistance
				}
			}
		}
		fire_only_once = no
		cost = 100
		#days_re_enable = 45
		complete_effect = {
			FROM = {
				add_ideas = wfc_acw_assistance
			}
		}
	}
}

acw_faction_category = {
	acw_create_faction = {
		visible = {
			NOT = {
				has_country_flag = acw_waifu_power_is_exist_flag
			}
		}
		available = {
			num_of_factories > 50
			NOT = {
				is_in_faction = yes
			}
		}
		ai_will_do = {
			factor = 1
		}
		fire_only_once = yes
		cost = 100
		complete_effect = {
			set_country_flag = acw_waifu_power_is_exist_flag
			create_faction = WaifuPower
		}
	}
	acw_invite_hen_faction = {
		visible = {
			has_country_flag = acw_waifu_power_is_exist_flag
			ROOT = {
				is_faction_leader = yes
				NOT = {
					is_in_faction_with = HEN
				}
			}
		}
		available = {
			if = {
				limit = {
					has_government = democratic
				}
				HEN = {
					has_government = democratic
				}
			}
			else_if = {
				limit = {
					has_government = communism
				}
				HEN = {
					has_government = communism
				}
			}
			else_if = {
				limit = {
					has_government = fascism
				}
				HEN = {
					has_government = fascism
				}
			}
			else = {
				HEN = {
					has_government = neutrality
				}
			}
		}
		ai_will_do = {
			factor = 2
		}
		cost = 100
		fire_only_once = no
		days_re_enable = 365
		complete_effect = {
			#add_to_faction = HEN
			HEN = {
				country_event = acw_event.13
			}
		}
	}
	acw_invite_mah_faction = {
		visible = {
			has_country_flag = acw_waifu_power_is_exist_flag
			ROOT = {
				is_faction_leader = yes
				NOT = {
					is_in_faction_with = MAH
				}
			}
		}
		available = {
			if = {
				limit = {
					has_government = democratic
				}
				MAH = {
					has_government = democratic
				}
			}
			else_if = {
				limit = {
					has_government = communism
				}
				MAH = {
					has_government = communism
				}
			}
			else_if = {
				limit = {
					has_government = fascism
				}
				MAH = {
					has_government = fascism
				}
			}
			else = {
				MAH = {
					has_government = neutrality
				}
			}
		}
		ai_will_do = {
			factor = 2
		}
		cost = 100
		fire_only_once = no
		days_re_enable = 365
		complete_effect = {
			#add_to_faction = MAH
			MAH = {
				country_event = acw_event.13
			}
		}
	}
	acw_invite_meh_faction = {
		visible = {
			has_country_flag = acw_waifu_power_is_exist_flag
			ROOT = {
				is_faction_leader = yes
				NOT = {
					is_in_faction_with = MEH
				}
			}
		}
		available = {
			if = {
				limit = {
					has_government = democratic
				}
				MEH = {
					has_government = democratic
				}
			}
			else_if = {
				limit = {
					has_government = communism
				}
				MEH = {
					has_government = communism
				}
			}
			else_if = {
				limit = {
					has_government = fascism
				}
				MEH = {
					has_government = fascism
				}
			}
			else = {
				MEH = {
					has_government = neutrality
				}
			}
		}
		ai_will_do = {
			factor = 2
		}
		cost = 100
		fire_only_once = no
		days_re_enable = 365
		complete_effect = {
			#add_to_faction = MEH
			MEH = {
				country_event = acw_event.13
			}
		}
	}
	acw_invite_mms_faction = {
		visible = {
			has_country_flag = acw_waifu_power_is_exist_flag
			ROOT = {
				is_faction_leader = yes
				NOT = {
					is_in_faction_with = MMS
				}
			}
		}
		available = {
			if = {
				limit = {
					has_government = democratic
				}
				MMS = {
					has_government = democratic
				}
			}
			else_if = {
				limit = {
					has_government = communism
				}
				MMS = {
					has_government = communism
				}
			}
			else_if = {
				limit = {
					has_government = fascism
				}
				MMS = {
					has_government = fascism
				}
			}
			else = {
				MMS = {
					has_government = neutrality
				}
			}
		}
		ai_will_do = {
			factor = 2
		}
		cost = 100
		fire_only_once = no
		days_re_enable = 365
		complete_effect = {
			#add_to_faction = MMS
			MMS = {
				country_event = acw_event.13
			}
		}
	}
	acw_invite_trp_faction = {
		visible = {
			has_country_flag = acw_waifu_power_is_exist_flag
			ROOT = {
				is_faction_leader = yes
				NOT = {
					is_in_faction_with = TRP
				}
			}
		}
		available = {
			if = {
				limit = {
					has_government = democratic
				}
				TRP = {
					has_government = democratic
				}
			}
			else_if = {
				limit = {
					has_government = communism
				}
				TRP = {
					has_government = communism
				}
			}
			else_if = {
				limit = {
					has_government = fascism
				}
				TRP = {
					has_government = fascism
				}
			}
			else = {
				TRP = {
					has_government = neutrality
				}
			}
		}
		ai_will_do = {
			factor = 2
		}
		cost = 100
		fire_only_once = no
		days_re_enable = 365
		complete_effect = {
			#add_to_faction = TRP
			TRP = {
				country_event = acw_event.13
			}
		}
	}
	acw_economic_assistance_to_faction_members = {
		allowed = {
			original_tag = ACW
		}
		visible = {
			has_country_flag = acw_waifu_power_is_exist_flag
		}
		available = {
			is_faction_leader = yes
			num_of_civilian_factories_available_for_projects > 30
		}
		target_array = faction_members
		target_trigger = {
			FROM = {
				#is_puppet = no
				NOT = {
					is_puppet_of = ROOT
				}
			}
		}
		fire_only_once = no
		cost = 100
		days_remove = 180
		#days_re_enable = 45
		# modifier = {
		# 	civilian_factory_use = 10
		# }
		targeted_modifier = {
			tag = FROM
			cic_to_target_factor = 0.1
		}
		ai_will_do = {
			base = 0
			modifier = {
				num_of_civilian_factories > 50
				add = 1
			}
			modifier = {
				num_of_civilian_factories > 100
				add = 1
			}
		}
	}
}
