wfc_world_conquest_category = {
	wfc_world_conquest_decision = {
		icon = generic_ignite_civil_war
		#war_with_target_on_complete = yes
		war_with_target_on_remove = yes
		available = {
			has_war = no
			if = {
				limit = {
					has_government = democratic
				}
				FROM = {
					NOT = {
						has_government = democratic
					}
				}
			}
			if = {
				limit = {
					has_government = communism
				}
				FROM = {
					NOT = {
						has_government = communism
					}
				}
			}
		}
		visible = {
			FROM = {
				OR = {
					any_neighbor_country = {
						OR = {
							is_puppet_of = ROOT
							is_subject_of = ROOT
						}
					}
					is_neighbor_of = ROOT
				}
				NOT = {
					OR = {
						is_in_faction_with = ROOT
						is_puppet_of = ROOT
						is_subject_of = ROOT
						has_war_with = ROOT
					}
				}
			}
		}
		#target_array = neighbors
		target_trigger = {
			FROM = {
				OR = {
					any_neighbor_country = {
						is_puppet_of = ROOT
					}
					is_neighbor_of = ROOT
				}
				NOT = {
					OR = {
						is_in_faction_with = ROOT
						is_puppet_of = ROOT
						has_war_with = ROOT
					}
				}
			}
		}
		ai_will_do = {
			base = 0
			modifier = {
				if = {
					limit = {
						original_tag = HEN
					}
					NOT = {
						has_country_flag = hen_world_conquest_enabled_flag
					}
				}
				add = -5
			}
			modifier = {
				if = {
					limit = {
						original_tag = ACW
					}
					NOT = {
						has_idea = acw_minoboron_idea
					}
				}
				add = -5
			}
			modifier = {
				if = {
					limit = {
						original_tag = MEH
					}
					NOT = {
						has_country_flag = meh_warmind_complete_flag
					}
				}
				add = -5
			}
			modifier = {
				if = {
					limit = {
						has_government = fascism
					}
					FROM = {
						has_government = fascism
					}
				}
				add = -3
			}
			modifier = {
				if = {
					limit = {
						has_government = fascism
					}
					FROM = {
						has_government = communism
					}
				}
				add = 2
			}
			modifier = {
				if = {
					limit = {
						has_government = fascism
					}
					FROM = {
						has_government = democratic
					}
				}
				add = 2
			}
			modifier = {
				if = {
					limit = {
						has_government = fascism
					}
					FROM = {
						has_government = neutrality
					}
				}
				add = 1
			}
			modifier = {
				if = {
					limit = {
						has_government = communism
					}
					FROM = {
						has_government = fascism
					}
				}
				add = 2
			}
			modifier = {
				if = {
					limit = {
						has_government = communism
					}
					FROM = {
						has_government = democratic
					}
				}
				add = 1
			}
			modifier = {
				if = {
					limit = {
						has_government = communism
					}
					FROM = {
						has_government = neutrality
					}
				}
				add = 1
			}
			modifier = {
				if = {
					limit = {
						has_government = communism
					}
					FROM = {
						has_government = communism
					}
				}
				add = -3
			}
			modifier = {
				if = {
					limit = {
						has_government = democratic
					}
					FROM = {
						has_government = communism
					}
				}
				add = 2
			}
			modifier = {
				if = {
					limit = {
						has_government = democratic
					}
					FROM = {
						has_government = fascism
					}
				}
				add = 1
			}
			modifier = {
				if = {
					limit = {
						has_government = democratic
					}
					FROM = {
						has_government = neutrality
					}
				}
				add = 1
			}
			modifier = {
				if = {
					limit = {
						has_government = democratic
					}
					FROM = {
						has_government = democratic
					}
				}
				add = -3
			}
			modifier = {
				has_government = neutrality
				add = 1
			}
			# modifier = {
			# 	has_war = yes
			# 	add = -1
			# }
			modifier = {
				strength_ratio = {
					tag = FROM
					ratio > 1.5
				}
				add = 1
			}
			modifier = {
				strength_ratio = {
					tag = FROM
					ratio > 2
				}
				add = 1
			}
			modifier = {
				is_in_faction = yes
				add = -5
			}
			modifier = {
				is_faction_leader = yes
				add = 6
			}
			modifier = {
				FROM = {
					OR = {
						is_in_faction = yes
						is_puppet = yes
					}
				}
				add = -1
			}
			modifier = {
				original_tag = MEH
				FROM = {
					OR = {
						original_tag = USA
					}
				}
				add = 10
			}
			# modifier = {
			# 	FROM = {
			# 		OVERLORD = {
			# 			is_major = yes
			# 		}
			# 	}
			# 	add = -1
			# }
		}
		fire_only_once = no
		cost = 100
		#days_re_enable = 30
		days_remove = 30
		remove_effect = {
			# declare_war_on = {
			# 	target = FROM
			# 	type = annex_everything
			# }
			if = {
				limit = {
					has_government = democratic
				}
				create_wargoal = {
					target = FROM
					type = puppet_wargoal_focus
				}
				FROM = {
					every_owned_state = {
						limit = {
							any_neighbor_state = {
								is_owned_by = ROOT
							}
						}
						add_claim_by = ROOT
					}
				}
			}
			else = {
				create_wargoal = {
					target = FROM
					type = annex_everything
				}
				FROM = {
					every_owned_state = {
						add_claim_by = ROOT
					}
				}
			}
		}
	}
}

wfc_integration_category = {
	wfc_integration_decision = {
		name = wfc_integration_decision.t
		#icon = generic_nationalism
		#icon = generic_form_nation
		icon = GFX_decision_generic_brainwash
		available = {
			FROM = {
				compliance > 75
				resistance < 5
			}
			if = {
				limit = {
					FROM = {
						state_population > 999999
					}
				}
				has_manpower > 100000
			}
			else_if = {
				limit = {
					FROM = {
						state_population < 1000000
						state_population > 249999
					}
				}
				has_manpower > 50000
			}
			else_if = {
				limit = {
					FROM = {
						state_population < 250000
						state_population > 49999
					}
				}
				has_manpower > 10000
			}
			else = {
				has_manpower > 1000
			}
		}
		visible = {
			FROM = {
				is_owned_by = ROOT
				NOT = {
					is_core_of = ROOT
				}
			}
		}
		ai_will_do = {
			factor = 100
		}
		state_target = yes
		on_map_mode = map_and_decisions_view
		#target_array = owned_controlled_states
		target_array = owned_states
		target_trigger = {
			FROM = {
				NOT = {
					is_core_of = ROOT
				}
			}
		}
		cost = 100
		fire_only_once = yes
		days_remove = 30
		modifier = {
			stability_factor = -0.05
			political_power_gain = -0.1
		}
		complete_effect = {
			if = {
				limit = {
					FROM = {
						state_population > 999999
					}
				}
				add_manpower = -100000
				FROM = {
					add_manpower = 100000
				}
			}
			else_if = {
				limit = {
					FROM = {
						state_population < 1000000
						state_population > 249999
					}
				}
				add_manpower = -50000
				FROM = {
					add_manpower = 50000
				}
			}
			else_if = {
				limit = {
					FROM = {
						state_population < 250000
						state_population > 49999
					}
				}
				add_manpower = -10000
				FROM = {
					add_manpower = 10000
				}
			}
			else = {
				add_manpower = -1000
				FROM = {
					add_manpower = 1000
				}
			}
		}
		remove_effect = {
			FROM = {
				add_core_of = ROOT
				#wfc_coring_state = yes
			}
		}
	}
}

wfl_immigration_category = {
	wfl_immigration_decision = {
		name = wfl_immigration_decision.t
		icon = decision_category_generic_propaganda
		allowed = {
			always = yes
		}
		available = {
			has_war = no
		}
		ai_will_do = {
			base = 0
			modifier = {
				has_political_power > 1500
				add = 1
			}
		}
		fire_only_once = no
		cost = 200
		days_re_enable = 60
		days_remove = 30
		modifier = {
			monthly_population = 0.2
			stability_factor = -0.05
		}
		remove_effect = {
			every_owned_state = {
				add_manpower = 10000
			}
			#add_stability = -0.01
		}
	}
}

wfl_campaigning_for_volunteers_category = {
	wfl_campaigning_for_volunteers_decision = {
		name = wfl_campaigning_for_volunteers_decision.t
		icon = decision_category_generic_propaganda
		fire_only_once = no
		cost = 50
		days_re_enable = 60
		# available = {
		# 	OR = {
		# 		has_idea = service_by_requirement
		# 		has_idea = all_adults_serve
		# 		has_idea = scraping_the_barrel
		# 	}
		# }
		ai_will_do = {
			base = 0
			modifier = {
				has_manpower < 100000
				add = 1
			}
			modifier = {
				has_manpower < 10000
				add = 5
			}
			modifier = {
				has_war = no
				add = -10
			}
		}
		complete_effect = {
			set_temp_variable = {
				country_popularity = max_available_manpower_k
			}
			multiply_temp_variable = {
				country_popularity = 5
			}
			add_manpower = country_popularity
			# set_temp_variable = {
			# 	temp_mp = mtth:wfc_volunteers_base
			# }
			# multiply_temp_variable = {
			# 	temp_mp = num_owned_states
			# }
			# add_manpower = temp_mp
		}
	}
}

wfl_perimetr_category = {
	wfl_add_nuke_decision = {
		#icon = generic_ignite_civil_war
		fire_only_once = yes
		cost = 0
		complete_effect = {
			add_nuclear_bombs = 999
		}
		ai_will_do = {
			factor = 2000
		}
	}
	wfl_nuke_strike_decision = {
		icon = generic_ignite_civil_war
		available = {
			num_of_nukes > 0
		}
		state_target = yes
		#target_array = controlled_states
		target_trigger = {
			FROM = {
				NOT = {
					is_core_of = ROOT
				}
			}
		}
		fire_only_once = no
		cost = 0
		#days_re_enable = 50
		on_map_mode = map_and_decisions_view
		complete_effect = {
			launch_nuke = {
				#province = 42
				state = FROM
				#controller = ROOT
				use_nuke = yes
			}
		}
		ai_will_do = {
			factor = 1000
		}
	}
}

economy_decisions = {
	wfl_urbanisation_decision = {
		icon = generic_construction
		allowed = {
			always = no
			# OR = {
			# 	original_tag = ACW
			# 	original_tag = HEN
			# 	original_tag = MAH
			# 	original_tag = TRP
			# 	original_tag = MEH
			# 	original_tag = MMS
			# }
		}
		cost = 150
		fire_only_once = no
		days_re_enable = 30
		available = {
			any_owned_state = {
				NOT = {
					OR = {
						has_state_category = small_island
						has_state_category = megalopolis
					}
				}
				is_fully_controlled_by = ROOT
				free_building_slots = {
					building = infrastructure
					size < 1
				}
			}
		}
		visible = {
			any_owned_state = {
				NOT = {
					OR = {
						has_state_category = small_island
						has_state_category = megalopolis
					}
				}
				is_fully_controlled_by = ROOT
				free_building_slots = {
					building = infrastructure
					size < 1
				}
			}
		}
		complete_effect = {
			random_owned_state = {
				limit = {
					NOT = {
						OR = {
							has_state_category = small_island
							has_state_category = megalopolis
						}
					}
					is_fully_controlled_by = ROOT
					#is_owned_by = ROOT
					free_building_slots = {
						building = infrastructure
						size < 1
					}
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
				}
				urbanize_state = yes
			}
		}
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 10
				any_owned_state = {
					free_building_slots = {
						building = industrial_complex
						size < 1
						include_locked = no
					}
				}
			}
		}
	}
	wfc_urbanisation_decision = {
		name = wfc_integration_decision.t
		icon = generic_construction
		cost = 25
		fire_only_once = no
		days_remove = 30
		state_target = yes
		on_map_mode = map_only
		target_array = owned_states
		target_trigger = {
			FROM = {
				NOT = {
					OR = {
						has_state_category = small_island
						has_state_category = megalopolis
					}
				}
			}
		}
		allowed = {
			OR = {
				original_tag = ACW
				original_tag = HEN
				original_tag = MAH
				original_tag = TRP
				original_tag = MEH
				original_tag = MMS
			}
		}
		available = {
			FROM = {
				is_fully_controlled_by = ROOT
			}
			num_of_civilian_factories_available_for_projects > 4
		}
		visible = {
			OR = {
				has_tech = concentrated_industry5
				has_tech = dispersed_industry5
			}
			FROM = {
				is_owned_by = ROOT
				NOT = {
					OR = {
						has_state_category = small_island
						has_state_category = megalopolis
					}
				}
			}
		}
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 10
				all_owned_state = {
					free_building_slots = {
						building = industrial_complex
						size < 1
						include_locked = no
					}
				}
			}
		}
		modifier = {
			civilian_factory_use = 5
		}
		remove_effect = {
			FROM = {
				urbanize_state = yes
			}
		}
	}
}

wfc_subjects_category = {
	wfc_create_subject_decision = {
		fire_only_once = no
		cost = 100
		#target_array = countries
		target_non_existing = yes
		target_trigger = {
			always = yes
		}
		visible = {
			ROOT = {
				any_owned_state = {
					is_core_of = FROM
					NOT = {
						is_core_of = ROOT
					}
				}
			}
		}
		available = {
			FROM = {
				exists = no
			}
			ROOT = {
				any_owned_state = {
					is_core_of = FROM
					NOT = {
						is_core_of = ROOT
					}
				}
			}
		}
		ai_will_do = {
			factor = -100
		}
		complete_effect = {
			if = {
				limit = {
					original_tag = ACW
				}
				FROM = {
					set_country_flag = acw_federation_subject_flag
				}
			}
			else_if = {
				limit = {
					original_tag = HEN
				}
				FROM = {
					set_country_flag = hen_federation_subject_flag
				}
			}
			else_if = {
				limit = {
					original_tag = MAH
				}
				FROM = {
					set_country_flag = mah_federation_subject_flag
				}
			}
			else_if = {
				limit = {
					original_tag = MEH
				}
				FROM = {
					set_country_flag = meh_federation_subject_flag
				}
			}
			else_if = {
				limit = {
					original_tag = MMS
				}
				FROM = {
					set_country_flag = mms_federation_subject_flag
				}
			}
			else = {
				FROM = {
					set_country_flag = trp_federation_subject_flag
				}
			}
			# FROM = {
			# 	set_country_flag = wfc_federation_subject_flag
			# }
			set_autonomy = {
				target = FROM
				autonomy_state = autonomy_federation_subject
			}
			every_controlled_state = {
				limit = {
					is_core_of = FROM
					NOT = {
						is_core_of = ROOT
					}
				}
				FROM = {
					transfer_state = PREV
				}
			}
			FROM = {
				set_country_flag = wfc_change_focus_tree_flag
				load_focus_tree = {
					#tree = wfc_focus
					tree = generic_focus
					keep_completed = no
				}
				add_ideas = wfc_economic_assistance
			}
			if = {
				limit = {
					FROM = {
						NOT = {
							OR = {
								original_tag = ACW
								original_tag = HEN
								original_tag = MAH
								original_tag = TRP
								original_tag = MMS
								original_tag = MEH
							}
						}
					}
				}
				if = {
					limit = {
						original_tag = ACW
					}
					FROM = {
						hidden_effect = {
							acw_change_country_leader = yes
						}
						# add_ideas = {
						# 	wfc_acw_assistance
						# 	wfc_acw_puppet
						# }
					}
				}
				else_if = {
					limit = {
						original_tag = HEN
					}
					FROM = {
						hidden_effect = {
							hen_change_country_leader = yes
						}
					}
				}
				else_if = {
					limit = {
						original_tag = MAH
					}
					FROM = {
						hidden_effect = {
							mah_change_country_leader = yes
						}
					}
				}
				else_if = {
					limit = {
						original_tag = MEH
					}
					FROM = {
						hidden_effect = {
							meh_change_country_leader = yes
						}
					}
				}
				else_if = {
					limit = {
						original_tag = MMS
					}
					FROM = {
						hidden_effect = {
							mms_change_country_leader = yes
						}
					}
				}
				else = {
					FROM = {
						hidden_effect = {
							trp_change_country_leader = yes
						}
					}
				}
			}
		}
	}
	wfc_change_country_leader = {
		cost = 50
		available = {
			FROM = {
				is_puppet = yes
			}
		}
		target_array = subjects
		target_trigger = {
			if = {
				limit = {
					original_tag = TRP
				}
				FROM = {
					NOT = {
						has_country_leader_with_trait = wfc_trap
					}
				}
			}
			else_if = {
				limit = {
					original_tag = MEH
				}
				FROM = {
					NOT = {
						has_country_leader_with_trait = wfc_android
					}
				}
			}
			else_if = {
				limit = {
					original_tag = MAH
				}
				FROM = {
					NOT = {
						has_country_leader_with_trait = wfc_maho
					}
				}
			}
			else_if = {
				limit = {
					original_tag = HEN
				}
				FROM = {
					NOT = {
						has_country_leader_with_trait = wfc_hentai
					}
				}
			}
			else_if = {
				limit = {
					original_tag = MMS
				}
				FROM = {
					NOT = {
						has_country_leader_with_trait = wfc_monster
					}
				}
			}
			else = {
				FROM = {
					NOT = {
						has_country_leader_with_trait = wfc_anime_tyan
					}
				}
			}
		}
		complete_effect = {
			hidden_effect = {
				if = {
					limit = {
						original_tag = ACW
					}
					FROM = {
						acw_change_country_leader = yes
					}
				}
				else_if = {
					limit = {
						original_tag = HEN
					}
					FROM = {
						hen_change_country_leader = yes
					}
				}
				else_if = {
					limit = {
						original_tag = MEH
					}
					FROM = {
						meh_change_country_leader = yes
					}
				}
				else_if = {
					limit = {
						original_tag = MAH
					}
					FROM = {
						mah_change_country_leader = yes
					}
				}
				else_if = {
					limit = {
						original_tag = MMS
					}
					FROM = {
						mms_change_country_leader = yes
					}
				}
				else = {
					FROM = {
						trp_change_country_leader = yes
					}
				}
			}
		}
		ai_will_do = {
			factor = 200
		}
	}
	wfc_change_focus_tree = {
		cost = 50
		available = {
			FROM = {
				is_puppet = yes
			}
		}
		target_array = subjects
		target_trigger = {
			FROM = {
				NOT = {
					has_country_flag = wfc_change_focus_tree_flag
				}
			}
		}
		# visible = {
		# 	FROM = {
		# 		NOT = {
		# 			has_country_flag = wfc_change_focus_tree_flag
		# 		}
		# 	}
		# }
		complete_effect = {
			FROM = {
				custom_effect_tooltip = wfc_change_focus_tree_tt
				hidden_effect = {
					set_country_flag = wfc_change_focus_tree_flag
					load_focus_tree = {
						#tree = wfc_focus
						tree = generic_focus
						keep_completed = no
					}
				}
			}
		}
		ai_will_do = {
			factor = -100
		}
	}
	wfc_puppets_economic_assistance = {
		#name = acw_puppets_economic_assistance
		# visible = {
		# 	FROM = {
		# 		is_puppet_of = ACW
		# 	}
		# }
		ai_will_do = {
			factor = 200
		}
		target_array = subjects
		target_trigger = {
			FROM = {
				NOT = {
					has_idea = wfc_economic_assistance
				}
			}
		}
		fire_only_once = no
		cost = 50
		#days_re_enable = 45
		complete_effect = {
			FROM = {
				add_ideas = wfc_economic_assistance
				# if = {
				# 	limit = {
				# 		NOT = {
				# 			has_idea = wfc_acw_puppet
				# 		}
				# 	}
				# 	add_ideas = wfc_acw_puppet
				# }
			}
		}
	}
	wfc_convert_to_federal_subject = {
		cost = 100
		# visible = {
		# 	FROM = {
		# 		NOT = {
		# 			has_autonomy_state = autonomy_federation_subject
		# 		}
		# 	}
		# }
		available = {
			FROM = {
				is_puppet_of = ROOT
				OR = {
					has_autonomy_state = autonomy_integrated_puppet
					has_autonomy_state = autonomy_collaboration_government
					has_autonomy_state = autonomy_personal_union
					has_autonomy_state = autonomy_reichskommissariat
					check_variable = {
						var = autonomy_ratio
						value = 0.2
						compare = less_than_or_equals
					}
				}
			}
		}
		target_array = subjects
		target_trigger = {
			FROM = {
				NOT = {
					has_autonomy_state = autonomy_federation_subject
				}
			}
		}
		complete_effect = {
			if = {
				limit = {
					original_tag = ACW
				}
				FROM = {
					set_country_flag = acw_federation_subject_flag
				}
			}
			else_if = {
				limit = {
					original_tag = HEN
				}
				FROM = {
					set_country_flag = hen_federation_subject_flag
				}
			}
			else_if = {
				limit = {
					original_tag = MAH
				}
				FROM = {
					set_country_flag = mah_federation_subject_flag
				}
			}
			else_if = {
				limit = {
					original_tag = MEH
				}
				FROM = {
					set_country_flag = meh_federation_subject_flag
				}
			}
			else_if = {
				limit = {
					original_tag = MMS
				}
				FROM = {
					set_country_flag = mms_federation_subject_flag
				}
			}
			else = {
				FROM = {
					set_country_flag = trp_federation_subject_flag
				}
			}
			set_autonomy = {
				target = FROM
				autonomy_state = autonomy_federation_subject
			}
			FROM = {
				if = {
					limit = {
						NOT = {
							OR = {
								original_tag = ACW
								original_tag = HEN
								original_tag = MAH
								original_tag = TRP
								original_tag = MMS
								original_tag = MEH
							}
						}
					}
					if = {
						limit = {
							NOT = {
								has_country_flag = wfc_change_focus_tree_flag
							}
						}
						set_country_flag = wfc_change_focus_tree_flag
						load_focus_tree = {
							#tree = wfc_focus
							tree = generic_focus
							keep_completed = no
						}
					}
				}
				if = {
					limit = {
						NOT = {
							has_idea = wfc_economic_assistance
						}
					}
					add_ideas = wfc_economic_assistance
				}
			}
			if = {
				limit = {
					FROM = {
						NOT = {
							OR = {
								original_tag = ACW
								original_tag = HEN
								original_tag = MAH
								original_tag = TRP
								original_tag = MMS
								original_tag = MEH
							}
						}
					}
				}
				if = {
					limit = {
						original_tag = TRP
					}
					if = {
						limit = {
							FROM = {
								NOT = {
									has_country_leader_with_trait = wfc_trap
								}
							}
						}
						FROM = {
							hidden_effect = {
								trp_change_country_leader = yes
							}
						}
					}
				}
				else_if = {
					limit = {
						original_tag = MEH
					}
					if = {
						limit = {
							FROM = {
								NOT = {
									has_country_leader_with_trait = wfc_android
								}
							}
						}
						FROM = {
							hidden_effect = {
								meh_change_country_leader = yes
							}
						}
					}
				}
				else_if = {
					limit = {
						original_tag = MAH
					}
					if = {
						limit = {
							FROM = {
								NOT = {
									has_country_leader_with_trait = wfc_maho
								}
							}
						}
						FROM = {
							hidden_effect = {
								mah_change_country_leader = yes
							}
						}
					}
				}
				else_if = {
					limit = {
						original_tag = MMS
					}
					if = {
						limit = {
							FROM = {
								NOT = {
									has_country_leader_with_trait = wfc_monster
								}
							}
						}
						FROM = {
							hidden_effect = {
								mms_change_country_leader = yes
							}
						}
					}
				}
				else_if = {
					limit = {
						original_tag = HEN
					}
					if = {
						limit = {
							FROM = {
								NOT = {
									has_country_leader_with_trait = wfc_hentai
								}
							}
						}
						FROM = {
							hidden_effect = {
								hen_change_country_leader = yes
							}
						}
					}
				}
				else = {
					if = {
						limit = {
							FROM = {
								NOT = {
									has_country_leader_with_trait = wfc_anime_tyan
								}
							}
						}
						FROM = {
							hidden_effect = {
								acw_change_country_leader = yes
							}
						}
					}
				}
			}
		}
		ai_will_do = {
			factor = 200
		}
	}
	wfc_buy_out_state = {
		icon = GFX_decision_eng_trade_unions_support
		available = {
			FROM = {
				NOT = {
					is_capital = yes
				}
				OWNER = {
					is_puppet_of = ROOT
					has_autonomy_state = autonomy_federation_subject
				}
			}
		}
		visible = {
			FROM = {
				NOT = {
					is_capital = yes
				}
				OWNER = {
					is_puppet_of = ROOT
					has_autonomy_state = autonomy_federation_subject
				}
			}
		}
		ai_will_do = {
			factor = 0
		}
		state_target = yes
		on_map_mode = map_only
		#target_array = owned_controlled_states
		#target_array = states
		target_trigger = {
			FROM = {
				OWNER = {
					is_puppet_of = ROOT
				}
			}
		}
		cost = 100
		fire_only_once = no
		complete_effect = {
			transfer_state = FROM
			FROM = {
				set_resistance = 1
				set_compliance = 95
			}
		}
	}
}

wfc_preparation_for_war_category = {
	wfc_border_defense = {
		icon = generic_construction
		available = {
			has_war = no
			num_of_civilian_factories_available_for_projects > 4
		}
		ai_will_do = {
			factor = 100
		}
		fire_only_once = yes
		cost = 25
		days_remove = 15
		modifier = {
			civilian_factory_use = 5
		}
		remove_effect = {
			every_owned_state = {
				limit = {
					all_neighbor_state = {
						always = yes
					}
				}
				add_building_construction = {
					type = bunker
					province = {
						all_provinces = yes
						limit_to_border = yes
					}
					level = 1
					instant_build = yes
				}
			}
			every_owned_state = {
				limit = {
					is_coastal = yes
				}
				add_building_construction = {
					type = coastal_bunker
					province = {
						all_provinces = yes
						limit_to_naval_base = yes
					}
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = coastal_bunker
					province = {
						all_provinces = yes
						limit_to_coastal = yes
					}
					level = 1
					instant_build = yes
				}
			}
		}
	}
}

wfc_economy_category = {
	wfc_economy_infrastructure_decision = {
		name = wfc_economy_infrastructure_decision.t
		icon = generic_construction
		fire_only_once = no
		days_remove = 60
		cost = 100
		days_re_enable = 30
		modifier = {
			production_speed_infrastructure_factor = 0.3
			production_speed_naval_base_factor = 0.3
			production_speed_air_base_factor = 0.3
			production_speed_rail_way_factor = 0.3
			production_speed_supply_node_factor = 0.3
		}
		ai_will_do = {
			base = 0
			modifier = {
				has_political_power > 1000
				add = 1
			}
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = wfc_invest_run_tt
				NOT = {
					has_country_flag = wfc_invest_run
				}
			}
		}
		complete_effect = {
			set_country_flag = wfc_invest_run
		}
		remove_effect = {
			clr_country_flag = wfc_invest_run
		}
	}
	wfc_economy_industrial_complex_decision = {
		name = wfc_economy_industrial_complex_decision.t
		icon = generic_construction
		fire_only_once = no
		days_remove = 60
		cost = 100
		days_re_enable = 30
		modifier = {
			production_speed_industrial_complex_factor = 0.3
		}
		ai_will_do = {
			base = 0
			modifier = {
				has_political_power > 1000
				add = 1
			}
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = wfc_invest_run_tt
				NOT = {
					has_country_flag = wfc_invest_run
				}
			}
		}
		complete_effect = {
			set_country_flag = wfc_invest_run
		}
		remove_effect = {
			clr_country_flag = wfc_invest_run
		}
	}
	wfc_economy_synthetic_refinery_decision = {
		name = wfc_economy_synthetic_refinery_decision.t
		icon = generic_construction
		fire_only_once = no
		days_remove = 60
		cost = 100
		days_re_enable = 30
		modifier = {
			production_speed_synthetic_refinery_factor = 0.3
		}
		ai_will_do = {
			base = 0
			modifier = {
				has_political_power > 1000
				add = 1
			}
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = wfc_invest_run_tt
				NOT = {
					has_country_flag = wfc_invest_run
				}
			}
		}
		complete_effect = {
			set_country_flag = wfc_invest_run
		}
		remove_effect = {
			clr_country_flag = wfc_invest_run
		}
	}
	wfc_economy_arms_factory_decision = {
		name = wfc_economy_arms_factory_decision.t
		icon = generic_construction
		fire_only_once = no
		days_remove = 60
		cost = 100
		days_re_enable = 30
		modifier = {
			production_speed_arms_factory_factor = 0.3
		}
		ai_will_do = {
			base = 0
			modifier = {
				has_political_power > 1000
				add = 1
			}
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = wfc_invest_run_tt
				NOT = {
					has_country_flag = wfc_invest_run
				}
			}
		}
		complete_effect = {
			set_country_flag = wfc_invest_run
		}
		remove_effect = {
			clr_country_flag = wfc_invest_run
		}
	}
	wfc_economy_dockyard_decision = {
		name = wfc_economy_dockyard_decision.t
		icon = generic_construction
		fire_only_once = no
		days_remove = 60
		cost = 100
		days_re_enable = 30
		modifier = {
			production_speed_dockyard_factor = 0.3
		}
		ai_will_do = {
			base = 0
			modifier = {
				has_political_power > 1000
				add = 1
			}
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = wfc_invest_run_tt
				NOT = {
					has_country_flag = wfc_invest_run
				}
			}
		}
		complete_effect = {
			set_country_flag = wfc_invest_run
		}
		remove_effect = {
			clr_country_flag = wfc_invest_run
		}
	}
	wfc_economy_nuclear_reactor_decision = {
		name = wfc_economy_nuclear_reactor_decision.t
		icon = generic_construction
		fire_only_once = no
		days_remove = 120
		cost = 200
		days_re_enable = 30
		modifier = {
			production_speed_nuclear_reactor_factor = 0.6
		}
		ai_will_do = {
			base = 0
			modifier = {
				has_political_power > 1000
				add = 1
			}
		}
		available = {
			has_tech = nuclear_reactor
			custom_trigger_tooltip = {
				tooltip = wfc_invest_run_tt
				NOT = {
					has_country_flag = wfc_invest_run
				}
			}
		}
		complete_effect = {
			set_country_flag = wfc_invest_run
		}
		remove_effect = {
			clr_country_flag = wfc_invest_run
		}
	}
}

wfc_budget_category = {
	wfc_subsidies_to_building_up_decision = {
		icon = generic_economy
		fire_only_once = no
		cost = 25
		ai_will_do = {
			base = 2
			modifier = {
				has_government = democratic
				add = 1
			}
			modifier = {
				has_government = fascism
				add = 1
			}
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = wfc_subsidies_count_up_tt
				check_variable = {
					var = wfc_subsidies_count
					value = mtth:wfc_subsidies_count
					compare = less_than
				}
			}
		}
		complete_effect = {
			add_to_variable = {
				wfc_subsidies_to_building_count = 1
			}
			add_to_variable = {
				wfc_subsidies_count = 1
			}
			wfc_subsidies_change = yes
			if = {
				limit = {
					NOT = {
						has_country_flag = wfc_subsidies_dm_flag
					}
				}
				add_dynamic_modifier = {
					modifier = wfc_subsidies_dm
				}
				set_country_flag = wfc_subsidies_dm_flag
			}
		}
	}
	wfc_subsidies_to_building_down_decision = {
		icon = generic_economy
		fire_only_once = no
		cost = 25
		ai_will_do = {
			base = -10
			modifier = {
				has_government = communism
				add = 13
			}
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = wfc_subsidies_count_down_tt
				check_variable = {
					var = wfc_subsidies_to_building_count
					value = 0
					compare = greater_than
				}
			}
		}
		complete_effect = {
			subtract_from_variable = {
				wfc_subsidies_to_building_count = 1
			}
			subtract_from_variable = {
				wfc_subsidies_count = 1
			}
			wfc_subsidies_change = yes
		}
	}
	wfc_subsidies_to_factory_up_decision = {
		icon = generic_economy
		fire_only_once = no
		cost = 25
		ai_will_do = {
			base = 2
			modifier = {
				has_government = democratic
				add = 1
			}
			modifier = {
				has_government = communism
				add = 1
			}
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = wfc_subsidies_count_up_tt
				check_variable = {
					var = wfc_subsidies_count
					value = mtth:wfc_subsidies_count
					compare = less_than
				}
			}
		}
		complete_effect = {
			add_to_variable = {
				wfc_subsidies_to_factory_count = 1
			}
			add_to_variable = {
				wfc_subsidies_count = 1
			}
			wfc_subsidies_change = yes
			if = {
				limit = {
					NOT = {
						has_country_flag = wfc_subsidies_dm_flag
					}
				}
				add_dynamic_modifier = {
					modifier = wfc_subsidies_dm
				}
				set_country_flag = wfc_subsidies_dm_flag
			}
		}
	}
	wfc_subsidies_to_factory_down_decision = {
		icon = generic_economy
		fire_only_once = no
		cost = 25
		ai_will_do = {
			base = -10
			modifier = {
				has_government = fascism
				add = 13
			}
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = wfc_subsidies_count_down_tt
				check_variable = {
					var = wfc_subsidies_to_factory_count
					value = 0
					compare = greater_than
				}
			}
		}
		complete_effect = {
			subtract_from_variable = {
				wfc_subsidies_to_factory_count = 1
			}
			subtract_from_variable = {
				wfc_subsidies_count = 1
			}
			wfc_subsidies_change = yes
		}
	}
	wfc_subsidies_to_dockyard_up_decision = {
		icon = generic_economy
		fire_only_once = no
		cost = 25
		ai_will_do = {
			base = 2
			modifier = {
				has_government = democratic
				add = 1
			}
			modifier = {
				has_government = communism
				add = 1
			}
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = wfc_subsidies_count_up_tt
				check_variable = {
					var = wfc_subsidies_count
					value = mtth:wfc_subsidies_count
					compare = less_than
				}
			}
		}
		complete_effect = {
			add_to_variable = {
				wfc_subsidies_to_dockyard_count = 1
			}
			add_to_variable = {
				wfc_subsidies_count = 1
			}
			wfc_subsidies_change = yes
			if = {
				limit = {
					NOT = {
						has_country_flag = wfc_subsidies_dm_flag
					}
				}
				add_dynamic_modifier = {
					modifier = wfc_subsidies_dm
				}
				set_country_flag = wfc_subsidies_dm_flag
			}
		}
	}
	wfc_subsidies_to_dockyard_down_decision = {
		icon = generic_economy
		fire_only_once = no
		cost = 25
		ai_will_do = {
			base = -10
			modifier = {
				has_government = fascism
				add = 13
			}
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = wfc_subsidies_count_down_tt
				check_variable = {
					var = wfc_subsidies_to_dockyard_count
					value = 0
					compare = greater_than
				}
			}
		}
		complete_effect = {
			subtract_from_variable = {
				wfc_subsidies_to_dockyard_count = 1
			}
			subtract_from_variable = {
				wfc_subsidies_count = 1
			}
			wfc_subsidies_change = yes
		}
	}
	wfc_subsidies_to_research_up_decision = {
		icon = generic_economy
		fire_only_once = no
		cost = 25
		ai_will_do = {
			base = 2
			modifier = {
				has_government = fascism
				add = 1
			}
			modifier = {
				has_government = communism
				add = 1
			}
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = wfc_subsidies_count_up_tt
				check_variable = {
					var = wfc_subsidies_count
					value = mtth:wfc_subsidies_count
					compare = less_than
				}
			}
		}
		complete_effect = {
			add_to_variable = {
				wfc_subsidies_to_research_count = 1
			}
			add_to_variable = {
				wfc_subsidies_count = 1
			}
			wfc_subsidies_change = yes
			if = {
				limit = {
					NOT = {
						has_country_flag = wfc_subsidies_dm_flag
					}
				}
				add_dynamic_modifier = {
					modifier = wfc_subsidies_dm
				}
				set_country_flag = wfc_subsidies_dm_flag
			}
		}
	}
	wfc_subsidies_to_research_down_decision = {
		icon = generic_economy
		fire_only_once = no
		cost = 25
		ai_will_do = {
			base = -10
			modifier = {
				has_government = democratic
				add = 13
			}
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = wfc_subsidies_count_down_tt
				check_variable = {
					var = wfc_subsidies_to_research_count
					value = 0
					compare = greater_than
				}
			}
		}
		complete_effect = {
			subtract_from_variable = {
				wfc_subsidies_to_research_count = 1
			}
			subtract_from_variable = {
				wfc_subsidies_count = 1
			}
			wfc_subsidies_change = yes
		}
	}
	wfc_subsidies_to_nuclear_up_decision = {
		icon = generic_economy
		fire_only_once = no
		cost = 25
		ai_will_do = {
			base = 3
			modifier = {
				num_of_nukes > 20
				add = -13
			}
		}
		available = {
			has_tech = nukes
			nuclear_reactor > 0
			custom_trigger_tooltip = {
				tooltip = wfc_subsidies_count_up_tt
				check_variable = {
					var = wfc_subsidies_count
					value = mtth:wfc_subsidies_count
					compare = less_than
				}
			}
		}
		complete_effect = {
			add_to_variable = {
				wfc_subsidies_to_nuclear_count = 1
			}
			add_to_variable = {
				wfc_subsidies_count = 1
			}
			wfc_subsidies_change = yes
			if = {
				limit = {
					NOT = {
						has_country_flag = wfc_subsidies_dm_flag
					}
				}
				add_dynamic_modifier = {
					modifier = wfc_subsidies_dm
				}
				set_country_flag = wfc_subsidies_dm_flag
			}
		}
	}
	wfc_subsidies_to_nuclear_down_decision = {
		icon = generic_economy
		fire_only_once = no
		cost = 25
		ai_will_do = {
			base = -10
			modifier = {
				num_of_nukes > 20
				add = 13
			}
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = wfc_subsidies_count_down_tt
				check_variable = {
					var = wfc_subsidies_to_nuclear_count
					value = 0
					compare = greater_than
				}
			}
		}
		complete_effect = {
			subtract_from_variable = {
				wfc_subsidies_to_nuclear_count = 1
			}
			subtract_from_variable = {
				wfc_subsidies_count = 1
			}
			wfc_subsidies_change = yes
		}
	}
}

wfc_construction_phase_category = {
	wfc_construction_phase_infrastructure_decision = {
		icon = generic_construction
		fire_only_once = no
		available = {
			any_owned_state = {
				free_building_slots = {
					building = infrastructure
					size > 0
					#include_locked = yes
				}
			}
		}
		ai_will_do = {
			factor = -10
		}
		cost = 0
		complete_effect = {
			every_owned_state = {
				limit = {
					free_building_slots = {
						building = infrastructure
						size > 0
						#include_locked = yes
					}
				}
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = no
				}
			}
		}
	}
	wfc_construction_phase_industrial_complex_decision = {
		icon = generic_construction
		fire_only_once = no
		cost = 0
		available = {
			any_owned_state = {
				free_building_slots = {
					building = industrial_complex
					size > 0
					#include_locked = yes
				}
			}
		}
		ai_will_do = {
			factor = -10
		}
		complete_effect = {
			every_owned_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 0
						#include_locked = yes
					}
				}
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = no
				}
			}
		}
	}
	wfc_construction_phase_synthetic_refinery_decision = {
		icon = generic_construction
		fire_only_once = no
		cost = 0
		available = {
			has_tech = synth_oil_experiments
			any_owned_state = {
				free_building_slots = {
					building = synthetic_refinery
					size > 0
					#include_locked = yes
				}
			}
		}
		ai_will_do = {
			factor = -10
		}
		complete_effect = {
			every_owned_state = {
				limit = {
					free_building_slots = {
						building = synthetic_refinery
						size > 0
						#include_locked = yes
					}
				}
				add_building_construction = {
					type = synthetic_refinery
					level = 1
					instant_build = no
				}
			}
		}
	}
	wfc_construction_phase_fuel_silo_decision = {
		icon = generic_construction
		fire_only_once = no
		cost = 0
		available = {
			has_tech = fuel_silos
			any_owned_state = {
				free_building_slots = {
					building = fuel_silo
					size > 0
					#include_locked = yes
				}
			}
		}
		ai_will_do = {
			factor = -10
		}
		complete_effect = {
			every_owned_state = {
				limit = {
					free_building_slots = {
						building = fuel_silo
						size > 0
						#include_locked = yes
					}
				}
				add_building_construction = {
					type = fuel_silo
					level = 1
					instant_build = no
				}
			}
		}
	}
	wfc_construction_phase_arms_factory_decision = {
		icon = generic_construction
		fire_only_once = no
		cost = 0
		available = {
			any_owned_state = {
				free_building_slots = {
					building = arms_factory
					size > 0
					#include_locked = yes
				}
			}
		}
		ai_will_do = {
			factor = -10
		}
		complete_effect = {
			every_owned_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 0
						#include_locked = yes
					}
				}
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = no
				}
			}
		}
	}
	wfc_construction_phase_dockyard_decision = {
		icon = generic_construction
		fire_only_once = no
		cost = 0
		available = {
			any_owned_state = {
				free_building_slots = {
					building = dockyard
					size > 0
					#include_locked = yes
				}
			}
		}
		ai_will_do = {
			factor = -10
		}
		complete_effect = {
			every_owned_state = {
				limit = {
					free_building_slots = {
						building = dockyard
						size > 0
						#include_locked = yes
					}
				}
				add_building_construction = {
					type = dockyard
					level = 1
					instant_build = no
				}
			}
		}
	}
	wfc_construction_phase_rocket_site_decision = {
		icon = generic_construction
		fire_only_once = no
		cost = 0
		available = {
			has_tech = experimental_rockets
			any_owned_state = {
				free_building_slots = {
					building = rocket_site
					size > 0
					#include_locked = yes
				}
			}
		}
		ai_will_do = {
			factor = -10
		}
		complete_effect = {
			every_owned_state = {
				limit = {
					free_building_slots = {
						building = rocket_site
						size > 0
						#include_locked = yes
					}
				}
				add_building_construction = {
					type = rocket_site
					level = 1
					instant_build = no
				}
			}
		}
	}
	wfc_construction_phase_nuclear_reactor_decision = {
		icon = generic_construction
		fire_only_once = no
		cost = 0
		available = {
			has_tech = nuclear_reactor
			any_owned_state = {
				free_building_slots = {
					building = nuclear_reactor
					size > 0
					#include_locked = yes
				}
			}
		}
		ai_will_do = {
			factor = -10
		}
		complete_effect = {
			every_owned_state = {
				limit = {
					free_building_slots = {
						building = nuclear_reactor
						size > 0
						#include_locked = yes
					}
				}
				add_building_construction = {
					type = nuclear_reactor
					level = 1
					instant_build = no
				}
			}
		}
	}
	wfc_construction_phase_air_base_decision = {
		icon = generic_construction
		fire_only_once = no
		cost = 0
		available = {
			any_owned_state = {
				free_building_slots = {
					building = air_base
					size > 0
					#include_locked = yes
				}
			}
		}
		ai_will_do = {
			factor = -10
		}
		complete_effect = {
			every_owned_state = {
				limit = {
					free_building_slots = {
						building = air_base
						size > 0
						#include_locked = yes
					}
				}
				add_building_construction = {
					type = air_base
					level = 1
					instant_build = no
				}
			}
		}
	}
	wfc_construction_phase_anti_air_building_decision = {
		icon = generic_construction
		fire_only_once = no
		cost = 0
		available = {
			any_owned_state = {
				free_building_slots = {
					building = anti_air_building
					size > 0
					#include_locked = yes
				}
			}
		}
		ai_will_do = {
			factor = -10
		}
		complete_effect = {
			every_owned_state = {
				limit = {
					free_building_slots = {
						building = anti_air_building
						size > 0
						#include_locked = yes
					}
				}
				add_building_construction = {
					type = anti_air_building
					level = 1
					instant_build = no
				}
			}
		}
	}
	wfc_construction_phase_radar_station_decision = {
		icon = generic_construction
		fire_only_once = no
		cost = 0
		available = {
			has_tech = radio_detection
			any_owned_state = {
				free_building_slots = {
					building = radar_station
					size > 0
					#include_locked = yes
				}
			}
		}
		ai_will_do = {
			factor = -10
		}
		complete_effect = {
			every_owned_state = {
				limit = {
					free_building_slots = {
						building = radar_station
						size > 0
						#include_locked = yes
					}
				}
				add_building_construction = {
					type = radar_station
					level = 1
					instant_build = no
				}
			}
		}
	}
	wfc_construction_phase_bunker_decision = {
		icon = generic_construction
		fire_only_once = no
		cost = 0
		available = {
			any_owned_state = {
				any_neighbor_state = {
					any_province_building_level = {
						building = bunker
						level < 10
						province = {
							all_provinces = yes
							limit_to_border = yes
						}
					}
				}
			}
		}
		ai_will_do = {
			factor = -10
		}
		complete_effect = {
			every_owned_state = {
				limit = {
					all_neighbor_state = {
						always = yes
					}
				}
				add_building_construction = {
					type = bunker
					province = {
						all_provinces = yes
						limit_to_border = yes
					}
					level = 1
					instant_build = no
				}
			}
		}
	}
	wfc_construction_phase_coastal_bunker_decision = {
		icon = generic_construction
		fire_only_once = no
		cost = 0
		available = {
			any_owned_state = {
				is_coastal = yes
				any_province_building_level = {
					building = coastal_bunker
					level < 10
					province = {
						all_provinces = yes
						limit_to_coastal = yes
					}
				}
			}
		}
		ai_will_do = {
			factor = -10
		}
		complete_effect = {
			every_owned_state = {
				limit = {
					is_coastal = yes
				}
				add_building_construction = {
					type = coastal_bunker
					province = {
						all_provinces = yes
						limit_to_coastal = yes
					}
					level = 1
					instant_build = no
				}
			}
		}
	}
}

wfc_transfer_of_the_capital_category = {
	wfc_transfer_of_the_capital_decision = {
		icon = GFX_decision_wfc_transfer_of_the_capital_decision_2
		visible = {
			FROM = {
				is_core_of = ROOT
				is_capital = no
				OR = {
					has_state_category = large_city
					has_state_category = metropolis
					has_state_category = megalopolis
				}
			}
		}
		available = {
			FROM = {
				is_fully_controlled_by = ROOT
				OR = {
					has_state_category = metropolis
					has_state_category = megalopolis
				}
			}
		}
		ai_will_do = {
			factor = -10
		}
		state_target = yes
		on_map_mode = map_only
		#target_array = owned_controlled_states
		target_array = owned_states
		target_trigger = {
			FROM = {
				always = yes
			}
		}
		cost = 300
		fire_only_once = no
		days_remove = 30
		modifier = {
			stability_factor = -0.1
			political_power_gain = -0.1
		}
		cancel_trigger = {
			FROM = {
				NOT = {
					is_fully_controlled_by = ROOT
				}
			}
		}
		remove_effect = {
			#set_capital = FROM
			set_capital = {
				state = FROM
			}
		}
		cancel_effect = {
			add_political_power = 50
		}
	}
}

prospect_for_resources = {
	wfc_geological_exploration = {
		icon = GFX_decision_category_generic_prospect_for_resources
		allowed = {
			OR = {
				original_tag = ACW
				original_tag = HEN
				original_tag = MAH
				original_tag = TRP
				original_tag = MEH
				original_tag = MMS
			}
		}
		cost = 50
		fire_only_once = no
		days_re_enable = 30
		days_remove = 30
		available = {
			has_tech = excavation1
			any_owned_state = {
				NOT = {
					has_state_flag = wfc_geological_exploration_completed_flag
				}
				is_fully_controlled_by = ROOT
				is_owned_by = ROOT
			}
		}
		visible = {
			any_owned_state = {
				NOT = {
					has_state_flag = wfc_geological_exploration_completed_flag
				}
				is_fully_controlled_by = ROOT
				is_owned_by = ROOT
			}
		}
		remove_effect = {
			random_owned_state = {
				limit = {
					NOT = {
						has_state_flag = wfc_geological_exploration_completed_flag
					}
					is_fully_controlled_by = ROOT
					is_owned_by = ROOT
				}
				custom_effect_tooltip = wfc_generic_force_excavation_tt
				hidden_effect = {
					random_list = {
						40 = {
							set_state_flag = wfc_exploration_steel_flag
						}
						30 = {
							set_state_flag = wfc_exploration_aluminium_flag
						}
						10 = {
							set_state_flag = wfc_exploration_oil_flag
						}
						10 = {
							set_state_flag = wfc_exploration_tungsten_flag
						}
						10 = {
							set_state_flag = wfc_exploration_chromium_flag
						}
					}
					set_state_flag = wfc_geological_exploration_completed_flag
					set_variable = {
						res_count = 3
					}
					randomize_variable = {
						var = res_count
						distribution = uniform
						min = 3
						max = 25
					}
				}
			}
		}
		ai_will_do = {
			base = 1
			modifier = {
				add = 10
				OR = {
					steel < 0
					aluminium < 0
					oil < 0
					tungsten < 0
					chromium < 0
				}
			}
		}
	}
	wfc_develop_steel_deposits = {
		icon = steel
		desc = wfc_develop_deposits_desc
		allowed = {
			OR = {
				original_tag = ACW
				original_tag = HEN
				original_tag = MAH
				original_tag = TRP
				original_tag = MEH
				original_tag = MMS
			}
		}
		available = {
			controls_state = FROM
			has_tech = excavation2
			num_of_civilian_factories_available_for_projects > 4
		}
		visible = {
			FROM = {
				has_state_flag = wfc_exploration_steel_flag
				NOT = {
					has_state_flag = wfc_resource_development_completed_flag
				}
			}
		}
		ai_will_do = {
			base = 1
			modifier = {
				add = 10
				steel < 0
			}
		}
		state_target = yes
		on_map_mode = map_and_decisions_view
		#target_array = owned_controlled_states
		target_array = owned_states
		target_trigger = {
			always = yes
		}
		cost = 25
		fire_only_once = yes
		days_remove = 60
		modifier = {
			civilian_factory_use = 5
		}
		remove_effect = {
			FROM = {
				set_state_flag = wfc_resource_development_completed_flag
				custom_effect_tooltip = wfc_develop_steel_deposits_tt
				#hidden_effect = {
				# set_temp_variable = {
				# 	res_count = 8
				# }
				# randomize_temp_variable = {
				# 	var = res_count
				# 	distribution = uniform
				# 	min = 3
				# 	max = 25
				# }
				add_resource = {
					type = steel
					amount = var:res_count
				}
				#}
			}
		}
	}
	wfc_develop_aluminium_deposits = {
		icon = aluminium
		desc = wfc_develop_deposits_desc
		allowed = {
			OR = {
				original_tag = ACW
				original_tag = HEN
				original_tag = MAH
				original_tag = TRP
				original_tag = MEH
				original_tag = MMS
			}
		}
		available = {
			controls_state = FROM
			has_tech = excavation2
			num_of_civilian_factories_available_for_projects > 4
		}
		visible = {
			FROM = {
				has_state_flag = wfc_exploration_aluminium_flag
				NOT = {
					has_state_flag = wfc_resource_development_completed_flag
				}
			}
		}
		ai_will_do = {
			base = 1
			modifier = {
				add = 10
				aluminium < 0
			}
		}
		state_target = yes
		on_map_mode = map_and_decisions_view
		#target_array = owned_controlled_states
		target_array = owned_states
		target_trigger = {
			always = yes
		}
		cost = 25
		fire_only_once = yes
		days_remove = 60
		modifier = {
			civilian_factory_use = 5
		}
		remove_effect = {
			FROM = {
				set_state_flag = wfc_resource_development_completed_flag
				custom_effect_tooltip = wfc_develop_aluminium_deposits_tt
				#hidden_effect = {
				# set_temp_variable = {
				# 	res_count = 8
				# }
				# randomize_temp_variable = {
				# 	var = res_count
				# 	distribution = uniform
				# 	min = 3
				# 	max = 25
				# }
				add_resource = {
					type = aluminium
					amount = var:res_count
				}
				#}
			}
		}
	}
	wfc_develop_oil_deposits = {
		icon = oil
		desc = wfc_develop_deposits_desc
		allowed = {
			OR = {
				original_tag = ACW
				original_tag = HEN
				original_tag = MAH
				original_tag = TRP
				original_tag = MEH
				original_tag = MMS
			}
		}
		available = {
			controls_state = FROM
			has_tech = excavation2
			num_of_civilian_factories_available_for_projects > 4
		}
		visible = {
			FROM = {
				has_state_flag = wfc_exploration_oil_flag
				NOT = {
					has_state_flag = wfc_resource_development_completed_flag
				}
			}
		}
		ai_will_do = {
			base = 1
			modifier = {
				add = 10
				oil < 0
			}
		}
		state_target = yes
		on_map_mode = map_and_decisions_view
		#target_array = owned_controlled_states
		target_array = owned_states
		target_trigger = {
			always = yes
		}
		cost = 25
		fire_only_once = yes
		days_remove = 60
		modifier = {
			civilian_factory_use = 5
		}
		remove_effect = {
			FROM = {
				set_state_flag = wfc_resource_development_completed_flag
				custom_effect_tooltip = wfc_develop_oil_deposits_tt
				#hidden_effect = {
				# set_temp_variable = {
				# 	res_count = 8
				# }
				# randomize_temp_variable = {
				# 	var = res_count
				# 	distribution = uniform
				# 	min = 3
				# 	max = 25
				# }
				add_resource = {
					type = oil
					amount = var:res_count
				}
				#}
			}
		}
	}
	wfc_develop_chromium_deposits = {
		icon = chromium
		desc = wfc_develop_deposits_desc
		allowed = {
			OR = {
				original_tag = ACW
				original_tag = HEN
				original_tag = MAH
				original_tag = TRP
				original_tag = MEH
				original_tag = MMS
			}
		}
		available = {
			controls_state = FROM
			has_tech = excavation2
			num_of_civilian_factories_available_for_projects > 4
		}
		visible = {
			FROM = {
				has_state_flag = wfc_exploration_chromium_flag
				NOT = {
					has_state_flag = wfc_resource_development_completed_flag
				}
			}
		}
		ai_will_do = {
			base = 1
			modifier = {
				add = 10
				chromium < 0
			}
		}
		state_target = yes
		on_map_mode = map_and_decisions_view
		#target_array = owned_controlled_states
		target_array = owned_states
		target_trigger = {
			always = yes
		}
		cost = 25
		fire_only_once = yes
		days_remove = 60
		modifier = {
			civilian_factory_use = 5
		}
		remove_effect = {
			FROM = {
				set_state_flag = wfc_resource_development_completed_flag
				custom_effect_tooltip = wfc_develop_chromium_deposits_tt
				#hidden_effect = {
				# set_temp_variable = {
				# 	res_count = 8
				# }
				# randomize_temp_variable = {
				# 	var = res_count
				# 	distribution = uniform
				# 	min = 3
				# 	max = 25
				# }
				add_resource = {
					type = chromium
					amount = var:res_count
				}
				#}
			}
		}
	}
	wfc_develop_tungsten_deposits = {
		icon = tungsten
		desc = wfc_develop_deposits_desc
		allowed = {
			OR = {
				original_tag = ACW
				original_tag = HEN
				original_tag = MAH
				original_tag = TRP
				original_tag = MEH
				original_tag = MMS
			}
		}
		available = {
			controls_state = FROM
			has_tech = excavation2
			num_of_civilian_factories_available_for_projects > 4
		}
		visible = {
			FROM = {
				has_state_flag = wfc_exploration_tungsten_flag
				NOT = {
					has_state_flag = wfc_resource_development_completed_flag
				}
			}
		}
		ai_will_do = {
			base = 1
			modifier = {
				add = 10
				tungsten < 0
			}
		}
		state_target = yes
		on_map_mode = map_and_decisions_view
		#target_array = owned_controlled_states
		target_array = owned_states
		target_trigger = {
			always = yes
		}
		cost = 25
		fire_only_once = yes
		days_remove = 60
		modifier = {
			civilian_factory_use = 5
		}
		remove_effect = {
			FROM = {
				set_state_flag = wfc_resource_development_completed_flag
				custom_effect_tooltip = wfc_develop_tungsten_deposits_tt
				#hidden_effect = {
				# set_temp_variable = {
				# 	res_count = 8
				# }
				# randomize_temp_variable = {
				# 	var = res_count
				# 	distribution = uniform
				# 	min = 3
				# 	max = 25
				# }
				add_resource = {
					type = tungsten
					amount = var:res_count
				}
				#}
			}
		}
	}
}

wfc_puppets_category = {
	wfc_create_intelligence_agency_decision = {
		fire_only_once = yes
		cost = 0
		days_remove = 30
		visible = {
			is_ai = yes
			has_intelligence_agency = no
			NOT = {
				tag = ACW
			}
		}
		available = {
			num_of_civilian_factories_available_for_projects > 4
		}
		modifier = {
			civilian_factory_use = 5
		}
		ai_will_do = {
			factor = 5
		}
		remove_effect = {
			create_intelligence_agency = {
				icon = GFX_intelligence_agency_logo_generic_8
				name = "Intelligence Agency"
			}
		}
	}
	wfc_create_puppet_decision = {
		name = wfc_create_puppet_decision.t
		available = {
			#has_war = no
			is_puppet = no
			has_intelligence_agency = yes
			ic_ratio = {
				tag = FROM
				ratio > 1
			}
			strength_ratio = {
				tag = FROM
				ratio > 1
			}
			FROM = {
				has_war = no
			}
			# if = {
			# 	limit = {
			# 		is_ai = no
			# 	}
			# 	FROM = {
			# 		has_war = no
			# 		has_opinion = {
			# 			target = ROOT
			# 			value > 49
			# 		}
			# 	}
			# }
			# else = {
			# 	FROM = {
			# 		has_war = no
			# 	}
			# }
		}
		visible = {
			FROM = {
				OR = {
					any_neighbor_country = {
						OR = {
							is_puppet_of = ROOT
							is_subject_of = ROOT
						}
					}
					is_neighbor_of = ROOT
				}
				NOT = {
					OR = {
						is_in_faction_with = ROOT
						is_puppet_of = ROOT
						is_subject_of = ROOT
						#is_major = yes
					}
				}
			}
		}
		#target_array = neighbors
		target_trigger = {
			FROM = {
				exists = yes
				OR = {
					any_neighbor_country = {
						OR = {
							is_puppet_of = ROOT
							is_subject_of = ROOT
						}
					}
					is_neighbor_of = ROOT
				}
				NOT = {
					OR = {
						is_in_faction_with = ROOT
						is_puppet_of = ROOT
						is_subject_of = ROOT
						#is_major = yes
					}
				}
			}
		}
		ai_will_do = {
			base = 5
			modifier = {
				OR = {
					has_government = democratic
					has_government = neutrality
				}
				add = 95
			}
			modifier = {
				FROM = {
					OR = {
						is_puppet_of = ROOT
						is_subject_of = ROOT
					}
				}
				add = -100
			}
		}
		fire_only_once = no
		cost = 100
		#cost = mtth:acw_puppet_cost
		days_re_enable = 180
		days_remove = 30
		modifier = {
			political_power_gain = -1
		}
		remove_effect = {
			random_list = {
				25 = {
					modifier = {
						FROM = {
							has_stability < 0.5
						}
						factor = 1.2
					}
					modifier = {
						FROM = {
							has_opinion = {
								target = ROOT
								value > 49
							}
						}
						factor = 1.3
					}
					modifier = {
						network_strength = {
							target = FROM
							value > 0.2
						}
						factor = 1.1
					}
					modifier = {
						network_strength = {
							target = FROM
							value > 0.5
						}
						factor = 1.2
					}
					modifier = {
						network_strength = {
							target = FROM
							value > 0.7
						}
						factor = 1.3
					}
					modifier = {
						has_collaboration = {
							target = FROM
							value > 0.2
						}
						factor = 1.3
					}
					modifier = {
						has_collaboration = {
							target = FROM
							value > 0.5
						}
						factor = 1.5
					}
					modifier = {
						ic_ratio = {
							tag = FROM
							ratio > 1.5
						}
						factor = 1.2
					}
					modifier = {
						ic_ratio = {
							tag = FROM
							ratio > 2
						}
						factor = 1.3
					}
					modifier = {
						strength_ratio = {
							tag = FROM
							ratio > 1.5
						}
						factor = 1.2
					}
					modifier = {
						strength_ratio = {
							tag = FROM
							ratio > 2
						}
						factor = 1.3
					}
					modifier = {
						is_major = yes
						factor = 1.5
					}
					if = {
						limit = {
							FROM = {
								OR = {
									is_puppet = yes
									is_subject = yes
								}
							}
						}
						FROM = {
							OVERLORD = {
								if = {
									limit = {
										has_government = fascism
									}
									create_wargoal = {
										target = ROOT
										type = annex_everything
									}
								}
								else = {
									create_wargoal = {
										target = ROOT
										type = puppet_wargoal_focus
									}
								}
							}
						}
					}
					if = {
						limit = {
							has_government = fascism
						}
						set_autonomy = {
							target = FROM
							autonomy_state = autonomy_reichsprotectorate
						}
					}
					else = {
						set_autonomy = {
							target = FROM
							autonomy_state = autonomy_dominion
						}
					}
					add_named_threat = {
						threat = 5
						name = wfc_create_puppet_threat
					}
				}
				75 = {
					modifier = {
						FROM = {
							has_stability > 0.7
						}
						factor = 1.2
					}
					modifier = {
						FROM = {
							is_major = yes
						}
						factor = 2
					}
					modifier = {
						FROM = {
							OR = {
								is_puppet = yes
								is_subject = yes
							}
						}
						factor = 1.2
					}
					modifier = {
						FROM = {
							has_intelligence_agency = yes
						}
						factor = 1.5
					}
					if = {
						limit = {
							FROM = {
								OR = {
									is_puppet = yes
									is_subject = yes
								}
							}
						}
						if = {
							limit = {
								FROM = {
									OVERLORD = {
										has_government = fascism
									}
								}
							}
							FROM = {
								OVERLORD = {
									create_wargoal = {
										target = ROOT
										type = annex_everything
									}
								}
							}
						}
						else = {
							FROM = {
								OVERLORD = {
									create_wargoal = {
										target = ROOT
										type = puppet_wargoal_focus
									}
								}
							}
						}
					}
					else = {
						if = {
							limit = {
								FROM = {
									has_government = fascism
								}
							}
							FROM = {
								create_wargoal = {
									target = ROOT
									type = annex_everything
								}
							}
						}
						else = {
							FROM = {
								create_wargoal = {
									target = ROOT
									type = puppet_wargoal_focus
								}
							}
						}
					}
				}
			}
			# set_autonomy = {
			# 	target = FROM
			# 	#autonomy_state = autonomy_federation_subject
			# 	autonomy_state = autonomy_dominion
			# }
			# add_named_threat = {
			# 	threat = 5
			# 	name = wfc_create_puppet_threat
			# }
		}
	}
}

economy_decisions = {
	wfc_railway_from_na_to_sa_decision = {
		fire_only_once = yes
		cost = 100
		days_remove = 240		#15 * 16
		allowed = {
			OR = {
				original_tag = ACW
				original_tag = HEN
				original_tag = MAH
				original_tag = TRP
				original_tag = MEH
				original_tag = MMS
			}
		}
		visible = {
			836 = {
				OR = {
					is_controlled_by_ROOT_or_ally = yes
					is_controlled_by_ROOT_or_subject = yes
				}
			}
			378 = {
				OR = {
					is_controlled_by_ROOT_or_ally = yes
					is_controlled_by_ROOT_or_subject = yes
				}
			}
			377 = {
				OR = {
					is_controlled_by_ROOT_or_ally = yes
					is_controlled_by_ROOT_or_subject = yes
				}
			}
			483 = {
				OR = {
					is_controlled_by_ROOT_or_ally = yes
					is_controlled_by_ROOT_or_subject = yes
				}
			}
			481 = {
				OR = {
					is_controlled_by_ROOT_or_ally = yes
					is_controlled_by_ROOT_or_subject = yes
				}
			}
			478 = {
				OR = {
					is_controlled_by_ROOT_or_ally = yes
					is_controlled_by_ROOT_or_subject = yes
				}
			}
			485 = {
				OR = {
					is_controlled_by_ROOT_or_ally = yes
					is_controlled_by_ROOT_or_subject = yes
				}
			}
			476 = {
				OR = {
					is_controlled_by_ROOT_or_ally = yes
					is_controlled_by_ROOT_or_subject = yes
				}
			}
			475 = {
				OR = {
					is_controlled_by_ROOT_or_ally = yes
					is_controlled_by_ROOT_or_subject = yes
				}
			}
			313 = {
				OR = {
					is_controlled_by_ROOT_or_ally = yes
					is_controlled_by_ROOT_or_subject = yes
				}
			}
			312 = {
				OR = {
					is_controlled_by_ROOT_or_ally = yes
					is_controlled_by_ROOT_or_subject = yes
				}
			}
			317 = {
				OR = {
					is_controlled_by_ROOT_or_ally = yes
					is_controlled_by_ROOT_or_subject = yes
				}
			}
			316 = {
				OR = {
					is_controlled_by_ROOT_or_ally = yes
					is_controlled_by_ROOT_or_subject = yes
				}
			}
			304 = {
				OR = {
					is_controlled_by_ROOT_or_ally = yes
					is_controlled_by_ROOT_or_subject = yes
				}
			}
			685 = {
				OR = {
					is_controlled_by_ROOT_or_ally = yes
					is_controlled_by_ROOT_or_subject = yes
				}
			}
			493 = {
				OR = {
					is_controlled_by_ROOT_or_ally = yes
					is_controlled_by_ROOT_or_subject = yes
				}
			}
		}
		available = {
			num_of_civilian_factories_available_for_projects > 4
		}
		modifier = {
			civilian_factory_use = 5
		}
		remove_effect = {
			build_railway = {
				level = 5
				start_province = 9671
				target_province = 4969
			}
			493 = {
				add_building_construction = {
					type = supply_node
					level = 1
					province = 4969
					instant_build = yes
				}
			}
		}
		ai_will_do = {
			factor = 100
		}
	}
	wfc_railway_from_damask_to_bagdad_decision = {
		fire_only_once = yes
		cost = 100
		days_remove = 64		#4 * 16
		allowed = {
			OR = {
				original_tag = ACW
				original_tag = HEN
				original_tag = MAH
				original_tag = TRP
				original_tag = MEH
				original_tag = MMS
			}
		}
		visible = {
			554 = {
				OR = {
					is_controlled_by_ROOT_or_ally = yes
					is_controlled_by_ROOT_or_subject = yes
				}
			}
			680 = {
				OR = {
					is_controlled_by_ROOT_or_ally = yes
					is_controlled_by_ROOT_or_subject = yes
				}
			}
			675 = {
				OR = {
					is_controlled_by_ROOT_or_ally = yes
					is_controlled_by_ROOT_or_subject = yes
				}
			}
			291 = {
				OR = {
					is_controlled_by_ROOT_or_ally = yes
					is_controlled_by_ROOT_or_subject = yes
				}
			}
		}
		available = {
			num_of_civilian_factories_available_for_projects > 4
		}
		modifier = {
			civilian_factory_use = 5
		}
		remove_effect = {
			build_railway = {
				level = 1
				start_province = 4111
				target_province = 2097
			}
		}
		ai_will_do = {
			factor = 100
		}
	}
	wfc_railway_expand_to_s_arabia_decision = {
		fire_only_once = yes
		cost = 100
		days_remove = 48		#3 * 16
		allowed = {
			OR = {
				original_tag = ACW
				original_tag = HEN
				original_tag = MAH
				original_tag = TRP
				original_tag = MEH
				original_tag = MMS
			}
		}
		visible = {
			679 = {
				OR = {
					is_controlled_by_ROOT_or_ally = yes
					is_controlled_by_ROOT_or_subject = yes
				}
			}
			292 = {
				OR = {
					is_controlled_by_ROOT_or_ally = yes
					is_controlled_by_ROOT_or_subject = yes
				}
			}
		}
		available = {
			num_of_civilian_factories_available_for_projects > 4
		}
		modifier = {
			civilian_factory_use = 5
		}
		remove_effect = {
			build_railway = {
				level = 1
				start_province = 12758
				target_province = 12727
			}
			build_railway = {
				level = 1
				start_province = 12758
				target_province = 12883
			}
		}
		ai_will_do = {
			factor = 100
		}
	}
}
