wfc_world_conquest_category = {
	wfc_world_conquest_decision = {
		icon = generic_ignite_civil_war
		#war_with_target_on_complete = yes
		war_with_target_on_remove = yes
		available = {
			has_war = no
			if = {
				limit = {
					has_government = democratic
				}
				FROM = {
					NOT = {
						has_government = democratic
					}
				}
			}
			if = {
				limit = {
					has_government = communism
				}
				FROM = {
					NOT = {
						has_government = communism
					}
				}
			}
			NOT = {
				has_country_flag = wfc_flag_prepare_to_attack
			}
		}
		visible = {
			FROM = {
				OR = {
					any_neighbor_country = {
						OR = {
							is_puppet_of = ROOT
							is_subject_of = ROOT
						}
					}
					is_neighbor_of = ROOT
				}
				NOT = {
					OR = {
						is_in_faction_with = ROOT
						is_puppet_of = ROOT
						is_subject_of = ROOT
						has_war_with = ROOT
					}
				}
			}
		}
		#target_array = neighbors
		target_trigger = {
			FROM = {
				OR = {
					any_neighbor_country = {
						is_puppet_of = ROOT
					}
					is_neighbor_of = ROOT
				}
				NOT = {
					OR = {
						is_in_faction_with = ROOT
						is_puppet_of = ROOT
						has_war_with = ROOT
					}
				}
			}
		}
		ai_will_do = {
			base = 2
			modifier = {
				has_government = fascism
				FROM = {
					has_government = communism
				}
				add = 2
			}
			modifier = {
				has_government = fascism
				FROM = {
					has_government = democratic
				}
				add = 2
			}
			modifier = {
				has_government = fascism
				FROM = {
					has_government = neutrality
				}
				add = 1
			}
			modifier = {
				has_government = communism
				FROM = {
					has_government = fascism
				}
				add = 2
			}
			modifier = {
				has_government = communism
				FROM = {
					has_government = democratic
				}
				add = 1
			}
			modifier = {
				has_government = communism
				FROM = {
					has_government = neutrality
				}
				add = 1
			}
			modifier = {
				has_government = democratic
				FROM = {
					has_government = communism
				}
				add = 2
			}
			modifier = {
				has_government = democratic
				FROM = {
					has_government = fascism
				}
				add = 1
			}
			modifier = {
				has_government = democratic
				FROM = {
					has_government = neutrality
				}
				add = 1
			}
			modifier = {
				strength_ratio = {
					tag = FROM
					ratio > 1.5
				}
				add = 1
			}
			modifier = {
				strength_ratio = {
					tag = FROM
					ratio > 2
				}
				add = 1
			}
			modifier = {
				is_in_faction = yes
				add = -5
			}
			modifier = {
				is_faction_leader = yes
				add = 6
			}
			modifier = {
				FROM = {
					OR = {
						is_in_faction = yes
						is_puppet = yes
					}
				}
				add = -1
			}
			modifier = {
				original_tag = MEH
				has_idea = meh_exterminatus_idea
				add = 2000
			}
		}
		fire_only_once = no
		cost = 0
		#days_re_enable = 30
		days_remove = 60
		remove_effect = {
			clr_country_flag = wfc_flag_prepare_to_attack
			if = {
				limit = {
					has_government = democratic
				}
				declare_war_on = {
					target = FROM
					type = puppet_wargoal_focus
				}
				FROM = {
					every_owned_state = {
						limit = {
							any_neighbor_state = {
								is_owned_by = ROOT
							}
						}
						add_claim_by = ROOT
					}
				}
			}
			else = {
				declare_war_on = {
					target = FROM
					type = annex_everything
				}
				FROM = {
					every_owned_state = {
						add_claim_by = ROOT
					}
				}
			}
		}
		complete_effect = {
			set_country_flag = wfc_flag_prepare_to_attack
		}
	}
}

wfc_integration_category = {
	wfc_integration_decision = {
		icon = GFX_decision_generic_brainwash
		cost = 100
		fire_only_once = no
		days_remove = 60
		state_target = yes
		on_map_mode = map_and_decisions_view
		#target_array = owned_controlled_states
		target_array = owned_states
		target_trigger = {
			FROM = {
				NOT = {
					is_core_of = ROOT
				}
			}
		}
		available = {
			FROM = {
				is_fully_controlled_by = ROOT
				if = {
					limit = {
						is_claimed_by = ROOT
					}
					compliance > 50
				}
				else = {
					compliance > 75
				}
				resistance < 5
			}
			has_stability > 0.6
		}
		visible = {
			FROM = {
				is_owned_by = ROOT
				NOT = {
					is_core_of = ROOT
				}
			}
		}
		ai_will_do = {
			factor = 1
			modifier = {
				FROM = {
					any_neighbor_state = {
						is_core_of = ROOT
					}
				}
				factor = 100
			}
			modifier = {
				FROM = {
					is_claimed_by = ROOT
				}
				factor = 100
			}
		}
		modifier = {
			stability_factor = -0.1
		}
		remove_effect = {
			FROM = {
				add_core_of = ROOT
			}
		}
	}
}

wfl_immigration_category = {
	wfl_immigration_decision = {
		name = wfl_immigration_decision.t
		icon = decision_category_generic_propaganda
		allowed = {
			always = yes
		}
		ai_will_do = {
			base = 1
		}
		fire_only_once = no
		cost = 50
		days_re_enable = 60
		days_remove = 30
		cancel_trigger = {
			has_war = yes
		}
		modifier = {
			monthly_population = 0.2
			stability_factor = -0.05
		}
		remove_effect = {
			every_owned_state = {
				add_manpower = 10000
			}
			#add_stability = -0.01
		}
	}
}

wfl_campaigning_for_volunteers_category = {
	wfl_campaigning_for_volunteers_decision = {
		name = wfl_campaigning_for_volunteers_decision.t
		icon = decision_category_generic_propaganda
		fire_only_once = no
		cost = 25
		days_re_enable = 60
		# available = {
		# 	OR = {
		# 		has_idea = service_by_requirement
		# 		has_idea = all_adults_serve
		# 		has_idea = scraping_the_barrel
		# 	}
		# }
		ai_will_do = {
			base = 0
			modifier = {
				has_manpower < 100000
				add = 1
			}
			modifier = {
				has_manpower < 10000
				add = 5
			}
			modifier = {
				has_war = no
				add = -10
			}
		}
		complete_effect = {
			set_temp_variable = {
				country_popularity = max_available_manpower_k
			}
			multiply_temp_variable = {
				country_popularity = 5
			}
			add_manpower = country_popularity
			# set_temp_variable = {
			# 	temp_mp = mtth:wfc_volunteers_base
			# }
			# multiply_temp_variable = {
			# 	temp_mp = num_owned_states
			# }
			# add_manpower = temp_mp
		}
	}
}

wfl_perimetr_category = {
	wfl_add_nuke_decision = {
		#icon = generic_ignite_civil_war
		fire_only_once = yes
		cost = 0
		complete_effect = {
			add_nuclear_bombs = 999
		}
		ai_will_do = {
			factor = 2000
		}
	}
	wfl_nuke_strike_decision = {
		icon = generic_ignite_civil_war
		available = {
			num_of_nukes > 0
		}
		state_target = yes
		#target_array = controlled_states
		target_trigger = {
			FROM = {
				NOT = {
					is_core_of = ROOT
				}
			}
		}
		fire_only_once = no
		cost = 0
		#days_re_enable = 50
		on_map_mode = map_and_decisions_view
		complete_effect = {
			launch_nuke = {
				#province = 42
				state = FROM
				#controller = ROOT
				use_nuke = yes
			}
		}
		ai_will_do = {
			factor = 1000
		}
	}
}

economy_decisions = {
	wfc_urbanisation_decision = {
		icon = generic_construction
		cost = 25
		fire_only_once = no
		days_remove = 30
		state_target = yes
		on_map_mode = map_only
		target_array = owned_states
		target_trigger = {
			FROM = {
				NOT = {
					OR = {
						has_state_category = small_island
						has_state_category = megalopolis
					}
				}
			}
		}
		visible = {
			FROM = {
				is_owned_by = ROOT
			}
		}
		allowed = {
			OR = {
				original_tag = ACW
				original_tag = HEN
				original_tag = MAH
				original_tag = TRP
				original_tag = MEH
				original_tag = MMS
				original_tag = NEC
			}
		}
		available = {
			FROM = {
				is_fully_controlled_by = ROOT
			}
			num_of_civilian_factories_available_for_projects > 4
			if = {
				limit = {
					FROM = {
						has_state_category = wasteland
					}
				}
				has_tech = construction1
				FROM = {
					infrastructure > 0
					state_population_k > 50
				}
			}
			else_if = {
				limit = {
					FROM = {
						has_state_category = enclave
					}
				}
				has_tech = construction1
				FROM = {
					infrastructure > 0
					state_population_k > 50
				}
			}
			else_if = {
				limit = {
					FROM = {
						has_state_category = tiny_island
					}
				}
				has_tech = construction1
				FROM = {
					infrastructure > 0
					state_population_k > 50
				}
			}
			else_if = {
				limit = {
					FROM = {
						has_state_category = pastoral
					}
				}
				has_tech = construction1
				FROM = {
					infrastructure > 0
					state_population_k > 50
				}
			}
			else_if = {
				limit = {
					FROM = {
						has_state_category = rural
					}
				}
				has_tech = construction1
				FROM = {
					infrastructure > 0
					state_population_k > 100
				}
			}
			else_if = {
				limit = {
					FROM = {
						has_state_category = town
					}
				}
				has_tech = construction1
				FROM = {
					infrastructure > 1
					state_population_k > 200
				}
				# has_railway_connection = {
				# 	start_state = capital
				# 	target_state = FROM
				# }
			}
			else_if = {
				limit = {
					FROM = {
						has_state_category = large_town
					}
				}
				has_tech = construction2
				FROM = {
					infrastructure > 2
					state_population_k > 500
				}
				# has_railway_connection = {
				# 	start_state = capital
				# 	target_state = FROM
				# }
			}
			else_if = {
				limit = {
					FROM = {
						has_state_category = city
					}
				}
				has_tech = construction3
				FROM = {
					infrastructure > 3
					state_population_k > 1000
				}
				# has_railway_level = {
				# 	state = FROM
				# 	level = 1
				# }
				# has_railway_connection = {
				# 	start_state = capital
				# 	target_state = FROM
				# }
			}
			else_if = {
				limit = {
					FROM = {
						has_state_category = large_city
					}
				}
				has_tech = construction4
				FROM = {
					infrastructure > 3
					state_population_k > 2000
				}
				has_railway_level = {
					state = FROM
					level = 1
				}
				# has_railway_connection = {
				# 	start_state = capital
				# 	target_state = FROM
				# }
			}
			else_if = {
				limit = {
					FROM = {
						has_state_category = metropolis
					}
				}
				has_tech = construction5
				FROM = {
					infrastructure > 4
					state_population_k > 5000
				}
				has_railway_level = {
					state = FROM
					level = 1
				}
				# has_railway_connection = {
				# 	start_state = capital
				# 	target_state = FROM
				# }
			}
		}
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 10
				all_owned_state = {
					free_building_slots = {
						building = industrial_complex
						size < 1
						include_locked = no
					}
				}
			}
		}
		modifier = {
			civilian_factory_use = 5
		}
		remove_effect = {
			FROM = {
				wfc_urbanize_state = yes
			}
		}
	}
}

wfc_subjects_category = {
	wfc_create_subject_decision = {
		fire_only_once = no
		cost = 50
		#target_array = countries
		target_non_existing = yes
		target_trigger = {
			always = yes
		}
		visible = {
			ROOT = {
				any_owned_state = {
					is_core_of = FROM
					NOT = {
						is_core_of = ROOT
					}
				}
			}
		}
		available = {
			ROOT = {
				any_owned_state = {
					is_core_of = FROM
					NOT = {
						is_core_of = ROOT
					}
					is_controlled_by = ROOT
				}
			}
		}
		ai_will_do = {
			factor = -100
		}
		complete_effect = {
			set_temp_variable = {
				country_to_initiate = FROM
			}
			wfc_instantiate_province = yes
			var:country_to_initiate = {
				wfc_change_country_leader = yes
				inherit_technology = ROOT
			}
			if = {
				limit = {
					original_tag = NEC
				}
				var:country_to_initiate = {
					add_ideas = nec_idea_the_undead
					add_ideas = nec_idea_necromancy
					add_ideas = nec_idea_army_of_the_undead
				}
			}
			if = {
				limit = {
					original_tag = MEH
				}
				if = {
					limit = {
						has_idea = meh_ai_2
					}
					var:country_to_initiate = {
						add_ideas = meh_ai_2
					}
				}
				else = {
					var:country_to_initiate = {
						add_ideas = meh_ai
					}
				}
			}
		}
	}
	wfc_decision_grant_autonomy_to_non_exist = {
		fire_only_once = no
		cost = 100
		target_non_existing = yes
		target_trigger = {
			FROM = {
				exists = no
			}
		}
		visible = {
			ROOT = {
				NOT = {
					any_owned_state = {
						is_core_of = FROM
						NOT = {
							is_core_of = ROOT
						}
					}
				}
				any_controlled_state = {
					is_core_of = FROM
					NOT = {
						is_core_of = ROOT
					}
				}
			}
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = wfc_tt_all_controlled_state_compliance_50
				ROOT = {
					NOT = {
						any_controlled_state = {
							is_core_of = FROM
							NOT = {
								is_core_of = ROOT
							}
							compliance < 50
							impassable = no
						}
					}
				}
				# if = {
				# 	limit = {
				# 		any_controlled_state = {
				# 			is_core_of = FROM
				# 			NOT = {
				# 				is_core_of = ROOT
				# 			}
				# 			compliance < 50
				# 		}
				# 	}
				# 	always = no
				# }
				# else = {
				# 	always = yes
				# }
			}
		}
		ai_will_do = {
			factor = -100
		}
		complete_effect = {
			puppet = FROM
			every_controlled_state = {
				limit = {
					is_core_of = FROM
					NOT = {
						is_core_of = ROOT
					}
				}
				FROM = {
					transfer_state = PREV
				}
			}
			FROM = {
				wfc_change_country_leader = yes
			}
		}
	}
	wfc_buy_dokyard_from_puppet = {
		cost = 50
		days_remove = 30
		fire_only_once = no
		available = {
			FROM = {
				is_puppet = yes
			}
		}
		visible = {
			NOT = {
				has_country_flag = wfc_flag_hide_decisions_to_buy_shipyards
			}
			FROM = {
				OR = {
					is_puppet = yes
					is_subject = yes
				}
				num_of_naval_factories > 0
			}
			any_owned_state = {
				is_coastal = yes
				free_building_slots = {
					building = dockyard
					size > 0
					include_locked = yes
				}
			}
		}
		target_array = subjects
		target_trigger = {
			FROM = {
				any_owned_state = {
					is_coastal = yes
				}
			}
		}
		complete_effect = {
			FROM = {
				random_owned_controlled_state = {
					limit = {
						#is_coastal = yes
						dockyard > 0
					}
					remove_building = {
						type = dockyard
						level = 1
					}
				}
			}
		}
		remove_effect = {
			random_owned_controlled_state = {
				limit = {
					is_coastal = yes
					free_building_slots = {
						building = dockyard
						size > 0
						include_locked = yes
					}
				}
				add_building_construction = {
					type = dockyard
					level = 1
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 1
			}
			FROM = {
				add_political_power = 50
			}
		}
		ai_will_do = {
			factor = 1
		}
	}
	wfc_harmonize_conscription_laws = {
		priority = 6
		cost = 50
		visible = {
			any_other_country = {
				is_puppet_of = ROOT
				has_autonomy_state = wfc_autonomy_province
				wfc_same_conscription = no
			}
		}
		ai_will_do = {
			factor = 1
		}
		complete_effect = {
			for_each_scope_loop = {
				array = subjects
				if = {
					limit = {
						has_autonomy_state = wfc_autonomy_province
					}
					if = {
						limit = {
							ROOT = {
								has_idea = disarmed_nation
							}
						}
						add_ideas = disarmed_nation
					}
					else_if = {
						limit = {
							ROOT = {
								has_idea = volunteer_only
							}
						}
						add_ideas = volunteer_only
					}
					else_if = {
						limit = {
							ROOT = {
								has_idea = limited_conscription
							}
						}
						add_ideas = limited_conscription
					}
					else_if = {
						limit = {
							ROOT = {
								has_idea = extensive_conscription
							}
						}
						add_ideas = extensive_conscription
					}
					else_if = {
						limit = {
							ROOT = {
								has_idea = service_by_requirement
							}
						}
						add_ideas = service_by_requirement
					}
					else_if = {
						limit = {
							ROOT = {
								has_idea = all_adults_serve
							}
						}
						add_ideas = all_adults_serve
					}
					else_if = {
						limit = {
							ROOT = {
								has_idea = scraping_the_barrel
							}
						}
						add_ideas = scraping_the_barrel
					}
				}
			}
		}
	}
	wfc_conscription_of_recruits_in_the_subjects_of_the_federation = {
		priority = 5
		cost = 100
		visible = {
			any_other_country = {
				is_puppet_of = ROOT
				has_autonomy_state = wfc_autonomy_province
			}
		}
		available = {
			any_other_country = {
				is_puppet_of = ROOT
				has_autonomy_state = wfc_autonomy_province
				has_manpower > 10000
			}
		}
		ai_will_do = {
			base = 0
			modifier = {
				has_manpower < 1000
				add = 2000
			}
		}
		complete_effect = {
			custom_effect_tooltip = wfc_conscription_of_recruits_in_the_subjects_of_the_federation_tt
			hidden_effect = {
				set_temp_variable = {
					wfc_count_recruits = 0
				}
				for_each_scope_loop = {
					array = subjects
					if = {
						limit = {
							has_autonomy_state = wfc_autonomy_province
						}
						set_temp_variable = {
							temp_var = manpower_k
						}
						multiply_temp_variable = {
							temp_var = 1000
						}
						divide_temp_variable = {
							temp_var = 2
						}
						if = {
							limit = {
								check_variable = {
									temp_var > 0
								}
							}
							add_to_temp_variable = {
								wfc_count_recruits = temp_var
							}
							set_temp_variable = {
								temp_var2 = 0
							}
							subtract_from_temp_variable = {
								temp_var2 = temp_var
							}
							add_manpower = temp_var2
						}
					}
				}
				if = {
					limit = {
						check_variable = {
							wfc_count_recruits > 5000
						}
					}
					add_manpower = wfc_count_recruits
				}
				else = {
					set_temp_variable = {
						temp_var_3 = 5000
					}
					multiply_temp_variable = {
						temp_var_3 = num_subjects
					}
					add_manpower = temp_var_3
				}
			}
		}
	}
	wfc_decision_prohibit_transfer_of_divisions = {
		priority = 7
		cost = 0
		visible = {
			#num_subjects > 0
			any_subject_country = {
				#is_subject_of = ROOT
				NOT = {
					has_country_flag = wfc_flag_prohibit_transfer_of_divisions
				}
			}
		}
		available = {
			is_ai = no
		}
		complete_effect = {
			every_subject_country = {
				limit = {
					#is_puppet_of = ROOT
					#is_subject_of = ROOT
					NOT = {
						has_country_flag = wfc_flag_prohibit_transfer_of_divisions
					}
				}
				set_rule = {
					units_deployed_to_overlord = no
				}
				set_country_flag = wfc_flag_prohibit_transfer_of_divisions
			}
		}
	}
	wfc_decision_take_control_of_all_puppet_fleets = {
		priority = 4
		cost = 300
		visible = {
			naval_base > 0
			any_subject_country = {
				naval_base > 0
			}
		}
		available = {
			any_subject_country = {
				custom_trigger_tooltip = {
					tooltip = wfc_ct_has_at_least_one_ship
					check_variable = {
						num_ships > 0
					}
				}
			}
		}
		complete_effect = {
			every_subject_country = {
				limit = {
					check_variable = {
						num_ships > 0
					}
				}
				transfer_navy = {
					target = ROOT
				}
				add_political_power = 100
			}
		}
	}
	wfc_decision_hide_decisions_to_buy_shipyards = {
		priority = 3
		cost = 0
		visible = {
			NOT = {
				has_country_flag = wfc_flag_hide_decisions_to_buy_shipyards
			}
			any_subject_country = {
				num_of_naval_factories > 0
			}
		}
		complete_effect = {
			set_country_flag = wfc_flag_hide_decisions_to_buy_shipyards
		}
	}
	wfc_decision_show_decisions_to_buy_shipyards = {
		priority = 3
		cost = 0
		visible = {
			has_country_flag = wfc_flag_hide_decisions_to_buy_shipyards
		}
		complete_effect = {
			clr_country_flag = wfc_flag_hide_decisions_to_buy_shipyards
		}
	}
}

wfc_preparation_for_war_category = {
	wfc_border_defense = {
		icon = generic_construction
		visible = {
			has_war = no
		}
		available = {
			has_war = no
			num_of_civilian_factories_available_for_projects > 4
		}
		ai_will_do = {
			factor = 100
		}
		fire_only_once = yes
		cost = 25
		days_remove = 15
		modifier = {
			civilian_factory_use = 5
		}
		remove_effect = {
			every_owned_state = {
				limit = {
					all_neighbor_state = {
						always = yes
					}
				}
				add_building_construction = {
					type = bunker
					province = {
						all_provinces = yes
						limit_to_border = yes
					}
					level = 1
					instant_build = yes
				}
			}
			every_owned_state = {
				limit = {
					is_coastal = yes
				}
				add_building_construction = {
					type = coastal_bunker
					province = {
						all_provinces = yes
						limit_to_naval_base = yes
					}
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = coastal_bunker
					province = {
						all_provinces = yes
						limit_to_coastal = yes
					}
					level = 1
					instant_build = yes
				}
			}
		}
	}
}

wfc_budget_category = {
	wfc_subsidies_to_building_up_decision = {
		icon = generic_economy
		fire_only_once = no
		cost = 25
		ai_will_do = {
			base = 2
			modifier = {
				has_government = democratic
				add = 1
			}
			modifier = {
				has_government = fascism
				add = 1
			}
			modifier = {
				date < 1937.1.1
				add = -100
			}
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = wfc_subsidies_count_up_tt
				check_variable = {
					var = wfc_subsidies_count
					value = mtth:wfc_subsidies_count
					compare = less_than
				}
			}
		}
		complete_effect = {
			add_to_variable = {
				wfc_subsidies_to_building_count = 1
			}
			add_to_variable = {
				wfc_subsidies_count = 1
			}
			wfc_subsidies_change = yes
			if = {
				limit = {
					NOT = {
						has_country_flag = wfc_subsidies_dm_flag
					}
				}
				add_dynamic_modifier = {
					modifier = wfc_subsidies_dm
				}
				set_country_flag = wfc_subsidies_dm_flag
			}
		}
	}
	wfc_subsidies_to_building_down_decision = {
		icon = generic_economy
		fire_only_once = no
		cost = 25
		ai_will_do = {
			base = -10
			modifier = {
				has_government = communism
				add = 13
			}
		}
		visible = {
			check_variable = {
				var = wfc_subsidies_to_building_count
				value = 0
				compare = greater_than
			}
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = wfc_subsidies_count_down_tt
				check_variable = {
					var = wfc_subsidies_to_building_count
					value = 0
					compare = greater_than
				}
			}
		}
		complete_effect = {
			subtract_from_variable = {
				wfc_subsidies_to_building_count = 1
			}
			subtract_from_variable = {
				wfc_subsidies_count = 1
			}
			wfc_subsidies_change = yes
		}
	}
	wfc_subsidies_to_factory_up_decision = {
		icon = generic_economy
		fire_only_once = no
		cost = 25
		ai_will_do = {
			base = 2
			modifier = {
				has_government = democratic
				add = 1
			}
			modifier = {
				has_government = communism
				add = 1
			}
			modifier = {
				date < 1937.1.1
				add = -100
			}
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = wfc_subsidies_count_up_tt
				check_variable = {
					var = wfc_subsidies_count
					value = mtth:wfc_subsidies_count
					compare = less_than
				}
			}
		}
		complete_effect = {
			add_to_variable = {
				wfc_subsidies_to_factory_count = 1
			}
			add_to_variable = {
				wfc_subsidies_count = 1
			}
			wfc_subsidies_change = yes
			if = {
				limit = {
					NOT = {
						has_country_flag = wfc_subsidies_dm_flag
					}
				}
				add_dynamic_modifier = {
					modifier = wfc_subsidies_dm
				}
				set_country_flag = wfc_subsidies_dm_flag
			}
		}
	}
	wfc_subsidies_to_factory_down_decision = {
		icon = generic_economy
		fire_only_once = no
		cost = 25
		ai_will_do = {
			base = -10
			modifier = {
				has_government = fascism
				add = 13
			}
		}
		visible = {
			check_variable = {
				var = wfc_subsidies_to_factory_count
				value = 0
				compare = greater_than
			}
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = wfc_subsidies_count_down_tt
				check_variable = {
					var = wfc_subsidies_to_factory_count
					value = 0
					compare = greater_than
				}
			}
		}
		complete_effect = {
			subtract_from_variable = {
				wfc_subsidies_to_factory_count = 1
			}
			subtract_from_variable = {
				wfc_subsidies_count = 1
			}
			wfc_subsidies_change = yes
		}
	}
	wfc_subsidies_to_dockyard_up_decision = {
		icon = generic_economy
		fire_only_once = no
		cost = 25
		ai_will_do = {
			base = 2
			modifier = {
				has_government = democratic
				add = 1
			}
			modifier = {
				has_government = communism
				add = 1
			}
			modifier = {
				date < 1937.1.1
				add = -100
			}
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = wfc_subsidies_count_up_tt
				check_variable = {
					var = wfc_subsidies_count
					value = mtth:wfc_subsidies_count
					compare = less_than
				}
			}
		}
		complete_effect = {
			add_to_variable = {
				wfc_subsidies_to_dockyard_count = 1
			}
			add_to_variable = {
				wfc_subsidies_count = 1
			}
			wfc_subsidies_change = yes
			if = {
				limit = {
					NOT = {
						has_country_flag = wfc_subsidies_dm_flag
					}
				}
				add_dynamic_modifier = {
					modifier = wfc_subsidies_dm
				}
				set_country_flag = wfc_subsidies_dm_flag
			}
		}
	}
	wfc_subsidies_to_dockyard_down_decision = {
		icon = generic_economy
		fire_only_once = no
		cost = 25
		ai_will_do = {
			base = -10
			modifier = {
				has_government = fascism
				add = 13
			}
		}
		visible = {
			check_variable = {
				var = wfc_subsidies_to_dockyard_count
				value = 0
				compare = greater_than
			}
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = wfc_subsidies_count_down_tt
				check_variable = {
					var = wfc_subsidies_to_dockyard_count
					value = 0
					compare = greater_than
				}
			}
		}
		complete_effect = {
			subtract_from_variable = {
				wfc_subsidies_to_dockyard_count = 1
			}
			subtract_from_variable = {
				wfc_subsidies_count = 1
			}
			wfc_subsidies_change = yes
		}
	}
	wfc_subsidies_to_research_up_decision = {
		icon = generic_economy
		fire_only_once = no
		cost = 25
		ai_will_do = {
			base = 2
			modifier = {
				has_government = fascism
				add = 1
			}
			modifier = {
				has_government = communism
				add = 1
			}
			modifier = {
				date < 1937.1.1
				add = -100
			}
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = wfc_subsidies_count_up_tt
				check_variable = {
					var = wfc_subsidies_count
					value = mtth:wfc_subsidies_count
					compare = less_than
				}
			}
		}
		complete_effect = {
			add_to_variable = {
				wfc_subsidies_to_research_count = 1
			}
			add_to_variable = {
				wfc_subsidies_count = 1
			}
			wfc_subsidies_change = yes
			if = {
				limit = {
					NOT = {
						has_country_flag = wfc_subsidies_dm_flag
					}
				}
				add_dynamic_modifier = {
					modifier = wfc_subsidies_dm
				}
				set_country_flag = wfc_subsidies_dm_flag
			}
		}
	}
	wfc_subsidies_to_research_down_decision = {
		icon = generic_economy
		fire_only_once = no
		cost = 25
		ai_will_do = {
			base = -10
			modifier = {
				has_government = democratic
				add = 13
			}
		}
		visible = {
			check_variable = {
				var = wfc_subsidies_to_research_count
				value = 0
				compare = greater_than
			}
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = wfc_subsidies_count_down_tt
				check_variable = {
					var = wfc_subsidies_to_research_count
					value = 0
					compare = greater_than
				}
			}
		}
		complete_effect = {
			subtract_from_variable = {
				wfc_subsidies_to_research_count = 1
			}
			subtract_from_variable = {
				wfc_subsidies_count = 1
			}
			wfc_subsidies_change = yes
		}
	}
	wfc_subsidies_to_resources_up_decision = {
		icon = generic_economy
		fire_only_once = no
		cost = 25
		ai_will_do = {
			base = 1
			modifier = {
				add = 10
				OR = {
					steel < 0
					aluminium < 0
					oil < 0
					tungsten < 0
					chromium < 0
				}
			}
			modifier = {
				date < 1937.1.1
				add = -100
			}
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = wfc_subsidies_count_up_tt
				check_variable = {
					var = wfc_subsidies_count
					value = mtth:wfc_subsidies_count
					compare = less_than
				}
			}
		}
		complete_effect = {
			add_to_variable = {
				wfc_subsidies_to_resources_count = 1
			}
			add_to_variable = {
				wfc_subsidies_count = 1
			}
			wfc_subsidies_change = yes
			if = {
				limit = {
					NOT = {
						has_country_flag = wfc_subsidies_dm_flag
					}
				}
				add_dynamic_modifier = {
					modifier = wfc_subsidies_dm
				}
				set_country_flag = wfc_subsidies_dm_flag
			}
		}
	}
	wfc_subsidies_to_resources_down_decision = {
		icon = generic_economy
		fire_only_once = no
		cost = 25
		ai_will_do = {
			base = -10
			modifier = {
				steel > 99
				aluminium > 99
				oil > 99
				tungsten > 99
				chromium > 99
				add = 13
			}
		}
		visible = {
			check_variable = {
				var = wfc_subsidies_to_resources_count
				value = 0
				compare = greater_than
			}
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = wfc_subsidies_count_down_tt
				check_variable = {
					var = wfc_subsidies_to_resources_count
					value = 0
					compare = greater_than
				}
			}
		}
		complete_effect = {
			subtract_from_variable = {
				wfc_subsidies_to_resources_count = 1
			}
			subtract_from_variable = {
				wfc_subsidies_count = 1
			}
			wfc_subsidies_change = yes
		}
	}
	wfc_subsidies_to_nuclear_up_decision = {
		icon = generic_economy
		fire_only_once = no
		cost = 25
		ai_will_do = {
			base = 3
			modifier = {
				num_of_nukes > 20
				add = -13
			}
		}
		available = {
			has_tech = nukes
			nuclear_reactor > 0
			custom_trigger_tooltip = {
				tooltip = wfc_subsidies_count_up_tt
				check_variable = {
					var = wfc_subsidies_count
					value = mtth:wfc_subsidies_count
					compare = less_than
				}
			}
		}
		complete_effect = {
			add_to_variable = {
				wfc_subsidies_to_nuclear_count = 1
			}
			add_to_variable = {
				wfc_subsidies_count = 1
			}
			wfc_subsidies_change = yes
			if = {
				limit = {
					NOT = {
						has_country_flag = wfc_subsidies_dm_flag
					}
				}
				add_dynamic_modifier = {
					modifier = wfc_subsidies_dm
				}
				set_country_flag = wfc_subsidies_dm_flag
			}
		}
	}
	wfc_subsidies_to_nuclear_down_decision = {
		icon = generic_economy
		fire_only_once = no
		cost = 25
		ai_will_do = {
			base = -10
			modifier = {
				num_of_nukes > 20
				add = 13
			}
		}
		visible = {
			check_variable = {
				var = wfc_subsidies_to_nuclear_count
				value = 0
				compare = greater_than
			}
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = wfc_subsidies_count_down_tt
				check_variable = {
					var = wfc_subsidies_to_nuclear_count
					value = 0
					compare = greater_than
				}
			}
		}
		complete_effect = {
			subtract_from_variable = {
				wfc_subsidies_to_nuclear_count = 1
			}
			subtract_from_variable = {
				wfc_subsidies_count = 1
			}
			wfc_subsidies_change = yes
		}
	}
}

wfc_construction_phase_category = {
	wfc_construction_phase_infrastructure_decision = {
		icon = generic_construction
		fire_only_once = no
		available = {
			any_owned_state = {
				free_building_slots = {
					building = infrastructure
					size > 0
					#include_locked = yes
				}
			}
		}
		ai_will_do = {
			factor = -10
		}
		cost = 0
		complete_effect = {
			every_owned_state = {
				limit = {
					free_building_slots = {
						building = infrastructure
						size > 0
						#include_locked = yes
					}
				}
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = no
				}
			}
		}
	}
	wfc_construction_phase_industrial_complex_decision = {
		icon = generic_construction
		fire_only_once = no
		cost = 0
		available = {
			any_owned_state = {
				free_building_slots = {
					building = industrial_complex
					size > 0
					#include_locked = yes
				}
			}
		}
		ai_will_do = {
			factor = -10
		}
		complete_effect = {
			every_owned_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 0
						#include_locked = yes
					}
				}
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = no
				}
			}
		}
	}
	wfc_construction_phase_synthetic_refinery_decision = {
		icon = generic_construction
		fire_only_once = no
		cost = 0
		available = {
			has_tech = synth_oil_experiments
			any_owned_state = {
				free_building_slots = {
					building = synthetic_refinery
					size > 0
					#include_locked = yes
				}
			}
		}
		ai_will_do = {
			factor = -10
		}
		complete_effect = {
			every_owned_state = {
				limit = {
					free_building_slots = {
						building = synthetic_refinery
						size > 0
						#include_locked = yes
					}
				}
				add_building_construction = {
					type = synthetic_refinery
					level = 1
					instant_build = no
				}
			}
		}
	}
	wfc_construction_phase_fuel_silo_decision = {
		icon = generic_construction
		fire_only_once = no
		cost = 0
		available = {
			has_tech = fuel_silos
			any_owned_state = {
				free_building_slots = {
					building = fuel_silo
					size > 0
					#include_locked = yes
				}
			}
		}
		ai_will_do = {
			factor = -10
		}
		complete_effect = {
			every_owned_state = {
				limit = {
					free_building_slots = {
						building = fuel_silo
						size > 0
						#include_locked = yes
					}
				}
				add_building_construction = {
					type = fuel_silo
					level = 1
					instant_build = no
				}
			}
		}
	}
	wfc_construction_phase_arms_factory_decision = {
		icon = generic_construction
		fire_only_once = no
		cost = 0
		available = {
			any_owned_state = {
				free_building_slots = {
					building = arms_factory
					size > 0
					#include_locked = yes
				}
			}
		}
		ai_will_do = {
			factor = -10
		}
		complete_effect = {
			every_owned_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 0
						#include_locked = yes
					}
				}
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = no
				}
			}
		}
	}
	wfc_construction_phase_dockyard_decision = {
		icon = generic_construction
		fire_only_once = no
		cost = 0
		available = {
			any_owned_state = {
				free_building_slots = {
					building = dockyard
					size > 0
					#include_locked = yes
				}
			}
		}
		ai_will_do = {
			factor = -10
		}
		complete_effect = {
			every_owned_state = {
				limit = {
					free_building_slots = {
						building = dockyard
						size > 0
						#include_locked = yes
					}
				}
				add_building_construction = {
					type = dockyard
					level = 1
					instant_build = no
				}
			}
		}
	}
	wfc_construction_phase_rocket_site_decision = {
		icon = generic_construction
		fire_only_once = no
		cost = 0
		available = {
			has_tech = experimental_rockets
			any_owned_state = {
				free_building_slots = {
					building = rocket_site
					size > 0
					#include_locked = yes
				}
			}
		}
		ai_will_do = {
			factor = -10
		}
		complete_effect = {
			every_owned_state = {
				limit = {
					free_building_slots = {
						building = rocket_site
						size > 0
						#include_locked = yes
					}
				}
				add_building_construction = {
					type = rocket_site
					level = 1
					instant_build = no
				}
			}
		}
	}
	wfc_construction_phase_nuclear_reactor_decision = {
		icon = generic_construction
		fire_only_once = no
		cost = 0
		available = {
			has_tech = nuclear_reactor
			any_owned_state = {
				free_building_slots = {
					building = nuclear_reactor
					size > 0
					#include_locked = yes
				}
			}
		}
		ai_will_do = {
			factor = -10
		}
		complete_effect = {
			every_owned_state = {
				limit = {
					free_building_slots = {
						building = nuclear_reactor
						size > 0
						#include_locked = yes
					}
				}
				add_building_construction = {
					type = nuclear_reactor
					level = 1
					instant_build = no
				}
			}
		}
	}
	wfc_construction_phase_air_base_decision = {
		icon = generic_construction
		fire_only_once = no
		cost = 0
		available = {
			any_owned_state = {
				free_building_slots = {
					building = air_base
					size > 0
					#include_locked = yes
				}
			}
		}
		ai_will_do = {
			factor = -10
		}
		complete_effect = {
			every_owned_state = {
				limit = {
					free_building_slots = {
						building = air_base
						size > 0
						#include_locked = yes
					}
				}
				add_building_construction = {
					type = air_base
					level = 1
					instant_build = no
				}
			}
		}
	}
	wfc_construction_phase_anti_air_building_decision = {
		icon = generic_construction
		fire_only_once = no
		cost = 0
		available = {
			any_owned_state = {
				free_building_slots = {
					building = anti_air_building
					size > 0
					#include_locked = yes
				}
			}
		}
		ai_will_do = {
			factor = -10
		}
		complete_effect = {
			every_owned_state = {
				limit = {
					free_building_slots = {
						building = anti_air_building
						size > 0
						#include_locked = yes
					}
				}
				add_building_construction = {
					type = anti_air_building
					level = 1
					instant_build = no
				}
			}
		}
	}
	wfc_construction_phase_radar_station_decision = {
		icon = generic_construction
		fire_only_once = no
		cost = 0
		available = {
			has_tech = radio_detection
			any_owned_state = {
				free_building_slots = {
					building = radar_station
					size > 0
					#include_locked = yes
				}
			}
		}
		ai_will_do = {
			factor = -10
		}
		complete_effect = {
			every_owned_state = {
				limit = {
					free_building_slots = {
						building = radar_station
						size > 0
						#include_locked = yes
					}
				}
				add_building_construction = {
					type = radar_station
					level = 1
					instant_build = no
				}
			}
		}
	}
	wfc_construction_phase_bunker_decision = {
		icon = generic_construction
		fire_only_once = no
		cost = 0
		available = {
			any_owned_state = {
				any_neighbor_state = {
					any_province_building_level = {
						building = bunker
						level < 10
						province = {
							all_provinces = yes
							limit_to_border = yes
						}
					}
				}
			}
		}
		ai_will_do = {
			factor = -10
		}
		complete_effect = {
			every_owned_state = {
				limit = {
					all_neighbor_state = {
						always = yes
					}
				}
				add_building_construction = {
					type = bunker
					province = {
						all_provinces = yes
						limit_to_border = yes
					}
					level = 1
					instant_build = no
				}
			}
		}
	}
	wfc_construction_phase_coastal_bunker_decision = {
		icon = generic_construction
		fire_only_once = no
		cost = 0
		available = {
			any_owned_state = {
				is_coastal = yes
				any_province_building_level = {
					building = coastal_bunker
					level < 10
					province = {
						all_provinces = yes
						limit_to_coastal = yes
					}
				}
			}
		}
		ai_will_do = {
			factor = -10
		}
		complete_effect = {
			every_owned_state = {
				limit = {
					is_coastal = yes
				}
				add_building_construction = {
					type = coastal_bunker
					province = {
						all_provinces = yes
						limit_to_coastal = yes
					}
					level = 1
					instant_build = no
				}
			}
		}
	}
}

wfc_transfer_of_the_capital_category = {
	wfc_transfer_of_the_capital_decision = {
		icon = GFX_decision_wfc_transfer_of_the_capital_decision_2
		visible = {
			FROM = {
				is_core_of = ROOT
				is_capital = no
				OR = {
					has_state_category = large_city
					has_state_category = metropolis
					has_state_category = megalopolis
				}
			}
		}
		available = {
			FROM = {
				is_fully_controlled_by = ROOT
				OR = {
					has_state_category = metropolis
					has_state_category = megalopolis
				}
			}
		}
		ai_will_do = {
			factor = -10
		}
		state_target = yes
		on_map_mode = map_only
		#target_array = owned_controlled_states
		target_array = owned_states
		target_trigger = {
			FROM = {
				always = yes
			}
		}
		cost = 300
		fire_only_once = no
		days_remove = 30
		modifier = {
			stability_factor = -0.1
			political_power_gain = -0.1
		}
		cancel_trigger = {
			FROM = {
				NOT = {
					is_fully_controlled_by = ROOT
				}
			}
		}
		remove_effect = {
			#set_capital = FROM
			set_capital = {
				state = FROM
			}
		}
		cancel_effect = {
			add_political_power = 50
		}
	}
}

prospect_for_resources = {
	wfc_geological_exploration = {
		icon = GFX_decision_category_generic_prospect_for_resources
		allowed = {
			OR = {
				original_tag = ACW
				original_tag = HEN
				original_tag = MAH
				original_tag = TRP
				original_tag = MEH
				original_tag = MMS
				original_tag = NEC
			}
		}
		cost = 50
		fire_only_once = no
		days_re_enable = 30
		days_remove = 30
		priority = 3
		fixed_random_seed = no
		available = {
			has_tech = excavation1
			any_owned_state = {
				custom_trigger_tooltip = {
					tooltip = wfc_not_geological_exploration_tt
					NOT = {
						has_state_flag = wfc_geological_exploration_completed_flag
					}
				}
				is_fully_controlled_by = ROOT
				is_owned_by = ROOT
			}
		}
		visible = {
			any_owned_state = {
				NOT = {
					has_state_flag = wfc_geological_exploration_completed_flag
				}
				is_fully_controlled_by = ROOT
				is_owned_by = ROOT
			}
		}
		remove_effect = {
			random_owned_state = {
				limit = {
					NOT = {
						has_state_flag = wfc_geological_exploration_completed_flag
					}
					is_fully_controlled_by = ROOT
					is_owned_by = ROOT
				}
				custom_effect_tooltip = wfc_tt_geological_exploration
				hidden_effect = {
					random_list = {
						40 = {
							set_state_flag = wfc_exploration_steel_flag
						}
						30 = {
							set_state_flag = wfc_exploration_aluminium_flag
						}
						10 = {
							set_state_flag = wfc_exploration_oil_flag
						}
						10 = {
							set_state_flag = wfc_exploration_tungsten_flag
						}
						10 = {
							set_state_flag = wfc_exploration_chromium_flag
						}
					}
					set_state_flag = wfc_geological_exploration_completed_flag
					set_variable = {
						res_count = 3
					}
					randomize_variable = {
						var = res_count
						distribution = uniform
						min = 3
						max = 25
					}
				}
			}
		}
		ai_will_do = {
			base = 1
			modifier = {
				add = 10
				OR = {
					steel < 0
					aluminium < 0
					oil < 0
					tungsten < 0
					chromium < 0
				}
			}
		}
	}
	wfc_develop_steel_deposits = {
		icon = steel
		desc = wfc_develop_deposits_desc
		allowed = {
			OR = {
				original_tag = ACW
				original_tag = HEN
				original_tag = MAH
				original_tag = TRP
				original_tag = MEH
				original_tag = MMS
				original_tag = NEC
			}
		}
		available = {
			controls_state = FROM
			has_tech = excavation2
			num_of_civilian_factories_available_for_projects > 4
		}
		visible = {
			FROM = {
				has_state_flag = wfc_exploration_steel_flag
				NOT = {
					has_state_flag = wfc_resource_development_completed_flag
				}
				OWNER = {
					tag = ROOT
				}
			}
		}
		ai_will_do = {
			base = 1
			modifier = {
				add = 10
				steel < 0
			}
		}
		state_target = yes
		on_map_mode = map_and_decisions_view
		#target_array = owned_controlled_states
		target_array = owned_states
		target_trigger = {
			always = yes
		}
		cost = 25
		fire_only_once = yes
		days_remove = 60
		modifier = {
			civilian_factory_use = 5
		}
		remove_effect = {
			FROM = {
				set_state_flag = wfc_resource_development_completed_flag
				custom_effect_tooltip = wfc_develop_steel_deposits_tt
				#hidden_effect = {
				# set_temp_variable = {
				# 	res_count = 8
				# }
				# randomize_temp_variable = {
				# 	var = res_count
				# 	distribution = uniform
				# 	min = 3
				# 	max = 25
				# }
				add_resource = {
					type = steel
					amount = var:res_count
				}
				#}
			}
		}
	}
	wfc_develop_aluminium_deposits = {
		icon = aluminium
		desc = wfc_develop_deposits_desc
		allowed = {
			OR = {
				original_tag = ACW
				original_tag = HEN
				original_tag = MAH
				original_tag = TRP
				original_tag = MEH
				original_tag = MMS
				original_tag = NEC
			}
		}
		available = {
			controls_state = FROM
			has_tech = excavation2
			num_of_civilian_factories_available_for_projects > 4
		}
		visible = {
			FROM = {
				has_state_flag = wfc_exploration_aluminium_flag
				NOT = {
					has_state_flag = wfc_resource_development_completed_flag
				}
				OWNER = {
					tag = ROOT
				}
			}
		}
		ai_will_do = {
			base = 1
			modifier = {
				add = 10
				aluminium < 0
			}
		}
		state_target = yes
		on_map_mode = map_and_decisions_view
		#target_array = owned_controlled_states
		target_array = owned_states
		target_trigger = {
			always = yes
		}
		cost = 25
		fire_only_once = yes
		days_remove = 60
		modifier = {
			civilian_factory_use = 5
		}
		remove_effect = {
			FROM = {
				set_state_flag = wfc_resource_development_completed_flag
				custom_effect_tooltip = wfc_develop_aluminium_deposits_tt
				#hidden_effect = {
				# set_temp_variable = {
				# 	res_count = 8
				# }
				# randomize_temp_variable = {
				# 	var = res_count
				# 	distribution = uniform
				# 	min = 3
				# 	max = 25
				# }
				add_resource = {
					type = aluminium
					amount = var:res_count
				}
				#}
			}
		}
	}
	wfc_develop_oil_deposits = {
		icon = oil
		desc = wfc_develop_deposits_desc
		allowed = {
			OR = {
				original_tag = ACW
				original_tag = HEN
				original_tag = MAH
				original_tag = TRP
				original_tag = MEH
				original_tag = MMS
				original_tag = NEC
			}
		}
		available = {
			controls_state = FROM
			has_tech = excavation2
			num_of_civilian_factories_available_for_projects > 4
		}
		visible = {
			FROM = {
				has_state_flag = wfc_exploration_oil_flag
				NOT = {
					has_state_flag = wfc_resource_development_completed_flag
				}
				OWNER = {
					tag = ROOT
				}
			}
		}
		ai_will_do = {
			base = 1
			modifier = {
				add = 10
				oil < 0
			}
		}
		state_target = yes
		on_map_mode = map_and_decisions_view
		#target_array = owned_controlled_states
		target_array = owned_states
		target_trigger = {
			always = yes
		}
		cost = 25
		fire_only_once = yes
		days_remove = 60
		modifier = {
			civilian_factory_use = 5
		}
		remove_effect = {
			FROM = {
				set_state_flag = wfc_resource_development_completed_flag
				custom_effect_tooltip = wfc_develop_oil_deposits_tt
				#hidden_effect = {
				# set_temp_variable = {
				# 	res_count = 8
				# }
				# randomize_temp_variable = {
				# 	var = res_count
				# 	distribution = uniform
				# 	min = 3
				# 	max = 25
				# }
				add_resource = {
					type = oil
					amount = var:res_count
				}
				#}
			}
		}
	}
	wfc_develop_chromium_deposits = {
		icon = chromium
		desc = wfc_develop_deposits_desc
		allowed = {
			OR = {
				original_tag = ACW
				original_tag = HEN
				original_tag = MAH
				original_tag = TRP
				original_tag = MEH
				original_tag = MMS
				original_tag = NEC
			}
		}
		available = {
			controls_state = FROM
			has_tech = excavation2
			num_of_civilian_factories_available_for_projects > 4
		}
		visible = {
			FROM = {
				has_state_flag = wfc_exploration_chromium_flag
				NOT = {
					has_state_flag = wfc_resource_development_completed_flag
				}
				OWNER = {
					tag = ROOT
				}
			}
		}
		ai_will_do = {
			base = 1
			modifier = {
				add = 10
				chromium < 0
			}
		}
		state_target = yes
		on_map_mode = map_and_decisions_view
		#target_array = owned_controlled_states
		target_array = owned_states
		target_trigger = {
			always = yes
		}
		cost = 25
		fire_only_once = yes
		days_remove = 60
		modifier = {
			civilian_factory_use = 5
		}
		remove_effect = {
			FROM = {
				set_state_flag = wfc_resource_development_completed_flag
				custom_effect_tooltip = wfc_develop_chromium_deposits_tt
				#hidden_effect = {
				# set_temp_variable = {
				# 	res_count = 8
				# }
				# randomize_temp_variable = {
				# 	var = res_count
				# 	distribution = uniform
				# 	min = 3
				# 	max = 25
				# }
				add_resource = {
					type = chromium
					amount = var:res_count
				}
				#}
			}
		}
	}
	wfc_develop_tungsten_deposits = {
		icon = tungsten
		desc = wfc_develop_deposits_desc
		allowed = {
			OR = {
				original_tag = ACW
				original_tag = HEN
				original_tag = MAH
				original_tag = TRP
				original_tag = MEH
				original_tag = MMS
				original_tag = NEC
			}
		}
		available = {
			controls_state = FROM
			has_tech = excavation2
			num_of_civilian_factories_available_for_projects > 4
		}
		visible = {
			FROM = {
				has_state_flag = wfc_exploration_tungsten_flag
				NOT = {
					has_state_flag = wfc_resource_development_completed_flag
				}
				OWNER = {
					tag = ROOT
				}
			}
		}
		ai_will_do = {
			base = 1
			modifier = {
				add = 10
				tungsten < 0
			}
		}
		state_target = yes
		on_map_mode = map_and_decisions_view
		#target_array = owned_controlled_states
		target_array = owned_states
		target_trigger = {
			always = yes
		}
		cost = 25
		fire_only_once = yes
		days_remove = 60
		modifier = {
			civilian_factory_use = 5
		}
		remove_effect = {
			FROM = {
				set_state_flag = wfc_resource_development_completed_flag
				custom_effect_tooltip = wfc_develop_tungsten_deposits_tt
				#hidden_effect = {
				# set_temp_variable = {
				# 	res_count = 8
				# }
				# randomize_temp_variable = {
				# 	var = res_count
				# 	distribution = uniform
				# 	min = 3
				# 	max = 25
				# }
				add_resource = {
					type = tungsten
					amount = var:res_count
				}
				#}
			}
		}
	}
	wfc_geological_exploration_in_puppet = {
		icon = GFX_decision_category_generic_prospect_for_resources
		allowed = {
			OR = {
				original_tag = ACW
				original_tag = HEN
				original_tag = MAH
				original_tag = TRP
				original_tag = MEH
				original_tag = MMS
				original_tag = NEC
			}
		}
		priority = 2
		cost = 50
		fire_only_once = no
		days_re_enable = 30
		days_remove = 30
		available = {
			has_tech = excavation1
			any_state = {
				OWNER = {
					is_puppet_of = ROOT
				}
				is_fully_controlled_by = OWNER
				custom_trigger_tooltip = {
					tooltip = wfc_not_geological_exploration_tt
					NOT = {
						has_state_flag = wfc_geological_exploration_completed_flag
					}
				}
			}
		}
		visible = {
			num_subjects > 0
			any_state = {
				OWNER = {
					is_puppet_of = ROOT
				}
				is_fully_controlled_by = OWNER
				NOT = {
					has_state_flag = wfc_geological_exploration_completed_flag
				}
			}
		}
		remove_effect = {
			random_state = {
				limit = {
					OWNER = {
						is_puppet_of = ROOT
					}
					is_fully_controlled_by = OWNER
					NOT = {
						has_state_flag = wfc_geological_exploration_completed_flag
					}
				}
				custom_effect_tooltip = wfc_generic_force_excavation_tt
				hidden_effect = {
					random_list = {
						40 = {
							set_state_flag = wfc_exploration_steel_flag
						}
						30 = {
							set_state_flag = wfc_exploration_aluminium_flag
						}
						10 = {
							set_state_flag = wfc_exploration_oil_flag
						}
						10 = {
							set_state_flag = wfc_exploration_tungsten_flag
						}
						10 = {
							set_state_flag = wfc_exploration_chromium_flag
						}
					}
					set_state_flag = wfc_geological_exploration_completed_flag
					set_variable = {
						res_count = 3
					}
					randomize_variable = {
						var = res_count
						distribution = uniform
						min = 3
						max = 25
					}
				}
			}
		}
		ai_will_do = {
			base = 0
			modifier = {
				add = 5
				OR = {
					steel < 0
					aluminium < 0
					oil < 0
					tungsten < 0
					chromium < 0
				}
			}
		}
	}
	wfc_develop_steel_deposits_in_puppet = {
		#name = wfc_develop_steel_deposits
		icon = steel
		desc = wfc_develop_deposits_desc
		allowed = {
			OR = {
				original_tag = ACW
				original_tag = HEN
				original_tag = MAH
				original_tag = TRP
				original_tag = MEH
				original_tag = MMS
				original_tag = NEC
			}
		}
		available = {
			FROM = {
				is_fully_controlled_by = OWNER
			}
			#controls_state = FROM
			has_tech = excavation2
			num_of_civilian_factories_available_for_projects > 4
		}
		visible = {
			FROM = {
				has_state_flag = wfc_exploration_steel_flag
				NOT = {
					has_state_flag = wfc_resource_development_completed_flag
				}
				OWNER = {
					is_puppet_of = ROOT
				}
			}
		}
		ai_will_do = {
			base = 1
			modifier = {
				add = 10
				steel < 0
			}
		}
		state_target = yes
		on_map_mode = map_and_decisions_view
		#target_array = owned_controlled_states
		#target_array = states
		target_trigger = {
			FROM = {
				OWNER = {
					is_puppet_of = ROOT
				}
			}
		}
		cost = 25
		fire_only_once = yes
		days_remove = 60
		modifier = {
			civilian_factory_use = 5
		}
		remove_effect = {
			FROM = {
				set_state_flag = wfc_resource_development_completed_flag
				custom_effect_tooltip = wfc_develop_steel_deposits_tt
				#hidden_effect = {
				# set_temp_variable = {
				# 	res_count = 8
				# }
				# randomize_temp_variable = {
				# 	var = res_count
				# 	distribution = uniform
				# 	min = 3
				# 	max = 25
				# }
				add_resource = {
					type = steel
					amount = var:res_count
				}
				#}
			}
		}
	}
	wfc_develop_aluminium_deposits_in_puppet = {
		#name = wfc_develop_aluminium_deposits
		icon = aluminium
		desc = wfc_develop_deposits_desc
		allowed = {
			OR = {
				original_tag = ACW
				original_tag = HEN
				original_tag = MAH
				original_tag = TRP
				original_tag = MEH
				original_tag = MMS
				original_tag = NEC
			}
		}
		available = {
			FROM = {
				is_fully_controlled_by = OWNER
			}
			has_tech = excavation2
			num_of_civilian_factories_available_for_projects > 4
		}
		visible = {
			FROM = {
				has_state_flag = wfc_exploration_aluminium_flag
				NOT = {
					has_state_flag = wfc_resource_development_completed_flag
				}
				OWNER = {
					is_puppet_of = ROOT
				}
			}
		}
		ai_will_do = {
			base = 1
			modifier = {
				add = 10
				aluminium < 0
			}
		}
		state_target = yes
		on_map_mode = map_and_decisions_view
		#target_array = owned_controlled_states
		#target_array = owned_states
		target_trigger = {
			FROM = {
				OWNER = {
					is_puppet_of = ROOT
				}
			}
		}
		cost = 25
		fire_only_once = yes
		days_remove = 60
		modifier = {
			civilian_factory_use = 5
		}
		remove_effect = {
			FROM = {
				set_state_flag = wfc_resource_development_completed_flag
				custom_effect_tooltip = wfc_develop_aluminium_deposits_tt
				#hidden_effect = {
				# set_temp_variable = {
				# 	res_count = 8
				# }
				# randomize_temp_variable = {
				# 	var = res_count
				# 	distribution = uniform
				# 	min = 3
				# 	max = 25
				# }
				add_resource = {
					type = aluminium
					amount = var:res_count
				}
				#}
			}
		}
	}
	wfc_develop_oil_deposits_in_puppet = {
		#name = wfc_develop_oil_deposits
		icon = oil
		desc = wfc_develop_deposits_desc
		allowed = {
			OR = {
				original_tag = ACW
				original_tag = HEN
				original_tag = MAH
				original_tag = TRP
				original_tag = MEH
				original_tag = MMS
				original_tag = NEC
			}
		}
		available = {
			FROM = {
				is_fully_controlled_by = OWNER
			}
			has_tech = excavation2
			num_of_civilian_factories_available_for_projects > 4
		}
		visible = {
			FROM = {
				has_state_flag = wfc_exploration_oil_flag
				NOT = {
					has_state_flag = wfc_resource_development_completed_flag
				}
				OWNER = {
					is_puppet_of = ROOT
				}
			}
		}
		ai_will_do = {
			base = 1
			modifier = {
				add = 10
				oil < 0
			}
		}
		state_target = yes
		on_map_mode = map_and_decisions_view
		#target_array = owned_controlled_states
		#target_array = owned_states
		target_trigger = {
			FROM = {
				OWNER = {
					is_puppet_of = ROOT
				}
			}
		}
		cost = 25
		fire_only_once = yes
		days_remove = 60
		modifier = {
			civilian_factory_use = 5
		}
		remove_effect = {
			FROM = {
				set_state_flag = wfc_resource_development_completed_flag
				custom_effect_tooltip = wfc_develop_oil_deposits_tt
				#hidden_effect = {
				# set_temp_variable = {
				# 	res_count = 8
				# }
				# randomize_temp_variable = {
				# 	var = res_count
				# 	distribution = uniform
				# 	min = 3
				# 	max = 25
				# }
				add_resource = {
					type = oil
					amount = var:res_count
				}
				#}
			}
		}
	}
	wfc_develop_chromium_deposits_in_puppet = {
		#name = wfc_develop_chromium_deposits
		icon = chromium
		desc = wfc_develop_deposits_desc
		allowed = {
			OR = {
				original_tag = ACW
				original_tag = HEN
				original_tag = MAH
				original_tag = TRP
				original_tag = MEH
				original_tag = MMS
				original_tag = NEC
			}
		}
		available = {
			FROM = {
				is_fully_controlled_by = OWNER
			}
			has_tech = excavation2
			num_of_civilian_factories_available_for_projects > 4
		}
		visible = {
			FROM = {
				has_state_flag = wfc_exploration_chromium_flag
				NOT = {
					has_state_flag = wfc_resource_development_completed_flag
				}
				OWNER = {
					is_puppet_of = ROOT
				}
			}
		}
		ai_will_do = {
			base = 1
			modifier = {
				add = 10
				chromium < 0
			}
		}
		state_target = yes
		on_map_mode = map_and_decisions_view
		#target_array = owned_controlled_states
		#target_array = owned_states
		target_trigger = {
			FROM = {
				OWNER = {
					is_puppet_of = ROOT
				}
			}
		}
		cost = 25
		fire_only_once = yes
		days_remove = 60
		modifier = {
			civilian_factory_use = 5
		}
		remove_effect = {
			FROM = {
				set_state_flag = wfc_resource_development_completed_flag
				custom_effect_tooltip = wfc_develop_chromium_deposits_tt
				#hidden_effect = {
				# set_temp_variable = {
				# 	res_count = 8
				# }
				# randomize_temp_variable = {
				# 	var = res_count
				# 	distribution = uniform
				# 	min = 3
				# 	max = 25
				# }
				add_resource = {
					type = chromium
					amount = var:res_count
				}
				#}
			}
		}
	}
	wfc_develop_tungsten_deposits_in_puppet = {
		#name = wfc_develop_tungsten_deposits
		icon = tungsten
		desc = wfc_develop_deposits_desc
		allowed = {
			OR = {
				original_tag = ACW
				original_tag = HEN
				original_tag = MAH
				original_tag = TRP
				original_tag = MEH
				original_tag = MMS
				original_tag = NEC
			}
		}
		available = {
			FROM = {
				is_fully_controlled_by = OWNER
			}
			has_tech = excavation2
			num_of_civilian_factories_available_for_projects > 4
		}
		visible = {
			FROM = {
				has_state_flag = wfc_exploration_tungsten_flag
				NOT = {
					has_state_flag = wfc_resource_development_completed_flag
				}
				OWNER = {
					is_puppet_of = ROOT
				}
			}
		}
		ai_will_do = {
			base = 1
			modifier = {
				add = 10
				tungsten < 0
			}
		}
		state_target = yes
		on_map_mode = map_and_decisions_view
		#target_array = owned_controlled_states
		#target_array = owned_states
		target_trigger = {
			FROM = {
				OWNER = {
					is_puppet_of = ROOT
				}
			}
		}
		cost = 25
		fire_only_once = yes
		days_remove = 60
		modifier = {
			civilian_factory_use = 5
		}
		remove_effect = {
			FROM = {
				set_state_flag = wfc_resource_development_completed_flag
				custom_effect_tooltip = wfc_develop_tungsten_deposits_tt
				#hidden_effect = {
				# set_temp_variable = {
				# 	res_count = 8
				# }
				# randomize_temp_variable = {
				# 	var = res_count
				# 	distribution = uniform
				# 	min = 3
				# 	max = 25
				# }
				add_resource = {
					type = tungsten
					amount = var:res_count
				}
				#}
			}
		}
	}
}

economy_decisions = {
	wfc_railway_from_na_to_sa_decision = {
		fire_only_once = yes
		cost = 25
		days_remove = 240		#15 * 16
		allowed = {
			OR = {
				original_tag = ACW
				original_tag = HEN
				original_tag = MAH
				original_tag = TRP
				original_tag = MEH
				original_tag = MMS
				original_tag = NEC
			}
		}
		visible = {
			378 = {
				OR = {
					is_controlled_by_ROOT_or_ally = yes
					is_controlled_by_ROOT_or_subject = yes
				}
			}
			377 = {
				OR = {
					is_controlled_by_ROOT_or_ally = yes
					is_controlled_by_ROOT_or_subject = yes
				}
			}
			483 = {
				OR = {
					is_controlled_by_ROOT_or_ally = yes
					is_controlled_by_ROOT_or_subject = yes
				}
			}
			481 = {
				OR = {
					is_controlled_by_ROOT_or_ally = yes
					is_controlled_by_ROOT_or_subject = yes
				}
			}
			478 = {
				OR = {
					is_controlled_by_ROOT_or_ally = yes
					is_controlled_by_ROOT_or_subject = yes
				}
			}
			485 = {
				OR = {
					is_controlled_by_ROOT_or_ally = yes
					is_controlled_by_ROOT_or_subject = yes
				}
			}
			476 = {
				OR = {
					is_controlled_by_ROOT_or_ally = yes
					is_controlled_by_ROOT_or_subject = yes
				}
			}
			475 = {
				OR = {
					is_controlled_by_ROOT_or_ally = yes
					is_controlled_by_ROOT_or_subject = yes
				}
			}
			313 = {
				OR = {
					is_controlled_by_ROOT_or_ally = yes
					is_controlled_by_ROOT_or_subject = yes
				}
			}
			312 = {
				OR = {
					is_controlled_by_ROOT_or_ally = yes
					is_controlled_by_ROOT_or_subject = yes
				}
			}
			317 = {
				OR = {
					is_controlled_by_ROOT_or_ally = yes
					is_controlled_by_ROOT_or_subject = yes
				}
			}
			316 = {
				OR = {
					is_controlled_by_ROOT_or_ally = yes
					is_controlled_by_ROOT_or_subject = yes
				}
			}
			304 = {
				OR = {
					is_controlled_by_ROOT_or_ally = yes
					is_controlled_by_ROOT_or_subject = yes
				}
			}
			685 = {
				OR = {
					is_controlled_by_ROOT_or_ally = yes
					is_controlled_by_ROOT_or_subject = yes
				}
			}
			493 = {
				OR = {
					is_controlled_by_ROOT_or_ally = yes
					is_controlled_by_ROOT_or_subject = yes
				}
			}
		}
		available = {
			num_of_civilian_factories_available_for_projects > 4
		}
		modifier = {
			civilian_factory_use = 5
		}
		remove_effect = {
			build_railway = {
				level = 5
				start_province = 9671
				target_province = 4969
			}
			493 = {
				add_building_construction = {
					type = supply_node
					level = 1
					province = 4969
					instant_build = yes
				}
			}
		}
		ai_will_do = {
			factor = 100
		}
	}
	wfc_railway_from_damask_to_bagdad_decision = {
		fire_only_once = yes
		cost = 25
		days_remove = 64		#4 * 16
		allowed = {
			original_tag = MAH
		}
		visible = {
			554 = {
				is_controlled_by_ROOT_or_subject = yes
			}
			680 = {
				is_controlled_by_ROOT_or_subject = yes
			}
			675 = {
				is_controlled_by_ROOT_or_subject = yes
			}
			291 = {
				is_controlled_by_ROOT_or_subject = yes
			}
		}
		available = {
			num_of_civilian_factories_available_for_projects > 4
		}
		modifier = {
			civilian_factory_use = 5
		}
		remove_effect = {
			build_railway = {
				level = 1
				start_province = 4111
				target_province = 2097
			}
		}
		ai_will_do = {
			factor = 100
		}
	}
}

wfc_machine_war_category = {
	wfc_machine_war_for_mex_decision = {
		icon = generic_ignite_civil_war
		fire_only_once = yes
		cost = 50
		available = {
			is_puppet = no
			NOT = {
				is_in_faction_with = MEH
			}
			controls_state = 375
			controls_state = 376
			controls_state = 377
			OR = {
				483 = {
					is_owned_by = MEH
				}
				482 = {
					is_owned_by = MEH
				}
				480 = {
					is_owned_by = MEH
				}
				479 = {
					is_owned_by = MEH
				}
			}
			date > 1939.1.1
		}
		ai_will_do = {
			factor = 1
		}
		complete_effect = {
			MEH = {
				country_event = meh_event.2
			}
			set_country_flag = wfc_usa_declare_war_meh
		}
	}
	wfc_machine_war_for_ideology_decision = {
		icon = generic_ignite_civil_war
		fire_only_once = yes
		cost = 100
		days_remove = 60
		war_with_on_remove = MEH
		available = {
			is_puppet = no
			has_government = democratic
			MEH = {
				OR = {
					has_government = fascism
					has_government = communism
				}
			}
			date > 1939.1.1
		}
		ai_will_do = {
			factor = 1
		}
		remove_effect = {
			declare_war_on = {
				target = MEH
				type = annex_everything
			}
			news_event = wfc_news.8
			set_country_flag = wfc_usa_declare_war_meh
		}
	}
}

wfc_category_preparing_a_coup = {
	wfc_decision_bribe_the_generals = {
		icon = GFX_decision_generic_political_discourse
		cost = 50
		fire_only_once = no
		#days_re_enable = 30
		days_remove = 30
		priority = 3
		#fixed_random_seed = no
		visible = {
			NOT = {
				has_country_flag = wfc_flag_bribe_the_generals
			}
		}
		available = {
			network_strength = {
				target = var:wfc_var_target_coup
				value > 50
			}
			num_of_civilian_factories_available_for_projects > 14
		}
		modifier = {
			civilian_factory_use = 15
		}
		remove_effect = {
			set_country_flag = wfc_flag_bribe_the_generals
			add_collaboration = {
				target = var:wfc_var_target_coup
				value = 0.1
			}
		}
		ai_will_do = {
			base = 1
		}
	}
	wfc_decision_bribe_the_admirals = {
		icon = GFX_decision_generic_political_discourse
		cost = 50
		fire_only_once = no
		#days_re_enable = 30
		days_remove = 30
		priority = 3
		#fixed_random_seed = no
		visible = {
			NOT = {
				has_country_flag = wfc_flag_bribe_the_admirals
			}
			var:wfc_var_target_coup = {
				any_owned_state = {
					is_coastal = yes
				}
			}
		}
		available = {
			network_strength = {
				target = var:wfc_var_target_coup
				value > 50
			}
			num_of_civilian_factories_available_for_projects > 14
		}
		modifier = {
			civilian_factory_use = 15
		}
		remove_effect = {
			set_country_flag = wfc_flag_bribe_the_admirals
			add_collaboration = {
				target = var:wfc_var_target_coup
				value = 0.1
			}
		}
		ai_will_do = {
			base = 1
		}
	}
	wfc_decision_bribe_intelligence_officers = {
		icon = GFX_decision_generic_political_discourse
		cost = 50
		fire_only_once = no
		#days_re_enable = 30
		days_remove = 30
		priority = 3
		#fixed_random_seed = no
		visible = {
			NOT = {
				has_country_flag = wfc_flag_bribe_intelligence_officers
			}
			has_intelligence_agency = yes
		}
		available = {
			network_strength = {
				target = var:wfc_var_target_coup
				value > 50
			}
			num_of_civilian_factories_available_for_projects > 14
		}
		modifier = {
			civilian_factory_use = 15
		}
		remove_effect = {
			set_country_flag = wfc_flag_bribe_intelligence_officers
			add_collaboration = {
				target = var:wfc_var_target_coup
				value = 0.1
			}
		}
		ai_will_do = {
			base = 1
		}
	}
	wfc_decision_bribe_officials = {
		icon = GFX_decision_generic_political_discourse
		cost = 50
		fire_only_once = no
		#days_re_enable = 30
		days_remove = 30
		priority = 3
		#fixed_random_seed = no
		visible = {
			NOT = {
				has_country_flag = wfc_flag_bribe_officials
			}
		}
		available = {
			network_strength = {
				target = var:wfc_var_target_coup
				value > 50
			}
			num_of_civilian_factories_available_for_projects > 14
		}
		modifier = {
			civilian_factory_use = 15
		}
		remove_effect = {
			set_country_flag = wfc_flag_bribe_officials
			add_collaboration = {
				target = var:wfc_var_target_coup
				value = 0.1
			}
		}
		ai_will_do = {
			base = 1
		}
	}
	wfc_decision_create_weapon_caches = {
		icon = GFX_decision_FIN_weapon_caches
		cost = 75
		fire_only_once = no
		#days_re_enable = 30
		days_remove = 30
		priority = 3
		#fixed_random_seed = no
		visible = {
			NOT = {
				has_country_flag = wfc_flag_create_weapon_caches
			}
		}
		available = {
			network_strength = {
				target = var:wfc_var_target_coup
				value > 75
			}
			has_country_flag = wfc_flag_bribe_the_generals
			if = {
				limit = {
					var:wfc_var_target_coup = {
						any_owned_state = {
							is_coastal = yes
						}
					}
				}
				has_country_flag = wfc_flag_bribe_the_admirals
			}
			if = {
				limit = {
					has_intelligence_agency = yes
				}
				has_country_flag = wfc_flag_bribe_intelligence_officers
			}
			has_country_flag = wfc_flag_bribe_officials
			num_of_civilian_factories_available_for_projects > 14
			has_equipment = {
				infantry_equipment > 4999
			}
		}
		modifier = {
			civilian_factory_use = 15
		}
		remove_effect = {
			set_country_flag = wfc_flag_create_weapon_caches
			add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = -5000
			}
			add_collaboration = {
				target = var:wfc_var_target_coup
				value = 0.1
			}
		}
		ai_will_do = {
			base = 1
		}
	}
	wfc_decision_discredit_the_government = {
		icon = GFX_decision_eng_propaganda_campaigns
		cost = 75
		fire_only_once = no
		#days_re_enable = 30
		days_remove = 30
		priority = 3
		#fixed_random_seed = no
		visible = {
			NOT = {
				has_country_flag = wfc_flag_discredit_the_government
			}
		}
		available = {
			network_strength = {
				target = var:wfc_var_target_coup
				value > 75
			}
			has_country_flag = wfc_flag_bribe_the_generals
			if = {
				limit = {
					var:wfc_var_target_coup = {
						any_owned_state = {
							is_coastal = yes
						}
					}
				}
				has_country_flag = wfc_flag_bribe_the_admirals
			}
			if = {
				limit = {
					has_intelligence_agency = yes
				}
				has_country_flag = wfc_flag_bribe_intelligence_officers
			}
			has_country_flag = wfc_flag_bribe_officials
			num_of_civilian_factories_available_for_projects > 14
		}
		modifier = {
			civilian_factory_use = 15
		}
		remove_effect = {
			set_country_flag = wfc_flag_discredit_the_government
			var:wfc_var_target_coup = {
				add_stability = -0.1
				add_political_power = -100
				if = {
					limit = {
						has_government = fascism
					}
					add_popularity = {
						ideology = fascism
						popularity = -0.1
					}
				}
				else_if = {
					limit = {
						has_government = communism
					}
					add_popularity = {
						ideology = communism
						popularity = -0.1
					}
				}
				else_if = {
					limit = {
						has_government = democratic
					}
					add_popularity = {
						ideology = democratic
						popularity = -0.1
					}
				}
				else = {
					add_popularity = {
						ideology = neutrality
						popularity = -0.1
					}
				}
			}
			add_collaboration = {
				target = var:wfc_var_target_coup
				value = 0.1
			}
		}
		ai_will_do = {
			base = 1
		}
	}
	wfc_decision_plan_the_assassination_of_the_head_of_state = {
		icon = GFX_decision_generic_assassination
		#cost = 50
		custom_cost_trigger = {
			has_political_power > 74
			command_power > 24
		}
		custom_cost_text = wfc_decision_cost_CP_25_pp_75
		fire_only_once = no
		#days_re_enable = 30
		days_remove = 30
		priority = 3
		#fixed_random_seed = no
		visible = {
			NOT = {
				has_country_flag = wfc_flag_plan_the_assassination_of_the_head_of_state
			}
		}
		available = {
			network_strength = {
				target = var:wfc_var_target_coup
				value > 75
			}
			has_country_flag = wfc_flag_bribe_the_generals
			if = {
				limit = {
					var:wfc_var_target_coup = {
						any_owned_state = {
							is_coastal = yes
						}
					}
				}
				has_country_flag = wfc_flag_bribe_the_admirals
			}
			if = {
				limit = {
					has_intelligence_agency = yes
				}
				has_country_flag = wfc_flag_bribe_intelligence_officers
			}
			has_country_flag = wfc_flag_bribe_officials
			num_of_civilian_factories_available_for_projects > 14
		}
		modifier = {
			civilian_factory_use = 15
		}
		complete_effect = {
			add_political_power = -150
			add_command_power = -25
		}
		remove_effect = {
			set_country_flag = wfc_flag_plan_the_assassination_of_the_head_of_state
			add_collaboration = {
				target = var:wfc_var_target_coup
				value = 0.1
			}
		}
		ai_will_do = {
			base = 1
		}
	}
	wfc_decision_coup = {
		icon = GFX_decision_generic_ignite_civil_war
		fire_only_once = no
		cost = 0
		#days_re_enable = 180
		fixed_random_seed = no
		available = {
			network_strength = {
				target = var:wfc_var_target_coup
				value > 75
			}
			has_country_flag = wfc_flag_bribe_the_generals
			if = {
				limit = {
					var:wfc_var_target_coup = {
						any_owned_state = {
							is_coastal = yes
						}
					}
				}
				has_country_flag = wfc_flag_bribe_the_admirals
			}
			if = {
				limit = {
					has_intelligence_agency = yes
				}
				has_country_flag = wfc_flag_bribe_intelligence_officers
			}
			has_country_flag = wfc_flag_bribe_officials
			has_country_flag = wfc_flag_create_weapon_caches
			has_country_flag = wfc_flag_discredit_the_government
			has_country_flag = wfc_flag_plan_the_assassination_of_the_head_of_state
		}
		complete_effect = {
			random_list = {
				60 = {
					modifier = {
						network_strength = {
							target = var:wfc_var_target_coup
							value > 75
						}
						factor = 1.5
					}
					modifier = {
						network_strength = {
							target = var:wfc_var_target_coup
							value > 99
						}
						factor = 2
					}
					modifier = {
						network_national_coverage = {
							target = var:wfc_var_target_coup
							value > 75
						}
						factor = 1.5
					}
					modifier = {
						has_collaboration = {
							target = var:wfc_var_target_coup
							value > 0.75
						}
						factor = 1.5
					}
					modifier = {
						has_collaboration = {
							target = var:wfc_var_target_coup
							value > 0.9
						}
						factor = 2
					}
					modifier = {
						var:wfc_var_target_coup = {
							if = {
								limit = {
									has_government = fascism
								}
								fascism < 0.5
							}
							else_if = {
								limit = {
									has_government = communism
								}
								communism < 0.5
							}
							else_if = {
								limit = {
									has_government = democratic
								}
								democratic < 0.5
							}
							else = {
								neutrality < 0.5
							}
						}
						factor = 2
					}
					modifier = {
						var:wfc_var_target_coup = {
							has_stability < 0.5
						}
						factor = 1.5
					}
					puppet = var:wfc_var_target_coup
					var:wfc_var_target_coup = {
						if = {
							limit = {
								NOT = {
									original_tag = ACW
									original_tag = HEN
									original_tag = MAH
									original_tag = TRP
									original_tag = MMS
									original_tag = MEH
									original_tag = NEC
								}
							}
							wfc_change_country_leader = yes
						}
					}
					add_named_threat = {
						threat = 5
						name = wfc_create_puppet_threat
					}
					set_variable = {
						wfc_target_puppet = wfc_var_target_coup
					}
					country_event = wfc_event.6
				}
				40 = {
					modifier = {
						var:wfc_var_target_coup = {
							is_major = yes
						}
						factor = 1.5
					}
					modifier = {
						var:wfc_var_target_coup = {
							ic_ratio = {
								tag = ROOT
								ratio > 1.5
							}
						}
						factor = 1.5
					}
					modifier = {
						var:wfc_var_target_coup = {
							ic_ratio = {
								tag = ROOT
								ratio > 2
							}
						}
						factor = 2
					}
					modifier = {
						var:wfc_var_target_coup = {
							strength_ratio = {
								tag = ROOT
								ratio > 1.5
							}
						}
						factor = 1.5
					}
					modifier = {
						var:wfc_var_target_coup = {
							strength_ratio = {
								tag = ROOT
								ratio > 2
							}
						}
						factor = 2
					}
					modifier = {
						var:wfc_var_target_coup = {
							has_war_with = ROOT
						}
						factor = 2
					}
					if = {
						limit = {
							var:wfc_var_target_coup = {
								OR = {
									is_puppet = yes
									is_subject = yes
								}
							}
						}
						if = {
							limit = {
								var:wfc_var_target_coup = {
									OVERLORD = {
										has_government = fascism
									}
								}
							}
							var:wfc_var_target_coup = {
								OVERLORD = {
									create_wargoal = {
										target = ROOT
										type = annex_everything
									}
								}
							}
						}
						else = {
							var:wfc_var_target_coup = {
								OVERLORD = {
									create_wargoal = {
										target = ROOT
										type = puppet_wargoal_focus
									}
								}
							}
						}
					}
					else = {
						if = {
							limit = {
								var:wfc_var_target_coup = {
									has_government = fascism
								}
							}
							var:wfc_var_target_coup = {
								create_wargoal = {
									target = ROOT
									type = annex_everything
								}
							}
						}
						else = {
							var:wfc_var_target_coup = {
								create_wargoal = {
									target = ROOT
									type = puppet_wargoal_focus
								}
							}
						}
					}
					var:wfc_var_target_coup = {
						add_opinion_modifier = {
							target = ROOT
							modifier = medium_decrease
						}
					}
					set_variable = {
						wfc_target_puppet = wfc_var_target_coup
					}
					country_event = wfc_event.7
				}
			}
			clr_country_flag = wfc_flag_preparing_a_coup
			clr_country_flag = wfc_flag_bribe_the_generals
			clr_country_flag = wfc_flag_bribe_the_admirals
			clr_country_flag = wfc_flag_bribe_intelligence_officers
			clr_country_flag = wfc_flag_bribe_officials
			clr_country_flag = wfc_flag_create_weapon_caches
			clr_country_flag = wfc_flag_discredit_the_government
			clr_country_flag = wfc_flag_plan_the_assassination_of_the_head_of_state
		}
	}
	wfc_decision_cancel_coup = {
		fire_only_once = no
		cost = 50
		complete_effect = {
			clr_country_flag = wfc_flag_preparing_a_coup
			clr_country_flag = wfc_flag_bribe_the_generals
			clr_country_flag = wfc_flag_bribe_the_admirals
			clr_country_flag = wfc_flag_bribe_intelligence_officers
			clr_country_flag = wfc_flag_bribe_officials
			clr_country_flag = wfc_flag_create_weapon_caches
			clr_country_flag = wfc_flag_discredit_the_government
			clr_country_flag = wfc_flag_plan_the_assassination_of_the_head_of_state
		}
		ai_will_do = {
			base = 0
			modifier = {
				var:wfc_var_target_coup = {
					exists = no
				}
				add = 1
			}
			modifier = {
				var:wfc_var_target_coup = {
					has_capitulated = yes
				}
				add = 1
			}
		}
	}
}

improving_our_army_category = {
	wfc_smb_specialize_in_infantry_tanks = {
		name = JUNO_specialize_in_infantry_tanks
		priority = 10
		icon = GFX_decision_generic_tank
		ai_will_do = {
			base = 80
		}
		allowed = {
			OR = {
				original_tag = ACW
				original_tag = HEN
				original_tag = MAH
				original_tag = TRP
				original_tag = MEH
				original_tag = MMS
				original_tag = NEC
			}
		}
		available = {
			has_completed_focus = wfc_smb_tank_warfare
			NOT = {
				has_country_flag = JUNO_already_specialized_in_tanks_dummy
			}
		}
		custom_cost_trigger = {
			command_power > 39
		}
		custom_cost_text = decision_cost_CP_40
		visible = {
			has_completed_focus = wfc_smb_tank_warfare
			NOT = {
				has_country_flag = JUNO_already_specialized_in_tanks
			}
		}
		days_remove = 35
		#cost = 75
		complete_effect = {
			hidden_effect = {
				add_command_power = -40
				set_country_flag = JUNO_already_specialized_in_tanks_dummy
			}
		}
		remove_effect = {
			IF = {
				limit = {
					original_tag = TRP
				}
				custom_effect_tooltip = wfc_tt_smb_modify_army_ns_intro
				add_to_variable = {
					wfc_smb_army_modifier_army_armor_defence_factor = 0.1
					tooltip = army_armor_defence_factor_tt
				}
				add_to_variable = {
					wfc_smb_army_modifier_army_org_factor = 0.05
					tooltip = army_org_factor_tt
				}
			}
			ELSE_IF = {
				limit = {
					original_tag = MEH
				}
				custom_effect_tooltip = wfc_tt_smb_modify_army_ns_intro
				add_to_variable = {
					wfc_smb_army_modifier_army_armor_defence_factor = 0.05
					tooltip = army_armor_defence_factor_tt
				}
				add_to_variable = {
					wfc_smb_army_modifier_army_org_factor = 0.1
					tooltip = army_org_factor_tt
				}
			}
			ELSE = {
				custom_effect_tooltip = wfc_tt_smb_modify_army_ns_intro
				add_to_variable = {
					wfc_smb_army_modifier_army_armor_defence_factor = 0.1
					tooltip = army_armor_defence_factor_tt
				}
				add_to_variable = {
					wfc_smb_army_modifier_army_org_factor = 0.05
					tooltip = army_org_factor_tt
				}
			}
			hidden_effect = {
				set_country_flag = JUNO_already_specialized_in_tanks
			}
		}
	}
	wfc_smb_specialize_in_breakthrough_tanks = {
		name = JUNO_specialize_in_breakthrough_tanks
		priority = 9
		icon = GFX_decision_generic_tank
		ai_will_do = {
			base = 80
		}
		allowed = {
			OR = {
				original_tag = ACW
				original_tag = HEN
				original_tag = MAH
				original_tag = TRP
				original_tag = MEH
				original_tag = MMS
				original_tag = NEC
			}
		}
		available = {
			has_completed_focus = wfc_smb_tank_warfare
			NOT = {
				has_country_flag = JUNO_already_specialized_in_tanks_dummy
			}
		}
		custom_cost_trigger = {
			command_power > 39
		}
		custom_cost_text = decision_cost_CP_40
		visible = {
			has_completed_focus = wfc_smb_tank_warfare
			NOT = {
				has_country_flag = JUNO_already_specialized_in_tanks
			}
		}
		days_remove = 35
		#cost = 75
		complete_effect = {
			hidden_effect = {
				add_command_power = -40
				set_country_flag = JUNO_already_specialized_in_tanks_dummy
			}
		}
		remove_effect = {
			IF = {
				limit = {
					original_tag = TRP
				}
				custom_effect_tooltip = wfc_tt_smb_modify_army_ns_intro
				add_to_variable = {
					wfc_smb_army_modifier_army_armor_attack_factor = 0.035
					tooltip = army_armor_attack_factor_tt
				}
				add_to_variable = {
					wfc_smb_army_modifier_army_attack_speed_factor = 0.05
					tooltip = army_attack_speed_factor_tt
				}
			}
			ELSE_IF = {
				limit = {
					original_tag = MEH
				}
				custom_effect_tooltip = wfc_tt_smb_modify_army_ns_intro
				add_to_variable = {
					wfc_smb_army_modifier_army_armor_attack_factor = 0.03
					tooltip = army_armor_attack_factor_tt
				}
				add_to_variable = {
					wfc_smb_army_modifier_army_attack_speed_factor = 0.1
					tooltip = army_attack_speed_factor_tt
				}
			}
			ELSE = {
				custom_effect_tooltip = wfc_tt_smb_modify_army_ns_intro
				add_to_variable = {
					wfc_smb_army_modifier_army_armor_attack_factor = 0.035
					tooltip = army_armor_attack_factor_tt
				}
				add_to_variable = {
					wfc_smb_army_modifier_army_attack_speed_factor = 0.05
					tooltip = army_attack_speed_factor_tt
				}
			}
			hidden_effect = {
				set_country_flag = JUNO_already_specialized_in_tanks
			}
		}
	}
	wfc_smb_invite_japanese_army_advisors = {
		name = JUNO_invite_japanese_army_advisors
		priority = 20
		icon = GFX_decision_generic_army_support
		ai_will_do = {
			base = 60
		}
		allowed = {
			OR = {
				original_tag = ACW
				original_tag = HEN
				original_tag = MAH
				original_tag = TRP
				original_tag = MEH
				original_tag = MMS
				original_tag = NEC
			}
		}
		available = {
			has_completed_focus = wfc_smb_foreign_advisors
			any_country = {
				original_tag = JAP
				exists = yes
				NOT = {
					has_war_with = ROOT
				}
			}
			NOT = {
				OR = {
					has_country_flag = JUNO_already_invited_japanese_advisors_completed
					has_country_flag = JUNO_already_invited_american_advisors_completed
					has_country_flag = JUNO_already_invited_soviet_advisors_completed
				}
			}
			custom_trigger_tooltip = {
				tooltip = has_japanese_ideology
				OR = {
					AND = {
						JAP = {
							has_government = fascism
						}
						ROOT = {
							NOT = {
								has_government = communism
							}
						}
					}
					AND = {
						JAP = {
							has_government = democratic
						}
						NOT = {
							has_government = communism
							has_government = fascism
						}
					}
					AND = {
						JAP = {
							has_government = communism
						}
						NOT = {
							has_government = fascism
							has_government = neutrality
						}
					}
					AND = {
						JAP = {
							has_government = neutrality
						}
						NOT = {
							has_government = communism
						}
					}
				}
			}
		}
		visible = {
			has_completed_focus = wfc_smb_foreign_advisors
			NOT = {
				OR = {
					has_country_flag = JUNO_already_invited_japanese_advisors_removed
					has_country_flag = JUNO_already_invited_american_advisors_removed
					has_country_flag = JUNO_already_invited_soviet_advisors_removed
				}
			}
		}
		days_remove = 70
		cost = 75
		complete_effect = {
			hidden_effect = {
				set_country_flag = JUNO_already_invited_japanese_advisors_completed
			}
		}
		remove_effect = {
			IF = {
				limit = {
					original_tag = TRP
				}
				custom_effect_tooltip = wfc_tt_smb_modify_army_ns_intro
				add_to_variable = {
					wfc_smb_army_modifier_army_org_factor = 0.04
					tooltip = army_org_factor_tt
				}
				add_to_variable = {
					wfc_smb_army_modifier_army_attack_speed_factor = 0.06
					tooltip = army_attack_speed_factor_tt
				}
			}
			ELSE_IF = {
				limit = {
					original_tag = MEH
				}
				custom_effect_tooltip = wfc_tt_smb_modify_army_ns_intro
				add_to_variable = {
					wfc_smb_army_modifier_army_org_factor = 0.06
					tooltip = army_org_factor_tt
				}
				add_to_variable = {
					wfc_smb_army_modifier_army_attack_speed_factor = 0.04
					tooltip = army_attack_speed_factor_tt
				}
			}
			ELSE = {
				custom_effect_tooltip = wfc_tt_smb_modify_army_ns_intro
				add_to_variable = {
					wfc_smb_army_modifier_army_org_factor = 0.05
					tooltip = army_org_factor_tt
				}
				add_to_variable = {
					wfc_smb_army_modifier_army_attack_speed_factor = 0.05
					tooltip = army_attack_speed_factor_tt
				}
			}
			add_doctrine_cost_reduction = {
				name = GRAND_BATTLEPLAN_DOCTRINE
				cost_reduction = 0.75
				uses = 1
				category = cat_grand_battle_plan
			}
			hidden_effect = {
				set_country_flag = JUNO_already_invited_japanese_advisors_removed
			}
		}
	}
	wfc_smb_invite_american_army_advisors = {
		name = JUNO_invite_american_army_advisors
		priority = 19
		icon = GFX_decision_generic_army_support
		ai_will_do = {
			base = 80
		}
		allowed = {
			OR = {
				original_tag = ACW
				original_tag = HEN
				original_tag = MAH
				original_tag = TRP
				original_tag = MEH
				original_tag = MMS
				original_tag = NEC
			}
		}
		available = {
			has_completed_focus = wfc_smb_foreign_advisors
			any_country = {
				original_tag = USA
				exists = yes
				NOT = {
					has_war_with = ROOT
				}
			}
			NOT = {
				OR = {
					has_country_flag = JUNO_already_invited_american_advisors_completed
					has_country_flag = JUNO_already_invited_italian_advisors_completed
					has_country_flag = JUNO_already_invited_japanese_advisors_completed
				}
			}
			IF = {
				limit = {
					original_tag = CHL
				}
				NOT = {
					has_completed_focus = CHL_promote_broad_anti_americansim
				}
			}
			custom_trigger_tooltip = {
				tooltip = has_american_ideology
				OR = {
					AND = {
						USA = {
							has_government = fascism
						}
						NOT = {
							has_government = communism
							has_government = democratic
						}
					}
					AND = {
						USA = {
							has_government = democratic
						}
						NOT = {
							has_government = communism
							has_government = neutrality
						}
					}
					AND = {
						USA = {
							has_government = communism
						}
						NOT = {
							has_government = fascism
							has_government = neutrality
						}
					}
					AND = {
						USA = {
							has_government = neutrality
						}
						NOT = {
							has_government = communism
						}
					}
				}
			}
		}
		visible = {
			has_completed_focus = wfc_smb_foreign_advisors
			NOT = {
				OR = {
					has_country_flag = JUNO_already_invited_american_advisors_removed
					has_country_flag = JUNO_already_invited_italian_advisors_removed
					has_country_flag = JUNO_already_invited_japanese_advisors_removed
				}
			}
		}
		days_remove = 70
		cost = 75
		complete_effect = {
			hidden_effect = {
				set_country_flag = JUNO_already_invited_american_advisors_completed
			}
		}
		remove_effect = {
			IF = {
				limit = {
					original_tag = TRP
				}
				custom_effect_tooltip = wfc_tt_smb_modify_army_ns_intro
				add_to_variable = {
					wfc_smb_army_modifier_army_artillery_attack_factor = 0.04
					tooltip = artillery_attack_factor_tt
				}
				add_to_variable = {
					wfc_smb_army_modifier_special_forces_cap = 0.06
					tooltip = special_forces_cap_tt
				}
			}
			ELSE_IF = {
				limit = {
					original_tag = MEH
				}
				custom_effect_tooltip = wfc_tt_smb_modify_army_ns_intro
				add_to_variable = {
					wfc_smb_army_modifier_army_artillery_attack_factor = 0.06
					tooltip = artillery_attack_factor_tt
				}
				add_to_variable = {
					wfc_smb_army_modifier_special_forces_cap = 0.04
					tooltip = special_forces_cap_tt
				}
			}
			ELSE = {
				custom_effect_tooltip = wfc_tt_smb_modify_army_ns_intro
				add_to_variable = {
					wfc_smb_army_modifier_army_artillery_attack_factor = 0.05
					tooltip = artillery_attack_factor_tt
				}
				add_to_variable = {
					wfc_smb_army_modifier_special_forces_cap = 0.05
					tooltip = special_forces_cap_tt
				}
			}
			add_doctrine_cost_reduction = {
				name = SUPERIOR_FIREPOWER_DOCTRINE
				cost_reduction = 0.75
				uses = 1
				category = cat_superior_firepower
			}
			hidden_effect = {
				set_country_flag = JUNO_already_invited_american_advisors_removed
			}
		}
	}
	wfc_smb_invite_soviet_army_advisors = {
		name = JUNO_invite_soviet_army_advisors
		priority = 18
		icon = GFX_decision_generic_army_support
		ai_will_do = {
			base = 50
		}
		allowed = {
			OR = {
				original_tag = ACW
				original_tag = HEN
				original_tag = MAH
				original_tag = TRP
				original_tag = MEH
				original_tag = MMS
				original_tag = NEC
			}
		}
		available = {
			has_completed_focus = wfc_smb_foreign_advisors
			any_country = {
				original_tag = SOV
				exists = yes
				NOT = {
					has_war_with = ROOT
				}
			}
			NOT = {
				OR = {
					has_country_flag = JUNO_already_invited_soviet_advisors_completed
					has_country_flag = JUNO_already_invited_german_advisors_completed
					has_country_flag = JUNO_already_invited_japanese_advisors_completed
				}
			}
			custom_trigger_tooltip = {
				tooltip = has_soviet_ideology
				OR = {
					AND = {
						SOV = {
							has_government = fascism
						}
						NOT = {
							has_government = communism
							has_government = democratic
							has_government = neutrality
						}
					}
					AND = {
						SOV = {
							has_government = democratic
						}
						NOT = {
							has_government = communism
							has_government = neutrality
							has_government = fascism
						}
					}
					AND = {
						SOV = {
							has_government = communism
						}
						NOT = {
							has_government = fascism
							has_government = neutrality
						}
					}
					AND = {
						SOV = {
							has_government = neutrality
						}
						NOT = {
							has_government = communism
							has_government = fascism
						}
					}
				}
			}
		}
		visible = {
			has_completed_focus = wfc_smb_foreign_advisors
			NOT = {
				OR = {
					has_country_flag = JUNO_already_invited_soviet_advisors_removed
					has_country_flag = JUNO_already_invited_german_advisors_removed
					has_country_flag = JUNO_already_invited_japanese_advisors_removed
				}
			}
		}
		days_remove = 70
		cost = 75
		complete_effect = {
			hidden_effect = {
				set_country_flag = JUNO_already_invited_soviet_advisors_completed
			}
		}
		remove_effect = {
			IF = {
				limit = {
					original_tag = TRP
				}
				custom_effect_tooltip = wfc_tt_smb_modify_army_ns_intro
				add_to_variable = {
					wfc_smb_supply_combat_penalties_on_core_factor = -0.04
					tooltip = supply_combat_penalties_on_core_factor_tt
				}
				add_to_variable = {
					wfc_smb_army_modifier_conscription = 0.015
					tooltip = conscription_tt
				}
			}
			ELSE_IF = {
				limit = {
					original_tag = MEH
				}
				custom_effect_tooltip = wfc_tt_smb_modify_army_ns_intro
				add_to_variable = {
					wfc_smb_supply_combat_penalties_on_core_factor = -0.1
					tooltip = supply_combat_penalties_on_core_factor_tt
				}
				add_to_variable = {
					wfc_smb_army_modifier_conscription = 0.01
					tooltip = conscription_tt
				}
			}
			ELSE = {
				custom_effect_tooltip = wfc_tt_smb_modify_army_ns_intro
				add_to_variable = {
					wfc_smb_supply_combat_penalties_on_core_factor = -0.05
					tooltip = supply_combat_penalties_on_core_factor_tt
				}
				add_to_variable = {
					wfc_smb_army_modifier_conscription = 0.01
					tooltip = conscription_tt
				}
			}
			add_doctrine_cost_reduction = {
				name = MASS_ASSAULT_DOCTRINE
				cost_reduction = 0.75
				uses = 1
				category = cat_mass_assault
			}
			hidden_effect = {
				set_country_flag = JUNO_already_invited_soviet_advisors_removed
			}
		}
	}
	wfc_smb_invite_german_army_advisors = {
		name = JUNO_invite_german_army_advisors
		priority = 17
		icon = GFX_decision_generic_army_support
		ai_will_do = {
			base = 60
		}
		allowed = {
			OR = {
				original_tag = ACW
				original_tag = HEN
				original_tag = MAH
				original_tag = TRP
				original_tag = MEH
				original_tag = MMS
				original_tag = NEC
			}
		}
		available = {
			has_completed_focus = wfc_smb_foreign_advisors
			any_country = {
				original_tag = GER
				exists = yes
				NOT = {
					has_war_with = ROOT
				}
			}
			NOT = {
				OR = {
					has_country_flag = JUNO_already_invited_german_advisors_completed
					has_country_flag = JUNO_already_invited_british_advisors_completed
					has_country_flag = JUNO_already_invited_soviet_advisors_completed
				}
			}
			custom_trigger_tooltip = {
				tooltip = has_german_ideology
				OR = {
					AND = {
						GER = {
							has_government = fascism
						}
						NOT = {
							has_government = communism
						}
					}
					AND = {
						GER = {
							has_government = democratic
						}
						NOT = {
							has_government = communism
							has_government = fascism
						}
					}
					AND = {
						GER = {
							has_government = communism
						}
						NOT = {
							has_government = fascism
							has_government = neutrality
						}
					}
					AND = {
						GER = {
							has_government = neutrality
						}
						NOT = {
							has_government = communism
							has_government = fascism
							has_government = democratic
						}
					}
				}
			}
		}
		visible = {
			has_completed_focus = wfc_smb_foreign_advisors
			NOT = {
				OR = {
					has_country_flag = JUNO_already_invited_german_advisors_removed
					has_country_flag = JUNO_already_invited_british_advisors_removed
					has_country_flag = JUNO_already_invited_soviet_advisors_removed
				}
			}
		}
		days_remove = 70
		cost = 75
		complete_effect = {
			hidden_effect = {
				set_country_flag = JUNO_already_invited_german_advisors_completed
			}
		}
		remove_effect = {
			IF = {
				limit = {
					original_tag = TRP
				}
				custom_effect_tooltip = wfc_tt_smb_modify_army_ns_intro
				add_to_variable = {
					wfc_smb_army_modifier_army_armor_defence_factor = 0.06
					tooltip = army_armor_defence_factor_tt
				}
				add_to_variable = {
					wfc_smb_army_modifier_army_armor_attack_factor = 0.04
					tooltip = army_armor_attack_factor_tt
				}
			}
			ELSE_IF = {
				limit = {
					original_tag = MEH
				}
				custom_effect_tooltip = wfc_tt_smb_modify_army_ns_intro
				add_to_variable = {
					wfc_smb_army_modifier_army_armor_defence_factor = 0.04
					tooltip = army_armor_defence_factor_tt
				}
				add_to_variable = {
					wfc_smb_army_modifier_army_armor_attack_factor = 0.06
					tooltip = army_armor_attack_factor_tt
				}
			}
			ELSE = {
				custom_effect_tooltip = wfc_tt_smb_modify_army_ns_intro
				add_to_variable = {
					wfc_smb_army_modifier_army_armor_defence_factor = 0.05
					tooltip = army_armor_defence_factor_tt
				}
				add_to_variable = {
					wfc_smb_army_modifier_army_armor_attack_factor = 0.05
					tooltip = army_armor_attack_factor_tt
				}
			}
			add_doctrine_cost_reduction = {
				name = MOBILE_WARFARE_DOCTRINE
				cost_reduction = 0.75
				uses = 1
				category = cat_mobile_warfare
			}
			hidden_effect = {
				set_country_flag = JUNO_already_invited_german_advisors_removed
			}
		}
	}
	wfc_smb_invite_italian_army_advisors = {
		name = JUNO_invite_italian_army_advisors
		priority = 16
		icon = GFX_decision_generic_army_support
		ai_will_do = {
			base = 60
		}
		allowed = {
			OR = {
				original_tag = ACW
				original_tag = HEN
				original_tag = MAH
				original_tag = TRP
				original_tag = MEH
				original_tag = MMS
				original_tag = NEC
			}
		}
		available = {
			has_completed_focus = wfc_smb_foreign_advisors
			any_country = {
				original_tag = ITA
				exists = yes
				NOT = {
					has_war_with = ROOT
				}
			}
			NOT = {
				OR = {
					has_country_flag = JUNO_already_invited_italian_advisors_completed
					has_country_flag = JUNO_already_invited_american_advisors_completed
					has_country_flag = JUNO_already_invited_british_advisors_completed
				}
			}
			custom_trigger_tooltip = {
				tooltip = has_italian_ideology
				OR = {
					AND = {
						ITA = {
							has_government = fascism
						}
						NOT = {
							has_government = communism
							has_government = neutrality
						}
					}
					AND = {
						ITA = {
							has_government = democratic
						}
						NOT = {
							has_government = fascism
						}
					}
					AND = {
						ITA = {
							has_government = communism
						}
						NOT = {
							has_government = fascism
							has_government = neutrality
						}
					}
					AND = {
						ITA = {
							has_government = neutrality
						}
						NOT = {
							has_government = communism
							has_government = democratic
						}
					}
				}
			}
		}
		visible = {
			has_completed_focus = wfc_smb_foreign_advisors
			NOT = {
				OR = {
					has_country_flag = JUNO_already_invited_italian_advisors_removed
					has_country_flag = JUNO_already_invited_american_advisors_removed
					has_country_flag = JUNO_already_invited_british_advisors_removed
				}
			}
		}
		days_remove = 70
		cost = 75
		complete_effect = {
			hidden_effect = {
				set_country_flag = JUNO_already_invited_italian_advisors_completed
			}
		}
		remove_effect = {
			IF = {
				limit = {
					original_tag = TRP
				}
				custom_effect_tooltip = wfc_tt_smb_modify_army_ns_intro
				add_to_variable = {
					wfc_smb_army_modifier_army_attack_speed_factor = 0.04
					tooltip = army_attack_speed_factor_tt
				}
				add_to_variable = {
					wfc_smb_army_modifier_army_core_defence_factor = 0.15
					tooltip = army_core_defence_factor_tt
				}
			}
			ELSE_IF = {
				limit = {
					original_tag = MEH
				}
				custom_effect_tooltip = wfc_tt_smb_modify_army_ns_intro
				add_to_variable = {
					wfc_smb_army_modifier_army_attack_speed_factor = 0.1
					tooltip = army_attack_speed_factor_tt
				}
				add_to_variable = {
					wfc_smb_army_modifier_army_core_defence_factor = 0.05
					tooltip = army_core_defence_factor_tt
				}
			}
			ELSE = {
				custom_effect_tooltip = wfc_tt_smb_modify_army_ns_intro
				add_to_variable = {
					wfc_smb_army_modifier_army_attack_speed_factor = 0.05
					tooltip = army_attack_speed_factor_tt
				}
				add_to_variable = {
					wfc_smb_army_modifier_army_core_defence_factor = 0.1
					tooltip = army_core_defence_factor_tt
				}
			}
			add_doctrine_cost_reduction = {
				name = GRAND_BATTLEPLAN_DOCTRINE
				cost_reduction = 0.75
				uses = 1
				category = cat_grand_battle_plan
			}
			hidden_effect = {
				set_country_flag = JUNO_already_invited_italian_advisors_removed
			}
		}
	}
	wfc_smb_invite_british_army_advisors = {
		name = JUNO_invite_british_army_advisors
		priority = 16
		icon = GFX_decision_generic_army_support
		ai_will_do = {
			base = 70
		}
		allowed = {
			OR = {
				original_tag = ACW
				original_tag = HEN
				original_tag = MAH
				original_tag = TRP
				original_tag = MEH
				original_tag = MMS
				original_tag = NEC
			}
		}
		available = {
			has_completed_focus = wfc_smb_foreign_advisors
			any_country = {
				original_tag = ENG
				exists = yes
				NOT = {
					has_war_with = ROOT
				}
			}
			NOT = {
				OR = {
					has_country_flag = JUNO_already_invited_british_advisors_completed
					has_country_flag = JUNO_already_invited_italian_advisors_completed
					has_country_flag = JUNO_already_invited_german_advisors_completed
				}
			}
			custom_trigger_tooltip = {
				tooltip = has_british_ideology
				OR = {
					AND = {
						ENG = {
							has_government = fascism
						}
						NOT = {
							has_government = communism
							has_government = neutrality
							has_government = democratic
						}
					}
					AND = {
						ENG = {
							has_government = democratic
						}
						NOT = {
							has_government = fascism
							has_government = communism
						}
					}
					AND = {
						ENG = {
							has_government = communism
						}
						NOT = {
							has_government = fascism
							has_government = neutrality
						}
					}
					AND = {
						ENG = {
							has_government = neutrality
						}
						NOT = {
							has_government = communism
							has_government = democratic
						}
					}
				}
			}
		}
		visible = {
			has_completed_focus = wfc_smb_foreign_advisors
			NOT = {
				OR = {
					has_country_flag = JUNO_already_invited_british_advisors_removed
					has_country_flag = JUNO_already_invited_italian_advisors_removed
					has_country_flag = JUNO_already_invited_german_advisors_removed
				}
			}
		}
		days_remove = 70
		cost = 75
		complete_effect = {
			hidden_effect = {
				set_country_flag = JUNO_already_invited_british_advisors_completed
			}
		}
		remove_effect = {
			IF = {
				limit = {
					original_tag = TRP
				}
				custom_effect_tooltip = wfc_tt_smb_modify_army_ns_intro
				add_to_variable = {
					wfc_smb_army_modifier_experience_gain_army_factor = 0.05
					tooltip = experience_gain_army_factor_tt
				}
				add_to_variable = {
					wfc_smb_army_modifier_army_attack_factor = 0.075
					tooltip = army_attack_factor_tt
				}
			}
			ELSE_IF = {
				limit = {
					original_tag = MEH
				}
				custom_effect_tooltip = wfc_tt_smb_modify_army_ns_intro
				add_to_variable = {
					wfc_smb_army_modifier_experience_gain_army_factor = 0.1
					tooltip = experience_gain_army_factor_tt
				}
				add_to_variable = {
					wfc_smb_army_modifier_army_attack_factor = 0.05
					tooltip = army_attack_factor_tt
				}
			}
			ELSE = {
				custom_effect_tooltip = wfc_tt_smb_modify_army_ns_intro
				add_to_variable = {
					wfc_smb_army_modifier_experience_gain_army_factor = 0.1
					tooltip = experience_gain_army_factor_tt
				}
				add_to_variable = {
					wfc_smb_army_modifier_army_attack_factor = 0.05
					tooltip = army_attack_factor_tt
				}
			}
			add_doctrine_cost_reduction = {
				name = GRAND_BATTLEPLAN_DOCTRINE
				cost_reduction = 0.75
				uses = 1
				category = cat_grand_battle_plan
			}
			hidden_effect = {
				set_country_flag = JUNO_already_invited_british_advisors_removed
			}
		}
	}
	wfc_smb_invite_french_army_advisors = {
		name = JUNO_invite_french_army_advisors
		priority = 15
		icon = GFX_decision_generic_army_support
		ai_will_do = {
			base = 50
		}
		allowed = {
			OR = {
				original_tag = ACW
				original_tag = HEN
				original_tag = MAH
				original_tag = TRP
				original_tag = MEH
				original_tag = MMS
				original_tag = NEC
			}
		}
		available = {
			has_completed_focus = wfc_smb_foreign_advisors
			any_country = {
				original_tag = FRA
				exists = yes
				NOT = {
					has_war_with = ROOT
				}
			}
			NOT = {
				OR = {
					has_country_flag = JUNO_already_invited_french_advisors_completed
					has_country_flag = JUNO_already_invited_italian_advisors_completed
					has_country_flag = JUNO_already_invited_german_advisors_completed
				}
			}
			custom_trigger_tooltip = {
				tooltip = has_french_ideology
				OR = {
					AND = {
						FRA = {
							has_government = fascism
						}
						NOT = {
							has_government = communism
							has_government = democratic
						}
					}
					AND = {
						FRA = {
							has_government = democratic
						}
						NOT = {
							has_government = fascism
						}
					}
					AND = {
						FRA = {
							has_government = communism
						}
						NOT = {
							has_government = fascism
							has_government = neutrality
						}
					}
					AND = {
						FRA = {
							has_government = neutrality
						}
						NOT = {
							has_government = communism
							has_government = democratic
							has_government = fascism
						}
					}
				}
			}
		}
		visible = {
			has_completed_focus = wfc_smb_foreign_advisors
			NOT = {
				OR = {
					has_country_flag = JUNO_already_invited_french_advisors_removed
					has_country_flag = JUNO_already_invited_italian_advisors_removed
					has_country_flag = JUNO_already_invited_german_advisors_removed
				}
			}
		}
		days_remove = 70
		cost = 75
		complete_effect = {
			hidden_effect = {
				set_country_flag = JUNO_already_invited_french_advisors_completed
			}
		}
		remove_effect = {
			IF = {
				limit = {
					original_tag = TRP
				}
				custom_effect_tooltip = wfc_tt_smb_modify_army_ns_intro
				add_to_variable = {
					wfc_smb_army_modifier_army_artillery_attack_factor = 0.05
					tooltip = artillery_attack_factor_tt
				}
				add_to_variable = {
					wfc_smb_army_modifier_army_artillery_defence_factor = 0.1
					tooltip = army_artillery_defence_factor_tt
				}
			}
			ELSE_IF = {
				limit = {
					original_tag = MEH
				}
				custom_effect_tooltip = wfc_tt_smb_modify_army_ns_intro
				add_to_variable = {
					wfc_smb_army_modifier_army_artillery_attack_factor = 0.1
					tooltip = artillery_attack_factor_tt
				}
				add_to_variable = {
					wfc_smb_army_modifier_army_artillery_defence_factor = 0.05
					tooltip = army_artillery_defence_factor_tt
				}
			}
			ELSE = {
				custom_effect_tooltip = wfc_tt_smb_modify_army_ns_intro
				add_to_variable = {
					wfc_smb_army_modifier_army_artillery_attack_factor = 0.05
					tooltip = artillery_attack_factor_tt
				}
				add_to_variable = {
					wfc_smb_army_modifier_army_artillery_defence_factor = 0.1
					tooltip = army_artillery_defence_factor_tt
				}
			}
			add_doctrine_cost_reduction = {
				name = SUPERIOR_FIREPOWER_DOCTRINE
				cost_reduction = 0.75
				uses = 1
				category = cat_superior_firepower
			}
			hidden_effect = {
				set_country_flag = JUNO_already_invited_french_advisors_removed
			}
		}
	}
	wfc_smb_purchase_aircraft = {
		name = JUNO_purchase_aircraft
		priority = 1
		icon = generic_air
		allowed = {
			OR = {
				original_tag = ACW
				original_tag = HEN
				original_tag = MAH
				original_tag = TRP
				original_tag = MEH
				original_tag = MMS
				original_tag = NEC
			}
		}
		available = {
			any_country = {
				has_opinion = {
					target = ROOT
					value > 0
				}
				is_major = yes
				OR = {
					has_tech = early_fighter
					has_tech = iw_small_airframe
				}
				NOT = {
					OR = {
						has_war_with = ROOT
						is_justifying_wargoal_against = ROOT
					}
				}
			}
			NOT = {
				has_country_flag = JUNO_purchasing_aircraft_flag
			}
			NOT = {
				has_war_with = FROM
			}
			NOT = {
				is_justifying_wargoal_against = FROM
			}
		}
		visible = {
			any_country = {
				has_opinion = {
					target = ROOT
					value > 0
				}
				is_major = yes
				OR = {
					has_tech = early_fighter
					has_tech = iw_small_airframe
				}
				NOT = {
					OR = {
						has_war_with = ROOT
						is_justifying_wargoal_against = ROOT
					}
				}
			}
			has_completed_focus = wfc_smb_purchase_aircraft
			NOT = {
				has_dlc = "Arms Against Tyranny"
			}
		}
		cost = 50
		days_remove = 90
		days_re_enable = 90
		fire_only_once = no
		ai_will_do = {
			factor = 0.1
			modifier = {
				factor = 0
				OR = {
					num_of_civilian_factories < 10
					AND = {
						stockpile_ratio = {
							archetype = small_plane_airframe
							ratio > 0.75
						}
						stockpile_ratio = {
							archetype = small_plane_naval_bomber_airframe
							ratio > 0.75
						}
						stockpile_ratio = {
							archetype = medium_plane_airframe
							ratio > 0.75
						}
					}
				}
			}
		}
		modifier = {
			civilian_factory_use = 1
		}
		complete_effect = {
			set_country_flag = JUNO_purchasing_aircraft_flag
			custom_effect_tooltip = JUNO_purchase_aircraft_tt
			hidden_effect = {
				random_list = {
					50 = {
						set_country_flag = JUNO_fighters_flag
					}
					50 = {
						set_country_flag = JUNO_tactical_bomber_flag
					}
				}
			}
		}
		remove_effect = {
			IF = {
				limit = {
					has_country_flag = JUNO_fighters_flag
				}
				IF = {
					limit = {
						NOT = {
							has_dlc = "By Blood Alone"
						}
					}
					add_equipment_to_stockpile = {
						producer = USA
						type = fighter_equipment_1
						amount = 100
					}
				}
				ELSE = {
					create_equipment_variant = {
						name = "P-40"						#
						type = small_plane_airframe_2
						allow_without_tech = yes						#For tooltip purposes, doesn't affect anything really
						modules = {
							fixed_main_weapon_slot = heavy_mg_4x
							fixed_auxiliary_weapon_slot_1 = heavy_mg_2x
							fixed_auxiliary_weapon_slot_2 = bomb_locks
							engine_type_slot = engine_3_1x
							special_type_slot_1 = drop_tanks
						}
					}
					add_equipment_to_stockpile = {
						producer = USA
						type = small_plane_airframe_2
						amount = 100
						variant_name = "P-40"
					}
				}
				clr_country_flag = JUNO_fighters_flag
			}
			ELSE_IF = {
				limit = {
					has_country_flag = JUNO_tactical_bomber_flag
				}
				IF = {
					limit = {
						NOT = {
							has_dlc = "By Blood Alone"
						}
					}
					add_equipment_to_stockpile = {
						producer = SOV
						type = tac_bomber_equipment_1
						amount = 100
					}
				}
				ELSE = {
					create_equipment_variant = {
						name = "DB-3"						#
						type = medium_plane_airframe_0
						allow_without_tech = yes						#For tooltip purposes, doesn't affect anything really
						modules = {
							fixed_main_weapon_slot = bomb_locks
							fixed_auxiliary_weapon_slot_1 = bomb_locks
							engine_type_slot = engine_3_1x
							special_type_slot_1 = drop_tanks
						}
					}
					add_equipment_to_stockpile = {
						producer = SOV
						type = medium_plane_airframe_0
						amount = 100
						variant_name = "DB-3"
					}
				}
				clr_country_flag = JUNO_tactical_bomber_flag
			}
			clr_country_flag = JUNO_purchasing_aircraft_flag
		}
	}
}

wfc_category_naval_arms_race = {
	wfc_smb_invite_japanese_naval_advisors = {
		name = JUNO_invite_japanese_naval_advisors
		priority = 20
		icon = GFX_decision_generic_army_support
		ai_will_do = {
			base = 60
		}
		available = {
			has_completed_focus = wfc_smb_naval_foreign_advisors
			any_country = {
				original_tag = JAP
				exists = yes
				NOT = {
					has_war_with = ROOT
				}
			}
			NOT = {
				OR = {
					has_country_flag = JUNO_already_invited_japanese_naval_advisors_completed
					has_country_flag = JUNO_already_invited_american_naval_advisors_completed
					has_country_flag = JUNO_already_invited_soviet_naval_advisors_completed
				}
			}
			custom_trigger_tooltip = {
				tooltip = has_japanese_ideology
				OR = {
					AND = {
						JAP = {
							has_government = fascism
						}
						ROOT = {
							NOT = {
								has_government = communism
							}
						}
					}
					AND = {
						JAP = {
							has_government = democratic
						}
						NOT = {
							has_government = communism
							has_government = fascism
						}
					}
					AND = {
						JAP = {
							has_government = communism
						}
						NOT = {
							has_government = fascism
							has_government = neutrality
						}
					}
					AND = {
						JAP = {
							has_government = neutrality
						}
						NOT = {
							has_government = communism
						}
					}
				}
			}
		}
		visible = {
			has_completed_focus = wfc_smb_naval_foreign_advisors
			NOT = {
				OR = {
					has_country_flag = JUNO_already_invited_japanese_naval_advisors_removed
					has_country_flag = JUNO_already_invited_american_naval_advisors_removed
					has_country_flag = JUNO_already_invited_soviet_naval_advisors_removed
				}
			}
		}
		days_remove = 70
		cost = 50
		complete_effect = {
			hidden_effect = {
				set_country_flag = JUNO_already_invited_japanese_naval_advisors_completed
			}
		}
		remove_effect = {
			IF = {
				limit = {
					original_tag = TRP
				}
				custom_effect_tooltip = wfc_tt_smb_modify_navy_ns_intro
				wfc_se_smb_naval_jap_advisors_effect = yes
			}
			ELSE_IF = {
				limit = {
					original_tag = MEH
				}
				custom_effect_tooltip = wfc_tt_smb_modify_navy_ns_intro
				wfc_se_smb_naval_jap_advisors_effect = yes
			}
			ELSE = {
				custom_effect_tooltip = wfc_tt_smb_modify_navy_ns_intro
				wfc_se_smb_naval_jap_advisors_effect = yes
			}
			add_doctrine_cost_reduction = {
				name = naval_doctrine
				cost_reduction = 0.75
				uses = 1
				category = cat_base_strike
			}
			hidden_effect = {
				set_country_flag = JUNO_already_invited_japanese_naval_advisors_removed
			}
		}
	}
	wfc_smb_invite_american_navy_advisors = {
		name = JUNO_invite_american_navy_advisors
		priority = 19
		icon = GFX_decision_generic_army_support
		ai_will_do = {
			base = 80
		}
		available = {
			has_completed_focus = wfc_smb_naval_foreign_advisors
			any_country = {
				original_tag = USA
				exists = yes
				NOT = {
					has_war_with = ROOT
				}
			}
			NOT = {
				OR = {
					has_country_flag = JUNO_already_invited_american_naval_advisors_completed
					has_country_flag = JUNO_already_invited_italian_naval_advisors_completed
					has_country_flag = JUNO_already_invited_japanese_naval_advisors_completed
				}
			}
			custom_trigger_tooltip = {
				tooltip = has_american_ideology
				OR = {
					AND = {
						USA = {
							has_government = fascism
						}
						NOT = {
							has_government = communism
							has_government = democratic
						}
					}
					AND = {
						USA = {
							has_government = democratic
						}
						NOT = {
							has_government = communism
							has_government = fascism
						}
					}
					AND = {
						USA = {
							has_government = communism
						}
						NOT = {
							has_government = fascism
							has_government = neutrality
						}
					}
					AND = {
						USA = {
							has_government = neutrality
						}
						NOT = {
							has_government = communism
						}
					}
				}
			}
		}
		visible = {
			has_completed_focus = wfc_smb_naval_foreign_advisors
			NOT = {
				OR = {
					has_country_flag = JUNO_already_invited_american_naval_advisors_removed
					has_country_flag = JUNO_already_invited_italian_naval_advisors_removed
					has_country_flag = JUNO_already_invited_japanese_naval_advisors_removed
				}
			}
		}
		days_remove = 70
		cost = 50
		complete_effect = {
			hidden_effect = {
				set_country_flag = JUNO_already_invited_american_naval_advisors_completed
			}
		}
		remove_effect = {
			IF = {
				limit = {
					original_tag = TRP
				}
				custom_effect_tooltip = wfc_tt_smb_modify_navy_ns_intro
				wfc_se_smb_naval_usa_advisors_effect = yes
			}
			ELSE_IF = {
				limit = {
					original_tag = MEH
				}
				custom_effect_tooltip = wfc_tt_smb_modify_navy_ns_intro
				wfc_se_smb_naval_usa_advisors_effect = yes
			}
			ELSE = {
				custom_effect_tooltip = wfc_tt_smb_modify_navy_ns_intro
				wfc_se_smb_naval_usa_advisors_effect = yes
			}
			add_doctrine_cost_reduction = {
				name = naval_doctrine
				cost_reduction = 0.75
				uses = 1
				category = cat_base_strike
			}
			hidden_effect = {
				set_country_flag = JUNO_already_invited_american_naval_advisors_removed
			}
		}
	}
	wfc_smb_invite_soviet_navy_advisors = {
		name = JUNO_invite_soviet_navy_advisors
		priority = 18
		icon = GFX_decision_generic_army_support
		ai_will_do = {
			base = 50
		}
		available = {
			has_completed_focus = wfc_smb_naval_foreign_advisors
			any_country = {
				original_tag = SOV
				exists = yes
				NOT = {
					has_war_with = ROOT
				}
			}
			NOT = {
				OR = {
					has_country_flag = JUNO_already_invited_soviet_naval_advisors_completed
					has_country_flag = JUNO_already_invited_german_naval_advisors_completed
					has_country_flag = JUNO_already_invited_japanese_naval_advisors_completed
				}
			}
			custom_trigger_tooltip = {
				tooltip = has_soviet_ideology
				OR = {
					AND = {
						SOV = {
							has_government = fascism
						}
						NOT = {
							has_government = communism
							has_government = democratic
							has_government = neutrality
						}
					}
					AND = {
						SOV = {
							has_government = democratic
						}
						NOT = {
							has_government = communism
							has_government = neutrality
							has_government = fascism
						}
					}
					AND = {
						SOV = {
							has_government = communism
						}
						NOT = {
							has_government = fascism
							has_government = neutrality
						}
					}
					AND = {
						SOV = {
							has_government = neutrality
						}
						NOT = {
							has_government = communism
							has_government = fascism
						}
					}
				}
			}
		}
		visible = {
			has_completed_focus = wfc_smb_naval_foreign_advisors
			NOT = {
				OR = {
					has_country_flag = JUNO_already_invited_soviet_naval_advisors_removed
					has_country_flag = JUNO_already_invited_german_naval_advisors_removed
					has_country_flag = JUNO_already_invited_japanese_naval_advisors_removed
				}
			}
		}
		days_remove = 70
		cost = 50
		complete_effect = {
			hidden_effect = {
				set_country_flag = JUNO_already_invited_soviet_naval_advisors_completed
			}
		}
		remove_effect = {
			IF = {
				limit = {
					original_tag = TRP
				}
				custom_effect_tooltip = wfc_tt_smb_modify_navy_ns_intro
				wfc_se_smb_naval_sov_advisors_effect = yes
			}
			ELSE_IF = {
				limit = {
					original_tag = MEH
				}
				custom_effect_tooltip = wfc_tt_smb_modify_navy_ns_intro
				wfc_se_smb_naval_sov_advisors_effect = yes
			}
			ELSE = {
				custom_effect_tooltip = wfc_tt_smb_modify_navy_ns_intro
				wfc_se_smb_naval_sov_advisors_effect = yes
			}
			add_doctrine_cost_reduction = {
				name = naval_doctrine
				cost_reduction = 0.75
				uses = 1
				category = cat_fleet_in_being
			}
			hidden_effect = {
				set_country_flag = JUNO_already_invited_soviet_naval_advisors_removed
			}
		}
	}
	wfc_smb_invite_german_navy_advisors = {
		name = JUNO_invite_german_navy_advisors
		priority = 17
		icon = GFX_decision_generic_army_support
		ai_will_do = {
			base = 60
		}
		available = {
			has_completed_focus = wfc_smb_naval_foreign_advisors
			any_country = {
				original_tag = GER
				exists = yes
				NOT = {
					has_war_with = ROOT
				}
			}
			NOT = {
				OR = {
					has_country_flag = JUNO_already_invited_german_naval_advisors_completed
					has_country_flag = JUNO_already_invited_british_naval_advisors_completed
					has_country_flag = JUNO_already_invited_soviet_naval_advisors_completed
				}
			}
			custom_trigger_tooltip = {
				tooltip = has_german_ideology
				OR = {
					AND = {
						GER = {
							has_government = fascism
						}
						NOT = {
							has_government = communism
						}
					}
					AND = {
						GER = {
							has_government = democratic
						}
						NOT = {
							has_government = communism
							has_government = fascism
						}
					}
					AND = {
						GER = {
							has_government = communism
						}
						NOT = {
							has_government = fascism
							has_government = neutrality
						}
					}
					AND = {
						GER = {
							has_government = neutrality
						}
						NOT = {
							has_government = communism
							has_government = fascism
							has_government = democratic
						}
					}
				}
			}
		}
		visible = {
			has_completed_focus = wfc_smb_naval_foreign_advisors
			NOT = {
				OR = {
					has_country_flag = JUNO_already_invited_german_naval_advisors_removed
					has_country_flag = JUNO_already_invited_british_naval_advisors_removed
					has_country_flag = JUNO_already_invited_soviet_naval_advisors_removed
				}
			}
		}
		days_remove = 70
		cost = 50
		complete_effect = {
			hidden_effect = {
				set_country_flag = JUNO_already_invited_german_naval_advisors_completed
			}
		}
		remove_effect = {
			IF = {
				limit = {
					original_tag = TRP
				}
				custom_effect_tooltip = wfc_tt_smb_modify_navy_ns_intro
				wfc_se_smb_naval_ger_advisors_effect = yes
			}
			ELSE_IF = {
				limit = {
					original_tag = MEH
				}
				custom_effect_tooltip = wfc_tt_smb_modify_navy_ns_intro
				wfc_se_smb_naval_ger_advisors_effect = yes
			}
			ELSE = {
				custom_effect_tooltip = wfc_tt_smb_modify_navy_ns_intro
				wfc_se_smb_naval_ger_advisors_effect = yes
			}
			add_doctrine_cost_reduction = {
				name = naval_doctrine
				cost_reduction = 0.75
				uses = 1
				category = cat_trade_interdiction
			}
			hidden_effect = {
				set_country_flag = JUNO_already_invited_german_naval_advisors_removed
			}
		}
	}
	wfc_smb_invite_italian_navy_advisors = {
		name = JUNO_invite_italian_navy_advisors
		priority = 16
		icon = GFX_decision_generic_army_support
		ai_will_do = {
			base = 60
		}
		available = {
			has_completed_focus = wfc_smb_naval_foreign_advisors
			any_country = {
				original_tag = ITA
				exists = yes
				NOT = {
					has_war_with = ROOT
				}
			}
			NOT = {
				OR = {
					has_country_flag = JUNO_already_invited_italian_naval_advisors_completed
					has_country_flag = JUNO_already_invited_american_naval_advisors_completed
					has_country_flag = JUNO_already_invited_british_naval_advisors_completed
				}
			}
			custom_trigger_tooltip = {
				tooltip = has_italian_ideology
				OR = {
					AND = {
						ITA = {
							has_government = fascism
						}
						NOT = {
							has_government = communism
							has_government = neutrality
						}
					}
					AND = {
						ITA = {
							has_government = democratic
						}
						NOT = {
							has_government = fascism
						}
					}
					AND = {
						ITA = {
							has_government = communism
						}
						NOT = {
							has_government = fascism
							has_government = neutrality
						}
					}
					AND = {
						ITA = {
							has_government = neutrality
						}
						NOT = {
							has_government = communism
							has_government = democratic
						}
					}
				}
			}
		}
		visible = {
			has_completed_focus = wfc_smb_naval_foreign_advisors
			NOT = {
				OR = {
					has_country_flag = JUNO_already_invited_italian_naval_advisors_removed
					has_country_flag = JUNO_already_invited_american_naval_advisors_removed
					has_country_flag = JUNO_already_invited_british_naval_advisors_removed
				}
			}
		}
		days_remove = 70
		cost = 50
		complete_effect = {
			hidden_effect = {
				set_country_flag = JUNO_already_invited_italian_naval_advisors_completed
			}
		}
		remove_effect = {
			IF = {
				limit = {
					original_tag = TRP
				}
				custom_effect_tooltip = wfc_tt_smb_modify_navy_ns_intro
				wfc_se_smb_naval_ita_advisors_effect = yes
			}
			ELSE_IF = {
				limit = {
					original_tag = MEH
				}
				custom_effect_tooltip = wfc_tt_smb_modify_navy_ns_intro
				wfc_se_smb_naval_ita_advisors_effect = yes
			}
			ELSE = {
				custom_effect_tooltip = wfc_tt_smb_modify_navy_ns_intro
				wfc_se_smb_naval_ita_advisors_effect = yes
			}
			add_doctrine_cost_reduction = {
				name = naval_doctrine
				cost_reduction = 0.75
				uses = 1
				category = cat_fleet_in_being
			}
			hidden_effect = {
				set_country_flag = JUNO_already_invited_italian_naval_advisors_removed
			}
		}
	}
	wfc_smb_invite_british_navy_advisors = {
		name = JUNO_invite_british_navy_advisors
		priority = 16
		icon = GFX_decision_generic_army_support
		ai_will_do = {
			base = 70
		}
		available = {
			has_completed_focus = wfc_smb_naval_foreign_advisors
			any_country = {
				original_tag = ENG
				exists = yes
				NOT = {
					has_war_with = ROOT
				}
			}
			NOT = {
				OR = {
					has_country_flag = JUNO_already_invited_british_naval_advisors_completed
					has_country_flag = JUNO_already_invited_italian_naval_advisors_completed
					has_country_flag = JUNO_already_invited_german_naval_advisors_completed
				}
			}
			custom_trigger_tooltip = {
				tooltip = has_british_ideology
				OR = {
					AND = {
						ENG = {
							has_government = fascism
						}
						NOT = {
							has_government = communism
							has_government = neutrality
							has_government = democratic
						}
					}
					AND = {
						ENG = {
							has_government = democratic
						}
						NOT = {
							has_government = fascism
							has_government = communism
						}
					}
					AND = {
						ENG = {
							has_government = communism
						}
						NOT = {
							has_government = fascism
							has_government = neutrality
						}
					}
					AND = {
						ENG = {
							has_government = neutrality
						}
						NOT = {
							has_government = communism
							has_government = democratic
						}
					}
				}
			}
		}
		visible = {
			has_completed_focus = wfc_smb_naval_foreign_advisors
			NOT = {
				OR = {
					has_country_flag = JUNO_already_invited_british_naval_advisors_removed
					has_country_flag = JUNO_already_invited_italian_naval_advisors_removed
					has_country_flag = JUNO_already_invited_german_naval_advisors_removed
				}
			}
		}
		days_remove = 70
		cost = 50
		complete_effect = {
			hidden_effect = {
				set_country_flag = JUNO_already_invited_british_naval_advisors_completed
			}
		}
		remove_effect = {
			IF = {
				limit = {
					original_tag = TRP
				}
				custom_effect_tooltip = wfc_tt_smb_modify_navy_ns_intro
				wfc_se_smb_naval_eng_advisors_effect = yes
			}
			ELSE_IF = {
				limit = {
					original_tag = MEH
				}
				custom_effect_tooltip = wfc_tt_smb_modify_navy_ns_intro
				wfc_se_smb_naval_eng_advisors_effect = yes
			}
			ELSE = {
				custom_effect_tooltip = wfc_tt_smb_modify_navy_ns_intro
				wfc_se_smb_naval_eng_advisors_effect = yes
			}
			add_doctrine_cost_reduction = {
				name = naval_doctrine
				cost_reduction = 0.75
				uses = 1
				category = cat_fleet_in_being
			}
			hidden_effect = {
				set_country_flag = JUNO_already_invited_british_naval_advisors_removed
			}
		}
	}
	wfc_smb_invite_french_navy_advisors = {
		name = JUNO_invite_french_navy_advisors
		priority = 15
		icon = GFX_decision_generic_army_support
		ai_will_do = {
			base = 50
		}
		available = {
			has_completed_focus = wfc_smb_naval_foreign_advisors
			any_country = {
				original_tag = FRA
				exists = yes
				NOT = {
					has_war_with = ROOT
				}
			}
			NOT = {
				OR = {
					has_country_flag = JUNO_already_invited_french_naval_advisors_completed
					has_country_flag = JUNO_already_invited_italian_naval_advisors_completed
					has_country_flag = JUNO_already_invited_german_naval_advisors_completed
				}
			}
			custom_trigger_tooltip = {
				tooltip = has_french_ideology
				OR = {
					AND = {
						FRA = {
							has_government = fascism
						}
						NOT = {
							has_government = communism
							has_government = democratic
						}
					}
					AND = {
						FRA = {
							has_government = democratic
						}
						NOT = {
							has_government = fascism
						}
					}
					AND = {
						FRA = {
							has_government = communism
						}
						NOT = {
							has_government = fascism
							has_government = neutrality
						}
					}
					AND = {
						FRA = {
							has_government = neutrality
						}
						NOT = {
							has_government = communism
							has_government = democratic
							has_government = fascism
						}
					}
				}
			}
		}
		visible = {
			has_completed_focus = wfc_smb_naval_foreign_advisors
			NOT = {
				OR = {
					has_country_flag = JUNO_already_invited_french_naval_advisors_removed
					has_country_flag = JUNO_already_invited_italian_naval_advisors_removed
					has_country_flag = JUNO_already_invited_german_naval_advisors_removed
				}
			}
		}
		days_remove = 70
		cost = 50
		complete_effect = {
			hidden_effect = {
				set_country_flag = JUNO_already_invited_french_naval_advisors_completed
			}
		}
		remove_effect = {
			IF = {
				limit = {
					original_tag = TRP
				}
				custom_effect_tooltip = wfc_tt_smb_modify_navy_ns_intro
				wfc_se_smb_naval_fra_advisors_effect = yes
			}
			ELSE_IF = {
				limit = {
					original_tag = MEH
				}
				custom_effect_tooltip = wfc_tt_smb_modify_navy_ns_intro
				wfc_se_smb_naval_fra_advisors_effect = yes
			}
			ELSE = {
				custom_effect_tooltip = wfc_tt_smb_modify_navy_ns_intro
				wfc_se_smb_naval_fra_advisors_effect = yes
			}
			add_doctrine_cost_reduction = {
				name = naval_doctrine
				cost_reduction = 0.75
				uses = 1
				category = cat_fleet_in_being
			}
			hidden_effect = {
				set_country_flag = JUNO_already_invited_french_naval_advisors_removed
			}
		}
	}
}
lar_local_recruitment = {
	wfc_decision_create_agensy_in_faction_members = {
		fire_only_once = yes
		cost = 100
		days_remove = 30
		priority = 2
		allowed = {
			OR = {
				original_tag = ACW
				original_tag = HEN
				original_tag = MAH
				original_tag = TRP
				original_tag = MEH
				original_tag = MMS
				original_tag = ZMB
				original_tag = NEC
			}
		}
		visible = {
			is_faction_leader = yes
			has_intelligence_agency = yes
		}
		available = {
			is_spymaster = yes
			num_of_civilian_factories_available_for_projects > 4
			has_capitulated = no
			FROM = {
				has_capitulated = no
				has_same_ideology = yes
			}
		}
		target_array = faction_members
		target_trigger = {
			FROM = {
				has_intelligence_agency = no
				is_puppet = no
			}
		}
		modifier = {
			civilian_factory_use = 5
		}
		remove_effect = {
			FROM = {
				create_intelligence_agency = {
					icon = GFX_intelligence_agency_logo_generic_1
					name = "Agency"
				}
			}
		}
		ai_will_do = {
			base = 1
		}
	}
	wfc_decision_create_agensy_in_puppets = {
		fire_only_once = yes
		cost = 25
		days_remove = 30
		priority = 1
		allowed = {
			OR = {
				original_tag = ACW
				original_tag = HEN
				original_tag = MAH
				original_tag = TRP
				original_tag = MEH
				original_tag = MMS
				original_tag = ZMB
				original_tag = NEC
			}
		}
		visible = {
			has_intelligence_agency = yes
		}
		available = {
			is_spymaster = yes
			num_of_civilian_factories_available_for_projects > 4
			has_capitulated = no
			FROM = {
				has_capitulated = no
			}
		}
		target_array = subjects
		target_trigger = {
			FROM = {
				has_intelligence_agency = no
				is_puppet = yes
			}
		}
		modifier = {
			civilian_factory_use = 5
		}
		remove_effect = {
			FROM = {
				create_intelligence_agency = {
					icon = GFX_intelligence_agency_logo_generic_1
					name = "Agency"
				}
			}
		}
		ai_will_do = {
			base = 0
		}
	}
}
wfc_generic_purchase_old_ships_category = {
	wfc_purchase_ships_eng = {
		name = purchase_ships_eng
		cost = 50
		icon = GFX_decision_generic_naval
		fire_only_once = no
		visible = {
			has_country_flag = generic_purchase_old_ships_flag
			ENG = { 
				NOT = { 
					has_country_flag = sold_ships_to_us@ROOT
					has_country_flag = negotiating_ship_purchase_flag@ROOT 
				}
			}
			NOT = { has_war_with = ENG}
		}
		available = {
			NOT = {
				ENG = {
					OR = {
						has_civil_war = yes
						has_capitulated = yes
						has_opinion = {
							target = FROM
							value < 30
						}
					}					
				}
			}
			
		}
		days_remove = 14
		remove_effect = {
			ENG = {
				country_event = {
					id = generic_purchase_ships_events.01
					hours = 1
				}
				set_country_flag = negotiating_ship_purchase_flag@ROOT
			}			
		}
	}
	wfc_purchase_ships_sov = {
		name = purchase_ships_sov
		cost = 50
		icon = GFX_decision_generic_naval
		fire_only_once = no
		visible = {
			has_country_flag = generic_purchase_old_ships_flag
			SOV = { 
					has_country_flag = sold_ships_to_us@ROOT
					has_country_flag = negotiating_ship_purchase_flag@ROOT 
			}

			NOT = { has_war_with = SOV}
		}
		available = {
			NOT = {
				SOV = {
					OR = {
						has_civil_war = yes
						has_capitulated = yes
						has_opinion = {
							target = FROM
							value < 30
						}
					}					
				}
			}
			
		}
		days_remove = 14
		remove_effect = {
			SOV = {
				country_event = {
					id = generic_purchase_ships_events.01
					hours = 1
				}
				set_country_flag = negotiating_ship_purchase_flag@ROOT
			}
		}
	}
	wfc_purchase_ships_ger = {
		name = purchase_ships_ger
		cost = 50
		icon = GFX_decision_generic_naval
		fire_only_once = no
		visible = {
			has_country_flag = generic_purchase_old_ships_flag
			GER = { 
				NOT = { 
					has_country_flag = sold_ships_to_us@ROOT
					has_country_flag = negotiating_ship_purchase_flag@ROOT
				}

			}
			NOT = { has_war_with = GER}
		}
		available = {
			NOT = {
				GER = {
					OR = {
						has_civil_war = yes
						has_capitulated = yes
						has_opinion = {
							target = FROM
							value < 30
						}
					}					
				}
			}
			
		}
		days_remove = 14
		remove_effect = {
			GER = {
				country_event = {
					id = generic_purchase_ships_events.01
					hours = 1
				}
				set_country_flag = negotiating_ship_purchase_flag@ROOT
			}
		}
	}
	wfc_purchase_ships_usa = {
		name = purchase_ships_usa
		cost = 50
		icon = GFX_decision_generic_naval
		fire_only_once = no
		visible = {
			has_country_flag = generic_purchase_old_ships_flag
			USA = { 
				NOT = { 
					has_country_flag = sold_ships_to_us@ROOT
					has_country_flag = negotiating_ship_purchase_flag@ROOT  
				}
			}
			NOT = { has_war_with = USA}
		}
		available = {
			NOT = {
				USA = {
					OR = {
						has_civil_war = yes
						has_capitulated = yes
						has_opinion = {
							target = FROM
							value < 30
						}
					}					
				}
			}
			
		}
		days_remove = 14
		remove_effect = {
			USA = {
				country_event = {
					id = generic_purchase_ships_events.01
					hours = 1
				}
				set_country_flag = negotiating_ship_purchase_flag@ROOT
			}
		}
	}
}