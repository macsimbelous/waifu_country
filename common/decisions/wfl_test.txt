wfl_test_category = {
	wfl_test_decision_1 = {
		name = wfl_test_decision_1.t
		icon = decision_category_generic_propaganda
		available = {
			custom_trigger_tooltip = {
				tooltip = wfl_test_trigger_tt
				set_temp_variable = {
					temp_num_ships = num_ships
				}
				divide_temp_variable = {
					temp_num_ships = FROM.num_ships
				}
				check_variable = {
					var = temp_num_ships
					value = 2
					compare = greater_than_or_equals
				}
			}
		}
		visible = {
			always = no
		}
		ai_will_do = {
			factor = 0
		}
		fire_only_once = no
		cost = 10
		days_re_enable = 1
		#on_map_mode = map_only
		target_trigger = {
			FROM = {
				any_owned_state = {
					is_coastal = yes
				}
			}
		}
		complete_effect = {
		}
	}
	wfc_test_2 = {
		cost = 1
		allowed = {
			always = no
		}
		complete_effect = {
			SOV = {
				set_variable = {
					rpsov = despotism
				}
				# create_country_leader = {
				# 	name = rpsov
					
				# 	picture = "gfx/leaders/ACW/Portrait_ACW_land_01.dds"
				# 	#ideology = rpsov
				# }
			}
		}
	}
}

wfl_declare_war_decisions = {
	wfl_declare_war_decision = {
		name = wfl_declare_war_decision.t
		allowed = {
			always = yes
		}
		available = {
			#has_war = no
			#has_completed_focus = wfl_world_conquest
			FROM = {
				is_neighbor_of = ROOT
				NOT = {
					is_in_faction_with = ROOT
				}
			}
		}
		visible = {
			#has_completed_focus = wfl_world_conquest
			FROM = {
				is_neighbor_of = ROOT
				NOT = {
					is_in_faction_with = ROOT
				}
			}
		}
		target_trigger = {
			FROM = {
				is_neighbor_of = ROOT
				NOT = {
					is_in_faction_with = ROOT
				}
			}
		}
		ai_will_do = {
			base = 0
			modifier = {
				add = 0.5
				has_government = fascism
			}
			modifier = {
				add = 0.5
				has_government = communism
			}
			modifier = {
				add = 0.5
				has_government = democratic
			}
			modifier = {
				add = 0.5
				has_government = neutrality
			}
		}
		fire_only_once = no
		cost = 300
		days_re_enable = 180
		#on_map_mode = map_only
		complete_effect = {
			declare_war_on = {
				target = FROM
				type = annex_everything
			}
		}
	}
}

wfl_debug_category = {
	wfl_coring_decision2 = {
		name = wfl_coring_state.t
		icon = generic_nationalism
		#icon = generic_form_nation
		allowed = {
			always = no
		}
		available = {
			#has_war = no
			FROM = {
				set_temp_variable = {
					coring_ppcost = 200
				}
				add_to_temp_variable = {
					coring_ppcost = resistance
				}
				subtract_from_temp_variable = {
					coring_ppcost = compliance
				}
			}
			ROOT = {
				#has_manpower > 10000
				set_temp_variable = {
					temp1 = FROM.state_population
				}
				divide_temp_variable = {
					temp1 = 100
				}
				has_manpower > temp1
				#has_manpower = var:state_population
			}
		}
		ai_will_do = {
			factor = 3
		}
		state_target = yes
		on_map_mode = map_and_decisions_view
		target_array = owned_controlled_states
		target_trigger = {
			FROM = {
				NOT = {
					is_core_of = ROOT
				}
				#compliance > 10
			}
		}
		cost = coring_ppcost
		fire_only_once = yes
		days_remove = 90
		modifier = {
			stability_factor = -0.025
		}
		complete_effect = {
			FROM = {
				set_variable = {
					man_cost = state_population
				}
				divide_variable = {
					man_cost = 100
				}
				set_temp_variable = {
					temp1 = man_cost
				}
				multiply_temp_variable = {
					temp1 = 2
				}
				subtract_from_variable = {
					man_cost = temp1
				}
			}
			ROOT = {
				set_temp_variable = {
					temp1 = FROM.state_population
				}
				divide_temp_variable = {
					temp1 = 100
				}
				set_temp_variable = {
					temp2 = temp1
				}
				multiply_temp_variable = {
					temp2 = 2
				}
				subtract_from_variable = {
					temp1 = temp2
				}
				add_manpower = temp1
			}
		}
		remove_effect = {
			FROM = {
				#add_core_of = ROOT
				wfc_coring_state = yes
				set_temp_variable = {
					temp1 = state_population
				}
				divide_temp_variable = {
					temp1 = 100
				}
				add_manpower = temp1
			}
			#add_manpower = -100000
		}
	}
}

wfl_infiltration_decisions = {
	wfl_infiltration_decision = {
		name = wfl_infiltration_decision.t
		#icon = generic_nationalism
		icon = generic_form_nation
		allowed = {
			always = yes
		}
		available = {
			has_war = no
			has_manpower > 10000
		}
		visible = {
			FROM = {
				NOT = {
					controller = {
						tag = ROOT
					}
				}
				OWNER = {
					NOT = {
						OR = {
							is_in_faction_with = ROOT
							is_puppet_of = ROOT
						}
					}
				}
			}
		}
		ai_will_do = {
			#base = 100
			factor = 1
		}
		state_target = yes
		on_map_mode = map_and_decisions_view
		target_trigger = {
			FROM = {
				AND = {
					NOT = {
						controller = {
							tag = ROOT
						}
						OR = {
							is_core_of = ROOT
							is_claimed_by = ROOT
						}
					}
					any_neighbor_state = {
						controller = {
							tag = ROOT
						}
					}
					OWNER = {
						NOT = {
							OR = {
								is_in_faction_with = ROOT
								is_puppet_of = ROOT
							}
						}
					}
				}
			}
		}
		cost = 100
		fire_only_once = yes
		days_remove = 30
		modifier = {
			#stability_factor = -0.001
		}
		complete_effect = {
		}
		remove_effect = {
			FROM = {
				#add_core_of = ROOT
				add_claim_by = ROOT
			}
			ROOT = {
				add_manpower = -10000
			}
		}
	}
}

wfl_coring_category = {
	wfl_coring_decision = {
		name = wfl_coring_state.t
		icon = generic_nationalism
		#icon = generic_form_nation
		allowed = {
			always = yes
		}
		available = {
			#has_war = no
			FROM = {
				set_temp_variable = {
					coring_ppcost = 100
				}
				add_to_temp_variable = {
					coring_ppcost = resistance
				}
				subtract_from_temp_variable = {
					coring_ppcost = compliance
				}
			}
		}
		visible = {
			FROM = {
				NOT = {
					is_core_of = ROOT
				}
			}
		}
		ai_will_do = {
			factor = 3
		}
		state_target = yes
		on_map_mode = map_and_decisions_view
		#target_array = owned_controlled_states
		target_array = owned_states
		target_trigger = {
			FROM = {
				NOT = {
					is_core_of = ROOT
				}
			}
		}
		cost = coring_ppcost
		fire_only_once = yes
		days_remove = 30
		modifier = {
			stability_factor = -0.025
		}
		complete_effect = {
		}
		cancel_trigger = {
			FROM = {
				is_core_of = ROOT
			}
		}
		remove_effect = {
			FROM = {
				#add_core_of = ROOT
				wfc_coring_state = yes
			}
			#add_manpower = -100000
		}
		cancel_effect = {
			add_political_power = 50
		}
	}
}

wfl_investments_abroad_category = {
	wfl_investments_abroad_decision = {
		name = wfl_investments_abroad_decision.t
		icon = generic_construction
		visible = {
			FROM = {
				#is_capital = yes
				CONTROLLER = {
					NOT = {
						OR = {
							tag = ROOT
							is_puppet_of = ROOT
							has_war_with = ROOT
						}
					}
				}
			}
		}
		available = {
			FROM = {
				free_building_slots = {
					building = industrial_complex
					size > 0
					include_locked = yes
				}
			}
			num_of_civilian_factories_available_for_projects > 4
		}
		modifier = {
			civilian_factory_use = 5
		}
		ai_will_do = {
			base = 1
			modifier = {
				has_country_leader = {
					name = "Erza"
				}
				add = 1
			}
			modifier = {
				FROM.OWNER = {
					check_variable = {
						owned_states < 2
					}
				}
				add = 1
			}
			modifier = {
				FROM.OWNER = {
					check_variable = {
						var = wfl_investments_count
						value = 0
						compare = greater_than
					}
				}
				add = 10
			}
			modifier = {
				FROM.OWNER = {
					check_variable = {
						var = mtth:wfl_get_investments_count
						value = mtth:wfl_puppet_cost
						compare = greater_than_or_equals
					}
				}
				add = -100
			}
			modifier = {
				num_of_civilian_factories_available_for_projects < 20
				add = -100
			}
			modifier = {
				num_of_civilian_factories_available_for_projects > 34
				add = 100
			}
		}
		state_target = yes
		on_map_mode = map_only
		#target_array = all_states
		target_trigger = {
			FROM = {
				#is_capital = yes
				CONTROLLER = {
					NOT = {
						OR = {
							tag = ROOT
							is_puppet_of = ROOT
						}
					}
				}
			}
		}
		cost = 100
		fire_only_once = no
		days_remove = 30
		remove_effect = {
			FROM = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
				OWNER = {
					add_to_variable = {
						wfl_investments_count = 1
					}
				}
			}
		}
	}
	wfl_create_puppet_decision2 = {
		name = wfl_create_puppet_decision2.t
		icon = wfl_create_puppet_decision
		visible = {
			FROM = {
				NOT = {
					is_puppet_of = ROOT
				}
				check_variable = {
					var = wfl_investments_count
					value = 0
					compare = greater_than
				}
				exists = yes
			}
		}
		ai_will_do = {
			factor = 1000
		}
		available = {
			FROM = {
				has_war = no
			}
			custom_trigger_tooltip = {
				tooltip = wfl_create_puppet_decision_tt
				check_variable = {
					var = mtth:wfl_get_investments_count
					value = mtth:wfl_puppet_cost
					compare = greater_than_or_equals
				}
			}
		}
		#state_target = yes
		#on_map_mode = map_only
		#target_array = all_states
		target_trigger = {
			FROM = {
				NOT = {
					is_puppet_of = ROOT
				}
			}
		}
		cost = 300
		fire_only_once = no
		complete_effect = {
			puppet = FROM
		}
	}
}

wfl_resources_category_2 = {
	wfl_find_resources_decision = {
		name = wfl_find_resources_decision.t
		icon = generic_construction
		cost = 50
		days_remove = 30
		on_map_mode = map_and_decisions_view
		state_target = yes
		target_array = owned_controlled_states
		fire_only_once = yes
		available = {
			num_of_civilian_factories_available_for_projects > 1
		}
		modifier = {
			civilian_factory_use = 1
		}
		visible = {
			#has_tech = excavation1
			#excavation5
		}
		target_trigger = {
			FROM = {
				#NOT = {
				#	has_state_flag = wfl_find_resources
				#}
				NOT = {
					steel > 0
					oil > 0
					aluminium > 0
					tungsten > 0
					chromium > 0
				}
			}
		}
		ai_will_do = {
			base = 1
			modifier = {
				check_variable = {
					var = resource@steel
					value = 0
					compare = less_than
				}
				add = 1
			}
			modifier = {
				check_variable = {
					var = resource@oil
					value = 0
					compare = less_than
				}
				add = 1
			}
			modifier = {
				check_variable = {
					var = resource@aluminium
					value = 0
					compare = less_than
				}
				add = 1
			}
			modifier = {
				check_variable = {
					var = resource@tungsten
					value = 0
					compare = less_than
				}
				add = 1
			}
			modifier = {
				check_variable = {
					var = resource@chromium
					value = 0
					compare = less_than
				}
				add = 1
			}
		}
		remove_effect = {
			FROM = {
				#set_state_flag = wfl_find_resources
				random_list = {
					20 = {
						add_resource = {
							type = steel
							amount = 8
						}
					}
					20 = {
						add_resource = {
							type = oil
							amount = 8
						}
					}
					20 = {
						add_resource = {
							type = aluminium
							amount = 8
						}
					}
					20 = {
						add_resource = {
							type = tungsten
							amount = 8
						}
					}
					20 = {
						add_resource = {
							type = chromium
							amount = 8
						}
					}
				}
			}
		}
	}
	wfl_up_resources_decision_1 = {
		name = wfl_up_resources_decision.t
		icon = generic_construction
		cost = 100
		days_remove = 30
		#days_re_enable = 90
		on_map_mode = map_and_decisions_view
		state_target = yes
		target_array = owned_controlled_states
		fire_only_once = yes
		available = {
			has_tech = excavation2
			num_of_civilian_factories_available_for_projects > 3
		}
		modifier = {
			civilian_factory_use = 3
		}
		ai_will_do = {
			base = 1
			modifier = {
				FROM = {
					has_resources_amount = {
						resource = steel
						amount > 0
					}
				}
				check_variable = {
					var = resource@steel
					value = 0
					compare = less_than
				}
				add = 4
			}
			modifier = {
				FROM = {
					has_resources_amount = {
						resource = oil
						amount > 0
					}
				}
				check_variable = {
					var = resource@oil
					value = 0
					compare = less_than
				}
				add = 1
			}
			modifier = {
				FROM = {
					has_resources_amount = {
						resource = aluminium
						amount > 0
					}
				}
				check_variable = {
					var = resource@aluminium
					value = 0
					compare = less_than
				}
				add = 1
			}
			modifier = {
				FROM = {
					has_resources_amount = {
						resource = tungsten
						amount > 0
					}
				}
				check_variable = {
					var = resource@tungsten
					value = 0
					compare = less_than
				}
				add = 1
			}
			modifier = {
				FROM = {
					has_resources_amount = {
						resource = chromium
						amount > 0
					}
				}
				check_variable = {
					var = resource@chromium
					value = 0
					compare = less_than
				}
				add = 1
			}
		}
		visible = {
			FROM = {
				NOT = {
					has_state_flag = wfl_up_resources_1
				}
			}
		}
		target_trigger = {
			FROM = {
				#has_state_flag = wfl_find_resources
				#NOT = {
				#	has_state_flag = wfl_up_resources_1
				#}
				OR = {
					steel > 0
					oil > 0
					aluminium > 0
					tungsten > 0
					chromium > 0
				}
			}
		}
		remove_effect = {
			FROM = {
				wfl_up_resources_state = yes
				set_state_flag = wfl_up_resources_1
			}
		}
	}
	wfl_up_resources_decision_2 = {
		name = wfl_up_resources_decision.t
		icon = generic_construction
		cost = 150
		days_remove = 45
		#days_re_enable = 90
		on_map_mode = map_and_decisions_view
		state_target = yes
		target_array = owned_controlled_states
		fire_only_once = yes
		available = {
			has_tech = excavation3
			num_of_civilian_factories_available_for_projects > 5
		}
		visible = {
			FROM = {
				has_state_flag = wfl_up_resources_1
				NOT = {
					has_state_flag = wfl_up_resources_2
				}
			}
		}
		modifier = {
			civilian_factory_use = 5
		}
		ai_will_do = {
			base = 1
			modifier = {
				FROM = {
					has_resources_amount = {
						resource = steel
						amount > 0
					}
				}
				check_variable = {
					var = resource@steel
					value = 0
					compare = less_than
				}
				add = 4
			}
			modifier = {
				FROM = {
					has_resources_amount = {
						resource = oil
						amount > 0
					}
				}
				check_variable = {
					var = resource@oil
					value = 0
					compare = less_than
				}
				add = 1
			}
			modifier = {
				FROM = {
					has_resources_amount = {
						resource = aluminium
						amount > 0
					}
				}
				check_variable = {
					var = resource@aluminium
					value = 0
					compare = less_than
				}
				add = 1
			}
			modifier = {
				FROM = {
					has_resources_amount = {
						resource = tungsten
						amount > 0
					}
				}
				check_variable = {
					var = resource@tungsten
					value = 0
					compare = less_than
				}
				add = 1
			}
			modifier = {
				FROM = {
					has_resources_amount = {
						resource = chromium
						amount > 0
					}
				}
				check_variable = {
					var = resource@chromium
					value = 0
					compare = less_than
				}
				add = 1
			}
		}
		target_trigger = {
			always = yes
		}
		remove_effect = {
			FROM = {
				wfl_up_resources_state = yes
				set_state_flag = wfl_up_resources_2
			}
		}
	}
	wfl_up_resources_decision_3 = {
		name = wfl_up_resources_decision.t
		icon = generic_construction
		cost = 200
		days_remove = 60
		#days_re_enable = 90
		on_map_mode = map_and_decisions_view
		state_target = yes
		target_array = owned_controlled_states
		fire_only_once = yes
		available = {
			has_tech = excavation4
			num_of_civilian_factories_available_for_projects > 7
		}
		visible = {
			FROM = {
				has_state_flag = wfl_up_resources_2
				NOT = {
					has_state_flag = wfl_up_resources_3
				}
			}
		}
		modifier = {
			civilian_factory_use = 7
		}
		ai_will_do = {
			base = 1
			modifier = {
				FROM = {
					has_resources_amount = {
						resource = steel
						amount > 0
					}
				}
				check_variable = {
					var = resource@steel
					value = 0
					compare = less_than
				}
				add = 4
			}
			modifier = {
				FROM = {
					has_resources_amount = {
						resource = oil
						amount > 0
					}
				}
				check_variable = {
					var = resource@oil
					value = 0
					compare = less_than
				}
				add = 1
			}
			modifier = {
				FROM = {
					has_resources_amount = {
						resource = aluminium
						amount > 0
					}
				}
				check_variable = {
					var = resource@aluminium
					value = 0
					compare = less_than
				}
				add = 1
			}
			modifier = {
				FROM = {
					has_resources_amount = {
						resource = tungsten
						amount > 0
					}
				}
				check_variable = {
					var = resource@tungsten
					value = 0
					compare = less_than
				}
				add = 1
			}
			modifier = {
				FROM = {
					has_resources_amount = {
						resource = chromium
						amount > 0
					}
				}
				check_variable = {
					var = resource@chromium
					value = 0
					compare = less_than
				}
				add = 1
			}
		}
		target_trigger = {
			always = yes
		}
		remove_effect = {
			FROM = {
				wfl_up_resources_state = yes
				set_state_flag = wfl_up_resources_3
			}
		}
	}
	wfl_up_resources_decision_4 = {
		name = wfl_up_resources_decision.t
		icon = generic_construction
		cost = 250
		days_remove = 75
		#days_re_enable = 90
		on_map_mode = map_and_decisions_view
		state_target = yes
		target_array = owned_controlled_states
		fire_only_once = yes
		available = {
			has_tech = excavation5
			num_of_civilian_factories_available_for_projects > 10
		}
		visible = {
			FROM = {
				has_state_flag = wfl_up_resources_3
				NOT = {
					has_state_flag = wfl_up_resources_4
				}
			}
		}
		modifier = {
			civilian_factory_use = 10
		}
		ai_will_do = {
			base = 1
			modifier = {
				FROM = {
					has_resources_amount = {
						resource = steel
						amount > 0
					}
				}
				check_variable = {
					var = resource@steel
					value = 0
					compare = less_than
				}
				add = 4
			}
			modifier = {
				FROM = {
					has_resources_amount = {
						resource = oil
						amount > 0
					}
				}
				check_variable = {
					var = resource@oil
					value = 0
					compare = less_than
				}
				add = 1
			}
			modifier = {
				FROM = {
					has_resources_amount = {
						resource = aluminium
						amount > 0
					}
				}
				check_variable = {
					var = resource@aluminium
					value = 0
					compare = less_than
				}
				add = 1
			}
			modifier = {
				FROM = {
					has_resources_amount = {
						resource = tungsten
						amount > 0
					}
				}
				check_variable = {
					var = resource@tungsten
					value = 0
					compare = less_than
				}
				add = 1
			}
			modifier = {
				FROM = {
					has_resources_amount = {
						resource = chromium
						amount > 0
					}
				}
				check_variable = {
					var = resource@chromium
					value = 0
					compare = less_than
				}
				add = 1
			}
		}
		target_trigger = {
			always = yes
		}
		remove_effect = {
			FROM = {
				wfl_up_resources_state = yes
				set_state_flag = wfl_up_resources_4
			}
		}
	}
}

wfl_urbanisation_category = {
	wfl_urbanisation_state_1 = {
		name = wfl_urbanisation_state.t
		icon = generic_construction
		state_target = yes
		on_map_mode = map_and_decisions_view
		target_array = core_states
		fire_only_once = yes
		days_remove = 30
		cost = 50
		modifier = {
			civilian_factory_use = 1
		}
		target_trigger = {
			FROM = {
				OR = {
					has_state_category = wasteland
					has_state_category = tiny_island
					has_state_category = enclave
				}
				impassable = no
				is_owned_by = ROOT
			}
		}
		visible = {
		}
		available = {
			has_tech = construction1
			FROM = {
				infrastructure > 1
				#state_population > urbanize_statepop
			}
			num_of_civilian_factories_available_for_projects > 1
			#has_war = no
		}
		remove_trigger = {
			ROOT = {
				NOT = {
					has_full_control_of_state = FROM
				}
			}
		}
		remove_effect = {
			FROM = {
				urbanize_state = yes
			}
		}
		ai_will_do = {
			base = 1
			modifier = {
				all_owned_state = {
					free_building_slots = {
						building = arms_factory
						size < 1
						include_locked = yes
					}
				}
				add = 4
			}
		}
	}
	wfl_urbanisation_state_2 = {
		name = wfl_urbanisation_state.t
		icon = generic_construction
		state_target = yes
		on_map_mode = map_and_decisions_view
		target_array = core_states
		fire_only_once = yes
		days_remove = 30
		cost = 75
		modifier = {
			civilian_factory_use = 2
		}
		target_trigger = {
			FROM = {
				has_state_category = pastoral
				impassable = no
				is_owned_by = ROOT
			}
		}
		visible = {
		}
		available = {
			has_tech = construction1
			FROM = {
				infrastructure > 2
				#state_population > urbanize_statepop
			}
			num_of_civilian_factories_available_for_projects > 2
			#has_war = no
		}
		remove_trigger = {
			ROOT = {
				NOT = {
					has_full_control_of_state = FROM
				}
			}
		}
		remove_effect = {
			FROM = {
				urbanize_state = yes
			}
		}
		ai_will_do = {
			base = 1
			modifier = {
				all_owned_state = {
					free_building_slots = {
						building = arms_factory
						size < 1
						include_locked = yes
					}
				}
				add = 4
			}
		}
	}
	wfl_urbanisation_state_3 = {
		name = wfl_urbanisation_state.t
		icon = generic_construction
		state_target = yes
		on_map_mode = map_and_decisions_view
		target_array = core_states
		fire_only_once = yes
		days_remove = 45
		cost = 100
		modifier = {
			civilian_factory_use = 3
		}
		target_trigger = {
			FROM = {
				has_state_category = rural
				impassable = no
				is_owned_by = ROOT
			}
		}
		visible = {
		}
		available = {
			has_tech = construction1
			FROM = {
				infrastructure > 3
				#state_population > urbanize_statepop
			}
			num_of_civilian_factories_available_for_projects > 3
			#has_war = no
		}
		remove_trigger = {
			ROOT = {
				NOT = {
					has_full_control_of_state = FROM
				}
			}
		}
		remove_effect = {
			FROM = {
				urbanize_state = yes
			}
		}
		ai_will_do = {
			base = 1
			modifier = {
				all_owned_state = {
					free_building_slots = {
						building = arms_factory
						size < 1
						include_locked = yes
					}
				}
				add = 4
			}
		}
	}
	wfl_urbanisation_state_4 = {
		name = wfl_urbanisation_state.t
		icon = generic_construction
		state_target = yes
		on_map_mode = map_and_decisions_view
		target_array = core_states
		fire_only_once = yes
		days_remove = 45
		cost = 125
		modifier = {
			civilian_factory_use = 4
		}
		target_trigger = {
			FROM = {
				has_state_category = town
				impassable = no
				is_owned_by = ROOT
			}
		}
		visible = {
		}
		available = {
			has_tech = construction1
			FROM = {
				infrastructure > 4
				#state_population > urbanize_statepop
			}
			num_of_civilian_factories_available_for_projects > 4
			#has_war = no
		}
		remove_trigger = {
			ROOT = {
				NOT = {
					has_full_control_of_state = FROM
				}
			}
		}
		remove_effect = {
			FROM = {
				urbanize_state = yes
			}
		}
		ai_will_do = {
			base = 1
			modifier = {
				all_owned_state = {
					free_building_slots = {
						building = arms_factory
						size < 1
						include_locked = yes
					}
				}
				add = 4
			}
		}
	}
	wfl_urbanisation_state_5 = {
		name = wfl_urbanisation_state.t
		icon = generic_construction
		state_target = yes
		on_map_mode = map_and_decisions_view
		target_array = core_states
		fire_only_once = yes
		days_remove = 60
		cost = 150
		modifier = {
			civilian_factory_use = 5
		}
		target_trigger = {
			FROM = {
				has_state_category = large_town
				impassable = no
				is_owned_by = ROOT
			}
		}
		visible = {
		}
		available = {
			has_tech = construction2
			FROM = {
				infrastructure > 5
				#state_population > urbanize_statepop
			}
			num_of_civilian_factories_available_for_projects > 5
			#has_war = no
		}
		remove_trigger = {
			ROOT = {
				NOT = {
					has_full_control_of_state = FROM
				}
			}
		}
		remove_effect = {
			FROM = {
				urbanize_state = yes
			}
		}
		ai_will_do = {
			base = 1
			modifier = {
				all_owned_state = {
					free_building_slots = {
						building = arms_factory
						size < 1
						include_locked = yes
					}
				}
				add = 4
			}
		}
	}
	wfl_urbanisation_state_6 = {
		name = wfl_urbanisation_state.t
		icon = generic_construction
		state_target = yes
		on_map_mode = map_and_decisions_view
		target_array = core_states
		fire_only_once = yes
		days_remove = 60
		cost = 175
		modifier = {
			civilian_factory_use = 6
		}
		target_trigger = {
			FROM = {
				has_state_category = city
				impassable = no
				is_owned_by = ROOT
			}
		}
		visible = {
		}
		available = {
			has_tech = construction3
			FROM = {
				infrastructure > 6
				#state_population > urbanize_statepop
			}
			num_of_civilian_factories_available_for_projects > 6
			#has_war = no
		}
		remove_trigger = {
			ROOT = {
				NOT = {
					has_full_control_of_state = FROM
				}
			}
		}
		remove_effect = {
			FROM = {
				urbanize_state = yes
			}
		}
		ai_will_do = {
			base = 1
			modifier = {
				all_owned_state = {
					free_building_slots = {
						building = arms_factory
						size < 1
						include_locked = yes
					}
				}
				add = 4
			}
		}
	}
	wfl_urbanisation_state_7 = {
		name = wfl_urbanisation_state.t
		icon = generic_construction
		state_target = yes
		on_map_mode = map_and_decisions_view
		target_array = core_states
		fire_only_once = yes
		days_remove = 75
		cost = 200
		modifier = {
			civilian_factory_use = 7
		}
		target_trigger = {
			FROM = {
				has_state_category = large_city
				impassable = no
				is_owned_by = ROOT
			}
		}
		visible = {
		}
		available = {
			has_tech = construction4
			FROM = {
				infrastructure > 7
				#state_population > urbanize_statepop
			}
			num_of_civilian_factories_available_for_projects > 7
			#has_war = no
		}
		remove_trigger = {
			ROOT = {
				NOT = {
					has_full_control_of_state = FROM
				}
			}
		}
		remove_effect = {
			FROM = {
				urbanize_state = yes
			}
		}
		ai_will_do = {
			base = 1
			modifier = {
				all_owned_state = {
					free_building_slots = {
						building = arms_factory
						size < 1
						include_locked = yes
					}
				}
				add = 4
			}
		}
	}
	wfl_urbanisation_state_8 = {
		name = wfl_urbanisation_state.t
		icon = generic_construction
		state_target = yes
		on_map_mode = map_and_decisions_view
		target_array = core_states
		fire_only_once = yes
		days_remove = 75
		cost = 225
		modifier = {
			civilian_factory_use = 8
		}
		target_trigger = {
			FROM = {
				has_state_category = metropolis
				impassable = no
				is_owned_by = ROOT
			}
		}
		visible = {
		}
		available = {
			has_tech = construction5
			FROM = {
				infrastructure > 8
				#state_population > urbanize_statepop
			}
			num_of_civilian_factories_available_for_projects > 8
			#has_war = no
		}
		remove_trigger = {
			ROOT = {
				NOT = {
					has_full_control_of_state = FROM
				}
			}
		}
		remove_effect = {
			FROM = {
				urbanize_state = yes
			}
		}
		ai_will_do = {
			base = 1
			modifier = {
				all_owned_state = {
					free_building_slots = {
						building = arms_factory
						size < 1
						include_locked = yes
					}
				}
				add = 4
			}
		}
	}
}

wfl_resources_category = {
	wfl_find_steel_decision = {
		icon = generic_construction
		cost = 100
		days_remove = 30
		available = {
			num_of_civilian_factories_available_for_projects > 2
			any_owned_state = {
				is_controlled_by = ROOT
				custom_trigger_tooltip = {
					tooltip = wfl_not_find_resources_in_this_state
					NOT = {
						has_state_flag = wfl_find_resources
					}
				}
			}
			custom_trigger_tooltip = {
				tooltip = wfl_not_find_resources_run
				NOT = {
					has_country_flag = wfl_find_resources_run
				}
			}
		}
		modifier = {
			civilian_factory_use = 3
		}
		ai_will_do = {
			base = 1
			modifier = {
				check_variable = {
					var = resource@steel
					value = 0
					compare = less_than
				}
				add = 1
			}
		}
		remove_effect = {
			clr_country_flag = wfl_find_resources_run
			custom_effect_tooltip = wfl_find_steel_tt
			hidden_effect = {
				random_owned_controlled_state = {
					limit = {
						NOT = {
							has_state_flag = wfl_find_resources
						}
					}
					set_state_flag = wfl_find_resources
					randomize_temp_variable = {
						var = res_amount
						distribution = uniform
						min = 10
						max = 30
					}
					add_resource = {
						type = steel
						amount = var:res_amount
					}
				}
			}
		}
		complete_effect = {
			set_country_flag = wfl_find_resources_run
		}
	}
	wfl_find_aluminium_decision = {
		icon = generic_construction
		cost = 100
		days_remove = 30
		available = {
			num_of_civilian_factories_available_for_projects > 2
			any_owned_state = {
				is_controlled_by = ROOT
				custom_trigger_tooltip = {
					tooltip = wfl_not_find_resources_in_this_state
					NOT = {
						has_state_flag = wfl_find_resources
					}
				}
			}
			custom_trigger_tooltip = {
				tooltip = wfl_not_find_resources_run
				NOT = {
					has_country_flag = wfl_find_resources_run
				}
			}
		}
		modifier = {
			civilian_factory_use = 3
		}
		ai_will_do = {
			base = 1
			modifier = {
				check_variable = {
					var = resource@aluminium
					value = 0
					compare = less_than
				}
				add = 1
			}
		}
		remove_effect = {
			clr_country_flag = wfl_find_resources_run
			custom_effect_tooltip = wfl_find_aluminium_tt
			hidden_effect = {
				random_owned_controlled_state = {
					limit = {
						NOT = {
							has_state_flag = wfl_find_resources
						}
					}
					set_state_flag = wfl_find_resources
					randomize_temp_variable = {
						var = res_amount
						distribution = uniform
						min = 10
						max = 30
					}
					add_resource = {
						type = aluminium
						amount = var:res_amount
					}
				}
			}
		}
		complete_effect = {
			set_country_flag = wfl_find_resources_run
		}
	}
	wfl_find_tungsten_decision = {
		icon = generic_construction
		cost = 100
		days_remove = 30
		available = {
			num_of_civilian_factories_available_for_projects > 2
			any_owned_state = {
				is_controlled_by = ROOT
				custom_trigger_tooltip = {
					tooltip = wfl_not_find_resources_in_this_state
					NOT = {
						has_state_flag = wfl_find_resources
					}
				}
			}
			custom_trigger_tooltip = {
				tooltip = wfl_not_find_resources_run
				NOT = {
					has_country_flag = wfl_find_resources_run
				}
			}
		}
		modifier = {
			civilian_factory_use = 3
		}
		ai_will_do = {
			base = 1
			modifier = {
				check_variable = {
					var = resource@tungsten
					value = 0
					compare = less_than
				}
				add = 1
			}
		}
		remove_effect = {
			clr_country_flag = wfl_find_resources_run
			custom_effect_tooltip = wfl_find_tungsten_tt
			hidden_effect = {
				random_owned_controlled_state = {
					limit = {
						NOT = {
							has_state_flag = wfl_find_resources
						}
					}
					set_state_flag = wfl_find_resources
					randomize_temp_variable = {
						var = res_amount
						distribution = uniform
						min = 10
						max = 30
					}
					add_resource = {
						type = tungsten
						amount = var:res_amount
					}
				}
			}
		}
		complete_effect = {
			set_country_flag = wfl_find_resources_run
		}
	}
	wfl_find_chromium_decision = {
		icon = generic_construction
		cost = 100
		days_remove = 30
		available = {
			num_of_civilian_factories_available_for_projects > 2
			any_owned_state = {
				is_controlled_by = ROOT
				custom_trigger_tooltip = {
					tooltip = wfl_not_find_resources_in_this_state
					NOT = {
						has_state_flag = wfl_find_resources
					}
				}
			}
			custom_trigger_tooltip = {
				tooltip = wfl_not_find_resources_run
				NOT = {
					has_country_flag = wfl_find_resources_run
				}
			}
		}
		modifier = {
			civilian_factory_use = 3
		}
		ai_will_do = {
			base = 1
			modifier = {
				check_variable = {
					var = resource@chromium
					value = 0
					compare = less_than
				}
				add = 1
			}
		}
		remove_effect = {
			clr_country_flag = wfl_find_resources_run
			custom_effect_tooltip = wfl_find_chromium_tt
			hidden_effect = {
				random_owned_controlled_state = {
					limit = {
						NOT = {
							has_state_flag = wfl_find_resources
						}
					}
					set_state_flag = wfl_find_resources
					randomize_temp_variable = {
						var = res_amount
						distribution = uniform
						min = 10
						max = 30
					}
					add_resource = {
						type = chromium
						amount = var:res_amount
					}
				}
			}
		}
		complete_effect = {
			set_country_flag = wfl_find_resources_run
		}
	}
	wfl_find_oil_decision = {
		icon = generic_construction
		cost = 100
		days_remove = 30
		available = {
			num_of_civilian_factories_available_for_projects > 2
			any_owned_state = {
				is_controlled_by = ROOT
				custom_trigger_tooltip = {
					tooltip = wfl_not_find_resources_in_this_state
					NOT = {
						has_state_flag = wfl_find_resources
					}
				}
			}
			custom_trigger_tooltip = {
				tooltip = wfl_not_find_resources_run
				NOT = {
					has_country_flag = wfl_find_resources_run
				}
			}
		}
		modifier = {
			civilian_factory_use = 3
		}
		ai_will_do = {
			base = 1
			modifier = {
				check_variable = {
					var = resource@oil
					value = 0
					compare = less_than
				}
				add = 1
			}
		}
		remove_effect = {
			clr_country_flag = wfl_find_resources_run
			custom_effect_tooltip = wfl_find_oil_tt
			hidden_effect = {
				random_owned_controlled_state = {
					limit = {
						NOT = {
							has_state_flag = wfl_find_resources
						}
					}
					set_state_flag = wfl_find_resources
					randomize_temp_variable = {
						var = res_amount
						distribution = uniform
						min = 10
						max = 30
					}
					add_resource = {
						type = oil
						amount = var:res_amount
					}
				}
			}
		}
		complete_effect = {
			set_country_flag = wfl_find_resources_run
		}
	}
}

wfl_resources_puppets_category = {
	wfl_find_steel_puppets_puppets_decision = {
		icon = generic_construction
		cost = 150
		days_remove = 30
		available = {
			num_of_civilian_factories_available_for_projects > 2
			any_state = {
				OWNER = {
					is_subject_of = ROOT
				}
				is_fully_controlled_by = OWNER
				custom_trigger_tooltip = {
					tooltip = wfl_not_find_resources_in_this_state
					NOT = {
						has_state_flag = wfl_find_resources
					}
				}
			}
			custom_trigger_tooltip = {
				tooltip = wfl_not_find_resources_run
				NOT = {
					has_country_flag = wfl_find_resources_puppets_run
				}
			}
		}
		visible = {
			num_subjects > 0
		}
		modifier = {
			civilian_factory_use = 3
		}
		ai_will_do = {
			base = 1
			modifier = {
				check_variable = {
					var = resource@steel
					value = 0
					compare = less_than
				}
				add = 1
			}
		}
		remove_effect = {
			clr_country_flag = wfl_find_resources_puppets_run
			custom_effect_tooltip = wfl_find_steel_tt
			hidden_effect = {
				random_state = {
					limit = {
						OWNER = {
							is_subject_of = ROOT
						}
						is_fully_controlled_by = OWNER
						NOT = {
							has_state_flag = wfl_find_resources
						}
					}
					set_state_flag = wfl_find_resources
					randomize_temp_variable = {
						var = res_amount
						distribution = uniform
						min = 10
						max = 30
					}
					add_resource = {
						type = steel
						amount = var:res_amount
					}
				}
			}
		}
		complete_effect = {
			set_country_flag = wfl_find_resources_puppets_run
		}
	}
	wfl_find_aluminium_puppets_decision = {
		icon = generic_construction
		cost = 150
		days_remove = 30
		available = {
			num_of_civilian_factories_available_for_projects > 2
			any_state = {
				OWNER = {
					is_subject_of = ROOT
				}
				is_fully_controlled_by = OWNER
				custom_trigger_tooltip = {
					tooltip = wfl_not_find_resources_in_this_state
					NOT = {
						has_state_flag = wfl_find_resources
					}
				}
			}
			custom_trigger_tooltip = {
				tooltip = wfl_not_find_resources_run
				NOT = {
					has_country_flag = wfl_find_resources_puppets_run
				}
			}
		}
		modifier = {
			civilian_factory_use = 3
		}
		ai_will_do = {
			base = 1
			modifier = {
				check_variable = {
					var = resource@aluminium
					value = 0
					compare = less_than
				}
				add = 1
			}
		}
		remove_effect = {
			clr_country_flag = wfl_find_resources_puppets_run
			custom_effect_tooltip = wfl_find_aluminium_tt
			hidden_effect = {
				random_state = {
					limit = {
						OWNER = {
							is_subject_of = ROOT
						}
						is_fully_controlled_by = OWNER
						NOT = {
							has_state_flag = wfl_find_resources
						}
					}
					set_state_flag = wfl_find_resources
					randomize_temp_variable = {
						var = res_amount
						distribution = uniform
						min = 10
						max = 30
					}
					add_resource = {
						type = aluminium
						amount = var:res_amount
					}
				}
			}
		}
		complete_effect = {
			set_country_flag = wfl_find_resources_puppets_run
		}
	}
	wfl_find_tungsten_puppets_decision = {
		icon = generic_construction
		cost = 150
		days_remove = 30
		available = {
			num_of_civilian_factories_available_for_projects > 2
			any_state = {
				OWNER = {
					is_subject_of = ROOT
				}
				is_fully_controlled_by = OWNER
				custom_trigger_tooltip = {
					tooltip = wfl_not_find_resources_in_this_state
					NOT = {
						has_state_flag = wfl_find_resources
					}
				}
			}
			custom_trigger_tooltip = {
				tooltip = wfl_not_find_resources_run
				NOT = {
					has_country_flag = wfl_find_resources_puppets_run
				}
			}
		}
		modifier = {
			civilian_factory_use = 3
		}
		ai_will_do = {
			base = 1
			modifier = {
				check_variable = {
					var = resource@tungsten
					value = 0
					compare = less_than
				}
				add = 1
			}
		}
		remove_effect = {
			clr_country_flag = wfl_find_resources_puppets_run
			custom_effect_tooltip = wfl_find_tungsten_tt
			hidden_effect = {
				random_state = {
					limit = {
						OWNER = {
							is_subject_of = ROOT
						}
						is_fully_controlled_by = OWNER
						NOT = {
							has_state_flag = wfl_find_resources
						}
					}
					set_state_flag = wfl_find_resources
					randomize_temp_variable = {
						var = res_amount
						distribution = uniform
						min = 10
						max = 30
					}
					add_resource = {
						type = tungsten
						amount = var:res_amount
					}
				}
			}
		}
		complete_effect = {
			set_country_flag = wfl_find_resources_puppets_run
		}
	}
	wfl_find_chromium_puppets_decision = {
		icon = generic_construction
		cost = 150
		days_remove = 30
		available = {
			num_of_civilian_factories_available_for_projects > 2
			any_state = {
				OWNER = {
					is_subject_of = ROOT
				}
				is_fully_controlled_by = OWNER
				custom_trigger_tooltip = {
					tooltip = wfl_not_find_resources_in_this_state
					NOT = {
						has_state_flag = wfl_find_resources
					}
				}
			}
			custom_trigger_tooltip = {
				tooltip = wfl_not_find_resources_run
				NOT = {
					has_country_flag = wfl_find_resources_puppets_run
				}
			}
		}
		modifier = {
			civilian_factory_use = 3
		}
		ai_will_do = {
			base = 1
			modifier = {
				check_variable = {
					var = resource@chromium
					value = 0
					compare = less_than
				}
				add = 1
			}
		}
		remove_effect = {
			clr_country_flag = wfl_find_resources_puppets_run
			custom_effect_tooltip = wfl_find_chromium_tt
			hidden_effect = {
				random_state = {
					limit = {
						OWNER = {
							is_subject_of = ROOT
						}
						is_fully_controlled_by = OWNER
						NOT = {
							has_state_flag = wfl_find_resources
						}
					}
					set_state_flag = wfl_find_resources
					randomize_temp_variable = {
						var = res_amount
						distribution = uniform
						min = 10
						max = 30
					}
					add_resource = {
						type = chromium
						amount = var:res_amount
					}
				}
			}
		}
		complete_effect = {
			set_country_flag = wfl_find_resources_puppets_run
		}
	}
	wfl_find_oil_puppets_decision = {
		icon = generic_construction
		cost = 150
		days_remove = 30
		available = {
			num_of_civilian_factories_available_for_projects > 2
			any_state = {
				OWNER = {
					is_subject_of = ROOT
				}
				is_fully_controlled_by = OWNER
				custom_trigger_tooltip = {
					tooltip = wfl_not_find_resources_in_this_state
					NOT = {
						has_state_flag = wfl_find_resources
					}
				}
			}
			custom_trigger_tooltip = {
				tooltip = wfl_not_find_resources_run
				NOT = {
					has_country_flag = wfl_find_resources_puppets_run
				}
			}
		}
		modifier = {
			civilian_factory_use = 3
		}
		ai_will_do = {
			base = 1
			modifier = {
				check_variable = {
					var = resource@oil
					value = 0
					compare = less_than
				}
				add = 1
			}
		}
		remove_effect = {
			clr_country_flag = wfl_find_resources_puppets_run
			custom_effect_tooltip = wfl_find_oil_tt
			hidden_effect = {
				random_state = {
					limit = {
						OWNER = {
							is_subject_of = ROOT
						}
						is_fully_controlled_by = OWNER
						NOT = {
							has_state_flag = wfl_find_resources
						}
					}
					set_state_flag = wfl_find_resources
					randomize_temp_variable = {
						var = res_amount
						distribution = uniform
						min = 10
						max = 30
					}
					add_resource = {
						type = oil
						amount = var:res_amount
					}
				}
			}
		}
		complete_effect = {
			set_country_flag = wfl_find_resources_puppets_run
		}
	}
}
