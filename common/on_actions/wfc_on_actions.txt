on_actions = {
	on_startup = {
		effect = {
			ACW = {
				set_variable = {
					wfc_subsidies_to_building_count = 0
				}
				set_variable = {
					wfc_subsidies_to_building = 0
				}
				set_variable = {
					wfc_subsidies_to_factory_count = 0
				}
				set_variable = {
					wfc_subsidies_to_factory = 0
				}
				set_variable = {
					wfc_subsidies_to_dockyard_count = 0
				}
				set_variable = {
					wfc_subsidies_to_dockyard = 0
				}
				set_variable = {
					wfc_subsidies_to_research_count = 0
				}
				set_variable = {
					wfc_subsidies_to_research = 0
				}
				set_variable = {
					wfc_subsidies_to_nuclear_count = 0
				}
				set_variable = {
					wfc_subsidies_to_nuclear = 0
				}
				set_variable = {
					wfc_subsidies_to_resources_count = 0
				}
				set_variable = {
					wfc_subsidies_to_resources = 0
				}
				set_variable = {
					wfc_political_power_to_subsidies = 0
				}
				set_variable = {
					wfc_subsidies_count = 0
				}
				# if = {
				# 	limit = {
				# 		is_historical_focus_on = yes
				# 	}
				# 	add_timed_idea = {
				# 		idea = neutrality_influence
				# 		days = 720
				# 	}
				# }
				if = {
					limit = {
						OR = {
							AND = {
								is_historical_focus_on = no
								has_game_rule = {
									rule = ACW_ai_behavior
									option = DEFAULT
								}
							}
							has_game_rule = {
								rule = ACW_ai_behavior
								option = RANDOM
							}
						}
					}
					random_list = {
						50 = {
							set_country_flag = ACW_AI_RANDOM_HISTORICAL
						}
						50 = {
							set_country_flag = ACW_AI_RANDOM_DEMOCRATIC
						}
						50 = {
							set_country_flag = ACW_AI_RANDOM_COMMUNIST
						}
						50 = {
							set_country_flag = ACW_AI_RANDOM_FASCIST
						}
					}
				}
			}
			HEN = {
				set_variable = {
					wfc_subsidies_to_building_count = 0
				}
				set_variable = {
					wfc_subsidies_to_building = 0
				}
				set_variable = {
					wfc_subsidies_to_factory_count = 0
				}
				set_variable = {
					wfc_subsidies_to_factory = 0
				}
				set_variable = {
					wfc_subsidies_to_dockyard_count = 0
				}
				set_variable = {
					wfc_subsidies_to_dockyard = 0
				}
				set_variable = {
					wfc_subsidies_to_research_count = 0
				}
				set_variable = {
					wfc_subsidies_to_research = 0
				}
				set_variable = {
					wfc_subsidies_to_nuclear_count = 0
				}
				set_variable = {
					wfc_subsidies_to_nuclear = 0
				}
				set_variable = {
					wfc_subsidies_to_resources_count = 0
				}
				set_variable = {
					wfc_subsidies_to_resources = 0
				}
				set_variable = {
					wfc_political_power_to_subsidies = 0
				}
				set_variable = {
					wfc_subsidies_count = 0
				}
				if = {
					limit = {
						OR = {
							AND = {
								is_historical_focus_on = no
								has_game_rule = {
									rule = HEN_ai_behavior
									option = DEFAULT
								}
							}
							has_game_rule = {
								rule = HEN_ai_behavior
								option = RANDOM
							}
						}
					}
					random_list = {
						50 = {
							set_country_flag = HEN_AI_RANDOM_HISTORICAL
						}
						50 = {
							set_country_flag = HEN_AI_RANDOM_DEMOCRATIC
						}
						50 = {
							set_country_flag = HEN_AI_RANDOM_FASCIST
						}
						50 = {
							set_country_flag = HEN_AI_RANDOM_FASCIST_ALTERNATE
						}
						50 = {
							set_country_flag = HEN_AI_RANDOM_NEUTRALITY
						}
					}
				}
			}
			MAH = {
				set_variable = {
					wfc_subsidies_to_building_count = 0
				}
				set_variable = {
					wfc_subsidies_to_building = 0
				}
				set_variable = {
					wfc_subsidies_to_factory_count = 0
				}
				set_variable = {
					wfc_subsidies_to_factory = 0
				}
				set_variable = {
					wfc_subsidies_to_dockyard_count = 0
				}
				set_variable = {
					wfc_subsidies_to_dockyard = 0
				}
				set_variable = {
					wfc_subsidies_to_research_count = 0
				}
				set_variable = {
					wfc_subsidies_to_research = 0
				}
				set_variable = {
					wfc_subsidies_to_nuclear_count = 0
				}
				set_variable = {
					wfc_subsidies_to_nuclear = 0
				}
				set_variable = {
					wfc_subsidies_to_resources_count = 0
				}
				set_variable = {
					wfc_subsidies_to_resources = 0
				}
				set_variable = {
					wfc_political_power_to_subsidies = 0
				}
				set_variable = {
					wfc_subsidies_count = 0
				}
				if = {
					limit = {
						OR = {
							AND = {
								is_historical_focus_on = no
								has_game_rule = {
									rule = MAH_ai_behavior
									option = DEFAULT
								}
							}
							has_game_rule = {
								rule = MAH_ai_behavior
								option = RANDOM
							}
						}
					}
					random_list = {
						50 = {
							set_country_flag = MAH_AI_RANDOM_HISTORICAL
						}
						50 = {
							set_country_flag = MAH_AI_RANDOM_NEUTRALITY
						}
						50 = {
							set_country_flag = MAH_AI_RANDOM_COMMUNIST
						}
						50 = {
							set_country_flag = MAH_AI_RANDOM_FASCIST
						}
					}
				}
			}
			MEH = {
				#robofactory
				set_variable = {
					meh_robo_factory_production = 5000
				}
				#Бюджет
				set_variable = {
					wfc_subsidies_to_building_count = 0
				}
				set_variable = {
					wfc_subsidies_to_building = 0
				}
				set_variable = {
					wfc_subsidies_to_factory_count = 0
				}
				set_variable = {
					wfc_subsidies_to_factory = 0
				}
				set_variable = {
					wfc_subsidies_to_dockyard_count = 0
				}
				set_variable = {
					wfc_subsidies_to_dockyard = 0
				}
				set_variable = {
					wfc_subsidies_to_research_count = 0
				}
				set_variable = {
					wfc_subsidies_to_research = 0
				}
				set_variable = {
					wfc_subsidies_to_nuclear_count = 0
				}
				set_variable = {
					wfc_subsidies_to_nuclear = 0
				}
				set_variable = {
					wfc_subsidies_to_resources_count = 0
				}
				set_variable = {
					wfc_subsidies_to_resources = 0
				}
				set_variable = {
					wfc_political_power_to_subsidies = 0
				}
				set_variable = {
					wfc_subsidies_count = 0
				}
				if = {
					limit = {
						OR = {
							AND = {
								is_historical_focus_on = no
								has_game_rule = {
									rule = MEH_ai_behavior
									option = DEFAULT
								}
							}
							has_game_rule = {
								rule = MEH_ai_behavior
								option = RANDOM
							}
						}
					}
					random_list = {
						50 = {
							set_country_flag = MEH_AI_RANDOM_HISTORICAL
						}
						50 = {
							set_country_flag = MEH_AI_RANDOM_NEUTRALITY
						}
						50 = {
							set_country_flag = MEH_AI_RANDOM_COMMUNIST
						}
						50 = {
							set_country_flag = MEH_AI_RANDOM_DEMOCRATIC
						}
					}
				}
			}
			MMS = {
				#Бюджет
				set_variable = {
					wfc_subsidies_to_building_count = 0
				}
				set_variable = {
					wfc_subsidies_to_building = 0
				}
				set_variable = {
					wfc_subsidies_to_factory_count = 0
				}
				set_variable = {
					wfc_subsidies_to_factory = 0
				}
				set_variable = {
					wfc_subsidies_to_dockyard_count = 0
				}
				set_variable = {
					wfc_subsidies_to_dockyard = 0
				}
				set_variable = {
					wfc_subsidies_to_research_count = 0
				}
				set_variable = {
					wfc_subsidies_to_research = 0
				}
				set_variable = {
					wfc_subsidies_to_nuclear_count = 0
				}
				set_variable = {
					wfc_subsidies_to_nuclear = 0
				}
				set_variable = {
					wfc_subsidies_to_resources_count = 0
				}
				set_variable = {
					wfc_subsidies_to_resources = 0
				}
				set_variable = {
					wfc_political_power_to_subsidies = 0
				}
				set_variable = {
					wfc_subsidies_count = 0
				}
				#Тренировки Шамико
				set_variable = {
					mms_shamiko_attack = 5
				}
				set_variable = {
					mms_shamiko_defence = 5
				}
				set_variable = {
					mms_shamiko_speed = 5
				}
				set_variable = {
					mms_shamiko_workouts_count = 0
				}
				if = {
					limit = {
						OR = {
							AND = {
								is_historical_focus_on = no
								has_game_rule = {
									rule = MMS_ai_behavior
									option = DEFAULT
								}
							}
							has_game_rule = {
								rule = MMS_ai_behavior
								option = RANDOM
							}
						}
					}
					random_list = {
						50 = {
							set_country_flag = MMS_AI_RANDOM_HISTORICAL
						}
						50 = {
							set_country_flag = MMS_AI_RANDOM_FASCIST
						}
						50 = {
							set_country_flag = MMS_AI_RANDOM_COMMUNIST
						}
						50 = {
							set_country_flag = MMS_AI_RANDOM_DEMOCRATIC
						}
					}
				}
			}
			TRP = {
				set_variable = {
					wfc_subsidies_to_building_count = 0
				}
				set_variable = {
					wfc_subsidies_to_building = 0
				}
				set_variable = {
					wfc_subsidies_to_factory_count = 0
				}
				set_variable = {
					wfc_subsidies_to_factory = 0
				}
				set_variable = {
					wfc_subsidies_to_dockyard_count = 0
				}
				set_variable = {
					wfc_subsidies_to_dockyard = 0
				}
				set_variable = {
					wfc_subsidies_to_research_count = 0
				}
				set_variable = {
					wfc_subsidies_to_research = 0
				}
				set_variable = {
					wfc_subsidies_to_nuclear_count = 0
				}
				set_variable = {
					wfc_subsidies_to_nuclear = 0
				}
				set_variable = {
					wfc_subsidies_to_resources_count = 0
				}
				set_variable = {
					wfc_subsidies_to_resources = 0
				}
				set_variable = {
					wfc_political_power_to_subsidies = 0
				}
				set_variable = {
					wfc_subsidies_count = 0
				}
				if = {
					limit = {
						OR = {
							AND = {
								is_historical_focus_on = no
								has_game_rule = {
									rule = TRP_ai_behavior
									option = DEFAULT
								}
							}
							has_game_rule = {
								rule = TRP_ai_behavior
								option = RANDOM
							}
						}
					}
					random_list = {
						50 = {
							set_country_flag = TRP_AI_RANDOM_HISTORICAL
						}
						50 = {
							set_country_flag = TRP_AI_RANDOM_FASCIST
						}
						50 = {
							set_country_flag = TRP_AI_RANDOM_NEUTRALITY
						}
						50 = {
							set_country_flag = TRP_AI_RANDOM_DEMOCRATIC
						}
					}
				}
			}
			PER = {
				random_owned_controlled_state = {
					limit = {
						free_building_slots = {
							building = arms_factory
							size > 0
							include_locked = yes
						}
						OR = {
							is_in_home_area = yes
							NOT = {
								owner = {
									any_owned_state = {
										free_building_slots = {
											building = arms_factory
											size > 0
											include_locked = yes
										}
										is_in_home_area = yes
									}
								}
							}
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
				random_owned_controlled_state = {
					limit = {
						free_building_slots = {
							building = arms_factory
							size > 0
							include_locked = yes
						}
						OR = {
							is_in_home_area = yes
							NOT = {
								owner = {
									any_owned_state = {
										free_building_slots = {
											building = arms_factory
											size > 0
											include_locked = yes
										}
										is_in_home_area = yes
									}
								}
							}
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
				random_owned_controlled_state = {
					limit = {
						free_building_slots = {
							building = arms_factory
							size > 0
							include_locked = yes
						}
						OR = {
							is_in_home_area = yes
							NOT = {
								owner = {
									any_owned_state = {
										free_building_slots = {
											building = arms_factory
											size > 0
											include_locked = yes
										}
										is_in_home_area = yes
									}
								}
							}
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
				random_owned_controlled_state = {
					limit = {
						free_building_slots = {
							building = industrial_complex
							size > 0
							include_locked = yes
						}
						OR = {
							is_in_home_area = yes
							NOT = {
								owner = {
									any_owned_state = {
										free_building_slots = {
											building = industrial_complex
											size > 0
											include_locked = yes
										}
										is_in_home_area = yes
									}
								}
							}
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
				}
				random_owned_controlled_state = {
					limit = {
						free_building_slots = {
							building = industrial_complex
							size > 0
							include_locked = yes
						}
						OR = {
							is_in_home_area = yes
							NOT = {
								owner = {
									any_owned_state = {
										free_building_slots = {
											building = industrial_complex
											size > 0
											include_locked = yes
										}
										is_in_home_area = yes
									}
								}
							}
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
				}
				random_owned_controlled_state = {
					limit = {
						free_building_slots = {
							building = industrial_complex
							size > 0
							include_locked = yes
						}
						OR = {
							is_in_home_area = yes
							NOT = {
								owner = {
									any_owned_state = {
										free_building_slots = {
											building = industrial_complex
											size > 0
											include_locked = yes
										}
										is_in_home_area = yes
									}
								}
							}
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
				}
				random_owned_controlled_state = {
					limit = {
						free_building_slots = {
							building = industrial_complex
							size > 0
							include_locked = yes
						}
						OR = {
							is_in_home_area = yes
							NOT = {
								owner = {
									any_owned_state = {
										free_building_slots = {
											building = industrial_complex
											size > 0
											include_locked = yes
										}
										is_in_home_area = yes
									}
								}
							}
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
				}
				random_owned_controlled_state = {
					limit = {
						free_building_slots = {
							building = industrial_complex
							size > 0
							include_locked = yes
						}
						OR = {
							is_in_home_area = yes
							NOT = {
								owner = {
									any_owned_state = {
										free_building_slots = {
											building = industrial_complex
											size > 0
											include_locked = yes
										}
										is_in_home_area = yes
									}
								}
							}
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
				}
			}
		}
	}
	on_capitulation = {
		effect = {
			if = {
				limit = {
					original_tag = MEH
					has_global_flag = wfc_perimetr_flag
				}
				set_global_flag = meh_apocalypse_flag
				every_country = {
					add_ideas = wfc_apocalypse_idea
					every_country = {
						declare_war_on = {
							target = PREV
							type = annex_everything
						}
					}
				}
				#				every_state = {
				#					launch_nuke = {
				#						#province = 42
				#						state = THIS
				#						#controller = ROOT
				#						use_nuke = yes
				#					}
				#				}
				news_event = {
					id = wfc_news.5
					days = 0
				}
			}
			if = {
				limit = {
					tag = JAP
					HEN = {
						has_war_with = JAP
						is_ai = yes
					}
				}
				HEN = {
					set_country_flag = hen_world_conquest_enabled_flag
					remove_ideas = hen_attack_jap_bonus
					set_major = yes
					# transfer_state = 529
					# transfer_state = 530
					# transfer_state = 531
					# transfer_state = 532
					# transfer_state = 535
					# transfer_state = 282
					# transfer_state = 534
					# transfer_state = 533
					# transfer_state = 536
					# transfer_state = 537
					# transfer_state = 555
				}
				JAP = {
					transfer_navy = {
						target = HEN
					}
					every_owned_state = {
						limit = {
							is_core_of = JAP
						}
						HEN = {
							transfer_state = PREV
						}
					}
				}
			}
			if = {
				limit = {
					tag = PER
					MMS = {
						has_war_with = PER
						is_ai = yes
					}
				}
				MMS = {
					transfer_state = 419
					transfer_state = 421
					transfer_state = 420
					transfer_state = 417
					transfer_state = 413
					transfer_state = 266
					transfer_state = 418
					transfer_state = 411
					transfer_state = 412
					transfer_state = 416
					transfer_state = 414
					transfer_state = 410
				}
			}
			if = {
				limit = {
					tag = AFG
					MMS = {
						has_war_with = AFG
						is_ai = yes
					}
				}
				MMS = {
					transfer_state = 415
					transfer_state = 267
				}
			}
			if = {
				limit = {
					tag = ENG
					MAH = {
						has_war_with = ENG
						is_ai = yes
					}
				}
				ENG = {
					every_owned_state = {
						limit = {
							is_claimed_by = MAH
						}
						MAH = {
							transfer_state = PREV
						}
					}
				}
			}
			if = {
				limit = {
					tag = IRQ
					MAH = {
						has_war_with = IRQ
						is_ai = yes
					}
				}
				IRQ = {
					every_owned_state = {
						limit = {
							is_claimed_by = MAH
						}
						MAH = {
							transfer_state = PREV
						}
					}
				}
			}
			if = {
				limit = {
					tag = SAU
					MAH = {
						has_war_with = SAU
						is_ai = yes
					}
				}
				SAU = {
					every_owned_state = {
						limit = {
							is_claimed_by = MAH
						}
						MAH = {
							transfer_state = PREV
						}
					}
				}
			}
			if = {
				limit = {
					tag = OMA
					MAH = {
						has_war_with = OMA
						is_ai = yes
					}
				}
				OMA = {
					every_owned_state = {
						limit = {
							is_claimed_by = MAH
						}
						MAH = {
							transfer_state = PREV
						}
					}
				}
			}
			if = {
				limit = {
					tag = YEM
					MAH = {
						has_war_with = YEM
						is_ai = yes
					}
				}
				YEM = {
					every_owned_state = {
						limit = {
							is_claimed_by = MAH
						}
						MAH = {
							transfer_state = PREV
						}
					}
				}
			}
			if = {
				limit = {
					tag = QAT
					MAH = {
						has_war_with = QAT
						is_ai = yes
					}
				}
				QAT = {
					every_owned_state = {
						limit = {
							is_claimed_by = MAH
						}
						MAH = {
							transfer_state = PREV
						}
					}
				}
			}
			if = {
				limit = {
					tag = KUW
					MAH = {
						has_war_with = KUW
						is_ai = yes
					}
				}
				KUW = {
					every_owned_state = {
						limit = {
							is_claimed_by = MAH
						}
						MAH = {
							transfer_state = PREV
						}
					}
				}
			}
			if = {
				limit = {
					tag = UAE
					MAH = {
						has_war_with = UAE
						is_ai = yes
					}
				}
				UAE = {
					every_owned_state = {
						limit = {
							is_claimed_by = MAH
						}
						MAH = {
							transfer_state = PREV
						}
					}
				}
			}
			if = {
				limit = {
					tag = ZMB
				}
				every_state = {
					limit = {
						is_core_of = ZMB
					}
					remove_core_of = ZMB
				}
				MMS = {
					transfer_state = 411
				}
			}
			if = {
				limit = {
					tag = MEH
					has_idea = meh_exterminatus_idea
				}
				remove_ideas = meh_exterminatus_idea
			}
			if = {
				limit = {
					FROM = {
						original_tag = MMS
						has_country_leader_with_trait = defeatist
					}
				}
				
			}
		}
	}
	on_weekly_ZMB = {
		effect = {
			every_controlled_state = {
				limit = {
					is_fully_controlled_by = ZMB
					NOT = {
						is_core_of = ZMB
					}
				}
				# for_each_loop = {
				# 	array = core_countries
				# 	value = temp_tag
				# 	remove_core_of = temp_var:temp_tag
				# }
				add_core_of = ZMB
			}
		}
	}
}
